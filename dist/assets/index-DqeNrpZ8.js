var Ds=Object.defineProperty;var es=e=>{throw TypeError(e)};var Is=(e,i,s)=>i in e?Ds(e,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[i]=s;var In=(e,i,s)=>Is(e,typeof i!="symbol"?i+"":i,s),xr=(e,i,s)=>i.has(e)||es("Cannot "+s);var yt=(e,i,s)=>(xr(e,i,"read from private field"),s?s.call(e):i.get(e)),Kt=(e,i,s)=>i.has(e)?es("Cannot add the same private member more than once"):i instanceof WeakSet?i.add(e):i.set(e,s),Qt=(e,i,s,a)=>(xr(e,i,"write to private field"),a?a.call(e,s):i.set(e,s),s),Gt=(e,i,s)=>(xr(e,i,"access private method"),s);var Zn=(e,i,s,a)=>({set _(o){Qt(e,i,o,s)},get _(){return yt(e,i,a)}});function _mergeNamespaces(e,i){for(var s=0;s<i.length;s++){const a=i[s];if(typeof a!="string"&&!Array.isArray(a)){for(const o in a)if(o!=="default"&&!(o in e)){const c=Object.getOwnPropertyDescriptor(a,o);c&&Object.defineProperty(e,o,c.get?c:{enumerable:!0,get:()=>a[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function s(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=s(o);fetch(o.href,c)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(e.__esModule)return e;var i=e.default;if(typeof i=="function"){var s=function a(){return this instanceof a?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};s.prototype=i.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var o=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(s,a,o.get?o:{enumerable:!0,get:function(){return e[a]}})}),s}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$1=Symbol.for("react.element"),n$1=Symbol.for("react.portal"),p$2=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r$1=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$1=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(e){return e===null||typeof e!="object"?null:(e=z$1&&e[z$1]||e["@@iterator"],typeof e=="function"?e:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(e,i,s){this.props=e,this.context=i,this.refs=D$1,this.updater=s||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(e,i){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,i,"setState")};E$1.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(e,i,s){this.props=e,this.context=i,this.refs=D$1,this.updater=s||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(e,i,s){var a,o={},c=null,d=null;if(i!=null)for(a in i.ref!==void 0&&(d=i.ref),i.key!==void 0&&(c=""+i.key),i)J.call(i,a)&&!L$1.hasOwnProperty(a)&&(o[a]=i[a]);var g=arguments.length-2;if(g===1)o.children=s;else if(1<g){for(var h=Array(g),b=0;b<g;b++)h[b]=arguments[b+2];o.children=h}if(e&&e.defaultProps)for(a in g=e.defaultProps,g)o[a]===void 0&&(o[a]=g[a]);return{$$typeof:l$1,type:e,key:c,ref:d,props:o,_owner:K$1.current}}function N$1(e,i){return{$$typeof:l$1,type:e.type,key:i,ref:e.ref,props:e.props,_owner:e._owner}}function O$1(e){return typeof e=="object"&&e!==null&&e.$$typeof===l$1}function escape$1(e){var i={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return i[s]})}var P$1=/\/+/g;function Q$1(e,i){return typeof e=="object"&&e!==null&&e.key!=null?escape$1(""+e.key):i.toString(36)}function R$1(e,i,s,a,o){var c=typeof e;(c==="undefined"||c==="boolean")&&(e=null);var d=!1;if(e===null)d=!0;else switch(c){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case l$1:case n$1:d=!0}}if(d)return d=e,o=o(d),e=a===""?"."+Q$1(d,0):a,I$1(o)?(s="",e!=null&&(s=e.replace(P$1,"$&/")+"/"),R$1(o,i,s,"",function(b){return b})):o!=null&&(O$1(o)&&(o=N$1(o,s+(!o.key||d&&d.key===o.key?"":(""+o.key).replace(P$1,"$&/")+"/")+e)),i.push(o)),1;if(d=0,a=a===""?".":a+":",I$1(e))for(var g=0;g<e.length;g++){c=e[g];var h=a+Q$1(c,g);d+=R$1(c,i,s,h,o)}else if(h=A$1(e),typeof h=="function")for(e=h.call(e),g=0;!(c=e.next()).done;)c=c.value,h=a+Q$1(c,g++),d+=R$1(c,i,s,h,o);else if(c==="object")throw i=String(e),Error("Objects are not valid as a React child (found: "+(i==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":i)+"). If you meant to render a collection of children, use an array instead.");return d}function S$1(e,i,s){if(e==null)return e;var a=[],o=0;return R$1(e,a,"","",function(c){return i.call(s,c,o++)}),a}function T$1(e){if(e._status===-1){var i=e._result;i=i(),i.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=i)}if(e._status===1)return e._result.default;throw e._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$2(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$1,forEach:function(e,i,s){S$1(e,function(){i.apply(this,arguments)},s)},count:function(e){var i=0;return S$1(e,function(){i++}),i},toArray:function(e){return S$1(e,function(i){return i})||[]},only:function(e){if(!O$1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};react_production_min.Component=E$1;react_production_min.Fragment=p$2;react_production_min.Profiler=r$1;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$1;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$2;react_production_min.cloneElement=function(e,i,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=C$1({},e.props),o=e.key,c=e.ref,d=e._owner;if(i!=null){if(i.ref!==void 0&&(c=i.ref,d=K$1.current),i.key!==void 0&&(o=""+i.key),e.type&&e.type.defaultProps)var g=e.type.defaultProps;for(h in i)J.call(i,h)&&!L$1.hasOwnProperty(h)&&(a[h]=i[h]===void 0&&g!==void 0?g[h]:i[h])}var h=arguments.length-2;if(h===1)a.children=s;else if(1<h){g=Array(h);for(var b=0;b<h;b++)g[b]=arguments[b+2];a.children=g}return{$$typeof:l$1,type:e.type,key:o,ref:c,props:a,_owner:d}};react_production_min.createContext=function(e){return e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:t,_context:e},e.Consumer=e};react_production_min.createElement=M$1;react_production_min.createFactory=function(e){var i=M$1.bind(null,e);return i.type=e,i};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(e){return{$$typeof:v$1,render:e}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(e){return{$$typeof:y,_payload:{_status:-1,_result:e},_init:T$1}};react_production_min.memo=function(e,i){return{$$typeof:x,type:e,compare:i===void 0?null:i}};react_production_min.startTransition=function(e){var i=V$1.transition;V$1.transition={};try{e()}finally{V$1.transition=i}};react_production_min.unstable_act=X$2;react_production_min.useCallback=function(e,i){return U$1.current.useCallback(e,i)};react_production_min.useContext=function(e){return U$1.current.useContext(e)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(e){return U$1.current.useDeferredValue(e)};react_production_min.useEffect=function(e,i){return U$1.current.useEffect(e,i)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(e,i,s){return U$1.current.useImperativeHandle(e,i,s)};react_production_min.useInsertionEffect=function(e,i){return U$1.current.useInsertionEffect(e,i)};react_production_min.useLayoutEffect=function(e,i){return U$1.current.useLayoutEffect(e,i)};react_production_min.useMemo=function(e,i){return U$1.current.useMemo(e,i)};react_production_min.useReducer=function(e,i,s){return U$1.current.useReducer(e,i,s)};react_production_min.useRef=function(e){return U$1.current.useRef(e)};react_production_min.useState=function(e){return U$1.current.useState(e)};react_production_min.useSyncExternalStore=function(e,i,s){return U$1.current.useSyncExternalStore(e,i,s)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=reactExports,k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m$1=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$1={key:!0,ref:!0,__self:!0,__source:!0};function q(e,i,s){var a,o={},c=null,d=null;s!==void 0&&(c=""+s),i.key!==void 0&&(c=""+i.key),i.ref!==void 0&&(d=i.ref);for(a in i)m$1.call(i,a)&&!p$1.hasOwnProperty(a)&&(o[a]=i[a]);if(e&&e.defaultProps)for(a in i=e.defaultProps,i)o[a]===void 0&&(o[a]=i[a]);return{$$typeof:k,type:e,key:c,ref:d,props:o,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function i(Lt,wt){var St=Lt.length;Lt.push(wt);e:for(;0<St;){var _t=St-1>>>1,xt=Lt[_t];if(0<o(xt,wt))Lt[_t]=wt,Lt[St]=xt,St=_t;else break e}}function s(Lt){return Lt.length===0?null:Lt[0]}function a(Lt){if(Lt.length===0)return null;var wt=Lt[0],St=Lt.pop();if(St!==wt){Lt[0]=St;e:for(var _t=0,xt=Lt.length,pt=xt>>>1;_t<pt;){var gt=2*(_t+1)-1,Et=Lt[gt],bt=gt+1,At=Lt[bt];if(0>o(Et,St))bt<xt&&0>o(At,Et)?(Lt[_t]=At,Lt[bt]=St,_t=bt):(Lt[_t]=Et,Lt[gt]=St,_t=gt);else if(bt<xt&&0>o(At,St))Lt[_t]=At,Lt[bt]=St,_t=bt;else break e}}return wt}function o(Lt,wt){var St=Lt.sortIndex-wt.sortIndex;return St!==0?St:Lt.id-wt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();e.unstable_now=function(){return d.now()-g}}var h=[],b=[],_=1,$=null,j=3,_e=!1,rt=!1,it=!1,st=typeof setTimeout=="function"?setTimeout:null,et=typeof clearTimeout=="function"?clearTimeout:null,tt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ot(Lt){for(var wt=s(b);wt!==null;){if(wt.callback===null)a(b);else if(wt.startTime<=Lt)a(b),wt.sortIndex=wt.expirationTime,i(h,wt);else break;wt=s(b)}}function nt(Lt){if(it=!1,ot(Lt),!rt)if(s(h)!==null)rt=!0,Ot(at);else{var wt=s(b);wt!==null&&Pt(nt,wt.startTime-Lt)}}function at(Lt,wt){rt=!1,it&&(it=!1,et(ct),ct=-1),_e=!0;var St=j;try{for(ot(wt),$=s(h);$!==null&&(!($.expirationTime>wt)||Lt&&!lt());){var _t=$.callback;if(typeof _t=="function"){$.callback=null,j=$.priorityLevel;var xt=_t($.expirationTime<=wt);wt=e.unstable_now(),typeof xt=="function"?$.callback=xt:$===s(h)&&a(h),ot(wt)}else a(h);$=s(h)}if($!==null)var pt=!0;else{var gt=s(b);gt!==null&&Pt(nt,gt.startTime-wt),pt=!1}return pt}finally{$=null,j=St,_e=!1}}var dt=!1,ut=null,ct=-1,ht=5,mt=-1;function lt(){return!(e.unstable_now()-mt<ht)}function ft(){if(ut!==null){var Lt=e.unstable_now();mt=Lt;var wt=!0;try{wt=ut(!0,Lt)}finally{wt?vt():(dt=!1,ut=null)}}else dt=!1}var vt;if(typeof tt=="function")vt=function(){tt(ft)};else if(typeof MessageChannel<"u"){var kt=new MessageChannel,jt=kt.port2;kt.port1.onmessage=ft,vt=function(){jt.postMessage(null)}}else vt=function(){st(ft,0)};function Ot(Lt){ut=Lt,dt||(dt=!0,vt())}function Pt(Lt,wt){ct=st(function(){Lt(e.unstable_now())},wt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Lt){Lt.callback=null},e.unstable_continueExecution=function(){rt||_e||(rt=!0,Ot(at))},e.unstable_forceFrameRate=function(Lt){0>Lt||125<Lt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ht=0<Lt?Math.floor(1e3/Lt):5},e.unstable_getCurrentPriorityLevel=function(){return j},e.unstable_getFirstCallbackNode=function(){return s(h)},e.unstable_next=function(Lt){switch(j){case 1:case 2:case 3:var wt=3;break;default:wt=j}var St=j;j=wt;try{return Lt()}finally{j=St}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Lt,wt){switch(Lt){case 1:case 2:case 3:case 4:case 5:break;default:Lt=3}var St=j;j=Lt;try{return wt()}finally{j=St}},e.unstable_scheduleCallback=function(Lt,wt,St){var _t=e.unstable_now();switch(typeof St=="object"&&St!==null?(St=St.delay,St=typeof St=="number"&&0<St?_t+St:_t):St=_t,Lt){case 1:var xt=-1;break;case 2:xt=250;break;case 5:xt=1073741823;break;case 4:xt=1e4;break;default:xt=5e3}return xt=St+xt,Lt={id:_++,callback:wt,priorityLevel:Lt,startTime:St,expirationTime:xt,sortIndex:-1},St>_t?(Lt.sortIndex=St,i(b,Lt),s(h)===null&&Lt===s(b)&&(it?(et(ct),ct=-1):it=!0,Pt(nt,St-_t))):(Lt.sortIndex=xt,i(h,Lt),rt||_e||(rt=!0,Ot(at))),Lt},e.unstable_shouldYield=lt,e.unstable_wrapCallback=function(Lt){var wt=j;return function(){var St=j;j=wt;try{return Lt.apply(this,arguments)}finally{j=St}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p(e){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(e,i){ha(e,i),ha(e+"Capture",i)}function ha(e,i){for(ea[e]=i,e=0;e<i.length;e++)da.add(i[e])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(e){return ja.call(ma,e)?!0:ja.call(la,e)?!1:ka.test(e)?ma[e]=!0:(la[e]=!0,!1)}function pa(e,i,s,a){if(s!==null&&s.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return a?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qa(e,i,s,a){if(i===null||typeof i>"u"||pa(e,i,s,a))return!0;if(a)return!1;if(s!==null)switch(s.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function v(e,i,s,a,o,c,d){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=a,this.attributeNamespace=o,this.mustUseProperty=s,this.propertyName=e,this.type=i,this.sanitizeURL=c,this.removeEmptyString=d}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){z[e]=new v(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var i=e[0];z[i]=new v(i,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){z[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){z[e]=new v(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){z[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){z[e]=new v(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){z[e]=new v(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){z[e]=new v(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){z[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var i=e.replace(ra,sa);z[i]=new v(i,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var i=e.replace(ra,sa);z[i]=new v(i,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var i=e.replace(ra,sa);z[i]=new v(i,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){z[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)});z.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){z[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)});function ta(e,i,s,a){var o=z.hasOwnProperty(i)?z[i]:null;(o!==null?o.type!==0:a||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(qa(i,s,o,a)&&(s=null),a||o===null?oa(i)&&(s===null?e.removeAttribute(i):e.setAttribute(i,""+s)):o.mustUseProperty?e[o.propertyName]=s===null?o.type===3?!1:"":s:(i=o.attributeName,a=o.attributeNamespace,s===null?e.removeAttribute(i):(o=o.type,s=o===3||o===4&&s===!0?"":""+s,a?e.setAttributeNS(a,i,s):e.setAttribute(i,s))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(e){return e===null||typeof e!="object"?null:(e=Ja&&e[Ja]||e["@@iterator"],typeof e=="function"?e:null)}var A=Object.assign,La;function Ma(e){if(La===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);La=i&&i[1]||""}return`
`+La+e}var Na=!1;function Oa(e,i){if(!e||Na)return"";Na=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(b){var a=b}Reflect.construct(e,[],i)}else{try{i.call()}catch(b){a=b}e.call(i.prototype)}else{try{throw Error()}catch(b){a=b}e()}}catch(b){if(b&&a&&typeof b.stack=="string"){for(var o=b.stack.split(`
`),c=a.stack.split(`
`),d=o.length-1,g=c.length-1;1<=d&&0<=g&&o[d]!==c[g];)g--;for(;1<=d&&0<=g;d--,g--)if(o[d]!==c[g]){if(d!==1||g!==1)do if(d--,g--,0>g||o[d]!==c[g]){var h=`
`+o[d].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=d&&0<=g);break}}}finally{Na=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?Ma(e):""}function Pa(e){switch(e.tag){case 5:return Ma(e.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return e=Oa(e.type,!1),e;case 11:return e=Oa(e.type.render,!1),e;case 1:return e=Oa(e.type,!0),e;default:return""}}function Qa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ca:return(e.displayName||"Context")+".Consumer";case Ba:return(e._context.displayName||"Context")+".Provider";case Da:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ga:return i=e.displayName||null,i!==null?i:Qa(e.type)||"Memo";case Ha:i=e._payload,e=e._init;try{return Qa(e(i))}catch{}}return null}function Ra(e){var i=e.type;switch(e.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=i.render,e=e.displayName||e.name||"",i.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(i);case 8:return i===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Sa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ta(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ua(e){var i=Ta(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),a=""+e[i];if(!e.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var o=s.get,c=s.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return o.call(this)},set:function(d){a=""+d,c.call(this,d)}}),Object.defineProperty(e,i,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(d){a=""+d},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Va(e){e._valueTracker||(e._valueTracker=Ua(e))}function Wa(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var s=i.getValue(),a="";return e&&(a=Ta(e)?e.checked?"true":"false":e.value),e=a,e!==s?(i.setValue(e),!0):!1}function Xa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ya(e,i){var s=i.checked;return A({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Za(e,i){var s=i.defaultValue==null?"":i.defaultValue,a=i.checked!=null?i.checked:i.defaultChecked;s=Sa(i.value!=null?i.value:s),e._wrapperState={initialChecked:a,initialValue:s,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function ab(e,i){i=i.checked,i!=null&&ta(e,"checked",i,!1)}function bb(e,i){ab(e,i);var s=Sa(i.value),a=i.type;if(s!=null)a==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}i.hasOwnProperty("value")?cb(e,i.type,s):i.hasOwnProperty("defaultValue")&&cb(e,i.type,Sa(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(e.defaultChecked=!!i.defaultChecked)}function db(e,i,s){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var a=i.type;if(!(a!=="submit"&&a!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+e._wrapperState.initialValue,s||i===e.value||(e.value=i),e.defaultValue=i}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function cb(e,i,s){(i!=="number"||Xa(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var eb=Array.isArray;function fb(e,i,s,a){if(e=e.options,i){i={};for(var o=0;o<s.length;o++)i["$"+s[o]]=!0;for(s=0;s<e.length;s++)o=i.hasOwnProperty("$"+e[s].value),e[s].selected!==o&&(e[s].selected=o),o&&a&&(e[s].defaultSelected=!0)}else{for(s=""+Sa(s),i=null,o=0;o<e.length;o++){if(e[o].value===s){e[o].selected=!0,a&&(e[o].defaultSelected=!0);return}i!==null||e[o].disabled||(i=e[o])}i!==null&&(i.selected=!0)}}function gb(e,i){if(i.dangerouslySetInnerHTML!=null)throw Error(p(91));return A({},i,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hb(e,i){var s=i.value;if(s==null){if(s=i.children,i=i.defaultValue,s!=null){if(i!=null)throw Error(p(92));if(eb(s)){if(1<s.length)throw Error(p(93));s=s[0]}i=s}i==null&&(i=""),s=i}e._wrapperState={initialValue:Sa(s)}}function ib(e,i){var s=Sa(i.value),a=Sa(i.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),i.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),a!=null&&(e.defaultValue=""+a)}function jb(e){var i=e.textContent;i===e._wrapperState.initialValue&&i!==""&&i!==null&&(e.value=i)}function kb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(e,i){return e==null||e==="http://www.w3.org/1999/xhtml"?kb(i):e==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var mb,nb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,s,a,o){MSApp.execUnsafeLocalFunction(function(){return e(i,s,a,o)})}:e}(function(e,i){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=i;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=mb.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;i.firstChild;)e.appendChild(i.firstChild)}});function ob(e,i){if(i){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=i;return}}e.textContent=i}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(e){qb.forEach(function(i){i=i+e.charAt(0).toUpperCase()+e.substring(1),pb[i]=pb[e]})});function rb(e,i,s){return i==null||typeof i=="boolean"||i===""?"":s||typeof i!="number"||i===0||pb.hasOwnProperty(e)&&pb[e]?(""+i).trim():i+"px"}function sb(e,i){e=e.style;for(var s in i)if(i.hasOwnProperty(s)){var a=s.indexOf("--")===0,o=rb(s,i[s],a);s==="float"&&(s="cssFloat"),a?e.setProperty(s,o):e[s]=o}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(e,i){if(i){if(tb[e]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(p(137,e));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(p(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(p(61))}if(i.style!=null&&typeof i.style!="object")throw Error(p(62))}}function vb(e,i){if(e.indexOf("-")===-1)return typeof i.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yb=null,zb=null,Ab=null;function Bb(e){if(e=Cb(e)){if(typeof yb!="function")throw Error(p(280));var i=e.stateNode;i&&(i=Db(i),yb(e.stateNode,e.type,i))}}function Eb(e){zb?Ab?Ab.push(e):Ab=[e]:zb=e}function Fb(){if(zb){var e=zb,i=Ab;if(Ab=zb=null,Bb(e),i)for(e=0;e<i.length;e++)Bb(i[e])}}function Gb(e,i){return e(i)}function Hb(){}var Ib=!1;function Jb(e,i,s){if(Ib)return e(i,s);Ib=!0;try{return Gb(e,i,s)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(e,i){var s=e.stateNode;if(s===null)return null;var a=Db(s);if(a===null)return null;s=a[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(p(231,i,typeof s));return s}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(e,i,s,a,o,c,d,g,h){var b=Array.prototype.slice.call(arguments,3);try{i.apply(s,b)}catch(_){this.onError(_)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(e){Ob=!0,Pb=e}};function Tb(e,i,s,a,o,c,d,g,h){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(e,i,s,a,o,c,d,g,h){if(Tb.apply(this,arguments),Ob){if(Ob){var b=Pb;Ob=!1,Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=b)}}function Vb(e){var i=e,s=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,i.flags&4098&&(s=i.return),e=i.return;while(e)}return i.tag===3?s:null}function Wb(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function Xb(e){if(Vb(e)!==e)throw Error(p(188))}function Yb(e){var i=e.alternate;if(!i){if(i=Vb(e),i===null)throw Error(p(188));return i!==e?null:e}for(var s=e,a=i;;){var o=s.return;if(o===null)break;var c=o.alternate;if(c===null){if(a=o.return,a!==null){s=a;continue}break}if(o.child===c.child){for(c=o.child;c;){if(c===s)return Xb(o),e;if(c===a)return Xb(o),i;c=c.sibling}throw Error(p(188))}if(s.return!==a.return)s=o,a=c;else{for(var d=!1,g=o.child;g;){if(g===s){d=!0,s=o,a=c;break}if(g===a){d=!0,a=o,s=c;break}g=g.sibling}if(!d){for(g=c.child;g;){if(g===s){d=!0,s=c,a=o;break}if(g===a){d=!0,a=c,s=o;break}g=g.sibling}if(!d)throw Error(p(189))}}if(s.alternate!==a)throw Error(p(190))}if(s.tag!==3)throw Error(p(188));return s.stateNode.current===s?e:i}function Zb(e){return e=Yb(e),e!==null?$b(e):null}function $b(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var i=$b(e);if(i!==null)return i;e=e.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(e){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,e,void 0,(e.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(e){return e>>>=0,e===0?32:31-(pc(e)/qc|0)|0}var rc=64,sc=4194304;function tc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function uc(e,i){var s=e.pendingLanes;if(s===0)return 0;var a=0,o=e.suspendedLanes,c=e.pingedLanes,d=s&268435455;if(d!==0){var g=d&~o;g!==0?a=tc(g):(c&=d,c!==0&&(a=tc(c)))}else d=s&~o,d!==0?a=tc(d):c!==0&&(a=tc(c));if(a===0)return 0;if(i!==0&&i!==a&&!(i&o)&&(o=a&-a,c=i&-i,o>=c||o===16&&(c&4194240)!==0))return i;if(a&4&&(a|=s&16),i=e.entangledLanes,i!==0)for(e=e.entanglements,i&=a;0<i;)s=31-oc(i),o=1<<s,a|=e[s],i&=~o;return a}function vc(e,i){switch(e){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(e,i){for(var s=e.suspendedLanes,a=e.pingedLanes,o=e.expirationTimes,c=e.pendingLanes;0<c;){var d=31-oc(c),g=1<<d,h=o[d];h===-1?(!(g&s)||g&a)&&(o[d]=vc(g,i)):h<=i&&(e.expiredLanes|=g),c&=~g}}function xc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yc(){var e=rc;return rc<<=1,!(rc&4194240)&&(rc=64),e}function zc(e){for(var i=[],s=0;31>s;s++)i.push(e);return i}function Ac(e,i,s){e.pendingLanes|=i,i!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,i=31-oc(i),e[i]=s}function Bc(e,i){var s=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<s;){var o=31-oc(s),c=1<<o;i[o]=0,a[o]=-1,e[o]=-1,s&=~c}}function Cc(e,i){var s=e.entangledLanes|=i;for(e=e.entanglements;s;){var a=31-oc(s),o=1<<a;o&i|e[a]&i&&(e[a]|=i),s&=~o}}var C=0;function Dc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(e,i){switch(e){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(i.pointerId)}}function Tc(e,i,s,a,o,c){return e===null||e.nativeEvent!==c?(e={blockedOn:i,domEventName:s,eventSystemFlags:a,nativeEvent:c,targetContainers:[o]},i!==null&&(i=Cb(i),i!==null&&Fc(i)),e):(e.eventSystemFlags|=a,i=e.targetContainers,o!==null&&i.indexOf(o)===-1&&i.push(o),e)}function Uc(e,i,s,a,o){switch(i){case"focusin":return Lc=Tc(Lc,e,i,s,a,o),!0;case"dragenter":return Mc=Tc(Mc,e,i,s,a,o),!0;case"mouseover":return Nc=Tc(Nc,e,i,s,a,o),!0;case"pointerover":var c=o.pointerId;return Oc.set(c,Tc(Oc.get(c)||null,e,i,s,a,o)),!0;case"gotpointercapture":return c=o.pointerId,Pc.set(c,Tc(Pc.get(c)||null,e,i,s,a,o)),!0}return!1}function Vc(e){var i=Wc(e.target);if(i!==null){var s=Vb(i);if(s!==null){if(i=s.tag,i===13){if(i=Wb(s),i!==null){e.blockedOn=i,Ic(e.priority,function(){Gc(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var s=Yc(e.domEventName,e.eventSystemFlags,i[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var a=new s.constructor(s.type,s);wb=a,s.target.dispatchEvent(a),wb=null}else return i=Cb(s),i!==null&&Fc(i),e.blockedOn=s,!1;i.shift()}return!0}function Zc(e,i,s){Xc(e)&&s.delete(i)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(e,i){e.blockedOn===i&&(e.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(e){function i(o){return ad(o,e)}if(0<Kc.length){ad(Kc[0],e);for(var s=1;s<Kc.length;s++){var a=Kc[s];a.blockedOn===e&&(a.blockedOn=null)}}for(Lc!==null&&ad(Lc,e),Mc!==null&&ad(Mc,e),Nc!==null&&ad(Nc,e),Oc.forEach(i),Pc.forEach(i),s=0;s<Qc.length;s++)a=Qc[s],a.blockedOn===e&&(a.blockedOn=null);for(;0<Qc.length&&(s=Qc[0],s.blockedOn===null);)Vc(s),s.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(e,i,s,a){var o=C,c=cd.transition;cd.transition=null;try{C=1,fd(e,i,s,a)}finally{C=o,cd.transition=c}}function gd(e,i,s,a){var o=C,c=cd.transition;cd.transition=null;try{C=4,fd(e,i,s,a)}finally{C=o,cd.transition=c}}function fd(e,i,s,a){if(dd){var o=Yc(e,i,s,a);if(o===null)hd(e,i,a,id,s),Sc(e,a);else if(Uc(o,e,i,s,a))a.stopPropagation();else if(Sc(e,a),i&4&&-1<Rc.indexOf(e)){for(;o!==null;){var c=Cb(o);if(c!==null&&Ec(c),c=Yc(e,i,s,a),c===null&&hd(e,i,a,id,s),c===o)break;o=c}o!==null&&a.stopPropagation()}else hd(e,i,a,null,s)}}var id=null;function Yc(e,i,s,a){if(id=null,e=xb(a),e=Wc(e),e!==null)if(i=Vb(e),i===null)e=null;else if(s=i.tag,s===13){if(e=Wb(i),e!==null)return e;e=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null);return id=e,null}function jd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var e,i=ld,s=i.length,a,o="value"in kd?kd.value:kd.textContent,c=o.length;for(e=0;e<s&&i[e]===o[e];e++);var d=s-e;for(a=1;a<=d&&i[s-a]===o[c-a];a++);return md=o.slice(e,1<a?1-a:void 0)}function od(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function pd(){return!0}function qd(){return!1}function rd(e){function i(s,a,o,c,d){this._reactName=s,this._targetInst=o,this.type=a,this.nativeEvent=c,this.target=d,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(s=e[g],this[g]=s?s(c):c[g]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),i}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yd&&(yd&&e.type==="mousemove"?(wd=e.screenX-yd.screenX,xd=e.screenY-yd.screenY):xd=wd=0,yd=e),wd)},movementY:function(e){return"movementY"in e?e.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Od[e])?!!i[e]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(e){if(e.key){var i=Md[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=od(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nd[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(e){return e.type==="keypress"?od(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?od(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge(e,i){switch(e){case"keyup":return $d.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ie=!1;function je(e,i){switch(e){case"compositionend":return he(i);case"keypress":return i.which!==32?null:(fe=!0,ee);case"textInput":return e=i.data,e===ee&&fe?null:e;default:return null}}function ke(e,i){if(ie)return e==="compositionend"||!ae&&ge(e,i)?(e=nd(),md=ld=kd=null,ie=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return de&&i.locale!=="ko"?null:i.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!le[e.type]:i==="textarea"}function ne(e,i,s,a){Eb(a),i=oe(i,"onChange"),0<i.length&&(s=new td("onChange","change",null,s,a),e.push({event:s,listeners:i}))}var pe=null,qe=null;function re(e){se(e,0)}function te(e){var i=ue(e);if(Wa(i))return e}function ve(e,i){if(e==="change")return i}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(e){if(e.propertyName==="value"&&te(qe)){var i=[];ne(i,qe,e,xb(e)),Jb(re,i)}}function Ce(e,i,s){e==="focusin"?(Ae(),pe=i,qe=s,pe.attachEvent("onpropertychange",Be)):e==="focusout"&&Ae()}function De(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return te(qe)}function Ee(e,i){if(e==="click")return te(i)}function Fe(e,i){if(e==="input"||e==="change")return te(i)}function Ge(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(e,i){if(He(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var s=Object.keys(e),a=Object.keys(i);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var o=s[a];if(!ja.call(i,o)||!He(e[o],i[o]))return!1}return!0}function Je(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ke(e,i){var s=Je(e);e=0;for(var a;s;){if(s.nodeType===3){if(a=e+s.textContent.length,e<=i&&a>=i)return{node:s,offset:i-e};e=a}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Je(s)}}function Le(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Le(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Me(){for(var e=window,i=Xa();i instanceof e.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)e=i.contentWindow;else break;i=Xa(e.document)}return i}function Ne(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}function Oe(e){var i=Me(),s=e.focusedElem,a=e.selectionRange;if(i!==s&&s&&s.ownerDocument&&Le(s.ownerDocument.documentElement,s)){if(a!==null&&Ne(s)){if(i=a.start,e=a.end,e===void 0&&(e=i),"selectionStart"in s)s.selectionStart=i,s.selectionEnd=Math.min(e,s.value.length);else if(e=(i=s.ownerDocument||document)&&i.defaultView||window,e.getSelection){e=e.getSelection();var o=s.textContent.length,c=Math.min(a.start,o);a=a.end===void 0?c:Math.min(a.end,o),!e.extend&&c>a&&(o=a,a=c,c=o),o=Ke(s,c);var d=Ke(s,a);o&&d&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(i=i.createRange(),i.setStart(o.node,o.offset),e.removeAllRanges(),c>a?(e.addRange(i),e.extend(d.node,d.offset)):(i.setEnd(d.node,d.offset),e.addRange(i)))}}for(i=[],e=s;e=e.parentNode;)e.nodeType===1&&i.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<i.length;s++)e=i[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(e,i,s){var a=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Te||Qe==null||Qe!==Xa(a)||(a=Qe,"selectionStart"in a&&Ne(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Se&&Ie(Se,a)||(Se=a,a=oe(Re,"onSelect"),0<a.length&&(i=new td("onSelect","select",null,i,s),e.push({event:i,listeners:a}),i.target=Qe)))}function Ve(e,i){var s={};return s[e.toLowerCase()]=i.toLowerCase(),s["Webkit"+e]="webkit"+i,s["Moz"+e]="moz"+i,s}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(e){if(Xe[e])return Xe[e];if(!We[e])return e;var i=We[e],s;for(s in i)if(i.hasOwnProperty(s)&&s in Ye)return Xe[e]=i[s];return e}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(e,i){df.set(e,i),fa(i,[e])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(e,i,s){var a=e.type||"unknown-event";e.currentTarget=s,Ub(a,i,void 0,e),e.currentTarget=null}function se(e,i){i=(i&4)!==0;for(var s=0;s<e.length;s++){var a=e[s],o=a.event;a=a.listeners;e:{var c=void 0;if(i)for(var d=a.length-1;0<=d;d--){var g=a[d],h=g.instance,b=g.currentTarget;if(g=g.listener,h!==c&&o.isPropagationStopped())break e;nf(o,g,b),c=h}else for(d=0;d<a.length;d++){if(g=a[d],h=g.instance,b=g.currentTarget,g=g.listener,h!==c&&o.isPropagationStopped())break e;nf(o,g,b),c=h}}}if(Qb)throw e=Rb,Qb=!1,Rb=null,e}function D(e,i){var s=i[of];s===void 0&&(s=i[of]=new Set);var a=e+"__bubble";s.has(a)||(pf(i,e,2,!1),s.add(a))}function qf(e,i,s){var a=0;i&&(a|=4),pf(s,e,a,i)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(e){if(!e[rf]){e[rf]=!0,da.forEach(function(s){s!=="selectionchange"&&(mf.has(s)||qf(s,!1,e),qf(s,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[rf]||(i[rf]=!0,qf("selectionchange",!1,i))}}function pf(e,i,s,a){switch(jd(i)){case 1:var o=ed;break;case 4:o=gd;break;default:o=fd}s=o.bind(null,i,s,e),o=void 0,!Lb||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(o=!0),a?o!==void 0?e.addEventListener(i,s,{capture:!0,passive:o}):e.addEventListener(i,s,!0):o!==void 0?e.addEventListener(i,s,{passive:o}):e.addEventListener(i,s,!1)}function hd(e,i,s,a,o){var c=a;if(!(i&1)&&!(i&2)&&a!==null)e:for(;;){if(a===null)return;var d=a.tag;if(d===3||d===4){var g=a.stateNode.containerInfo;if(g===o||g.nodeType===8&&g.parentNode===o)break;if(d===4)for(d=a.return;d!==null;){var h=d.tag;if((h===3||h===4)&&(h=d.stateNode.containerInfo,h===o||h.nodeType===8&&h.parentNode===o))return;d=d.return}for(;g!==null;){if(d=Wc(g),d===null)return;if(h=d.tag,h===5||h===6){a=c=d;continue e}g=g.parentNode}}a=a.return}Jb(function(){var b=c,_=xb(s),$=[];e:{var j=df.get(e);if(j!==void 0){var _e=td,rt=e;switch(e){case"keypress":if(od(s)===0)break e;case"keydown":case"keyup":_e=Rd;break;case"focusin":rt="focus",_e=Fd;break;case"focusout":rt="blur",_e=Fd;break;case"beforeblur":case"afterblur":_e=Fd;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_e=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_e=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_e=Vd;break;case $e:case af:case bf:_e=Hd;break;case cf:_e=Xd;break;case"scroll":_e=vd;break;case"wheel":_e=Zd;break;case"copy":case"cut":case"paste":_e=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_e=Td}var it=(i&4)!==0,st=!it&&e==="scroll",et=it?j!==null?j+"Capture":null:j;it=[];for(var tt=b,ot;tt!==null;){ot=tt;var nt=ot.stateNode;if(ot.tag===5&&nt!==null&&(ot=nt,et!==null&&(nt=Kb(tt,et),nt!=null&&it.push(tf(tt,nt,ot)))),st)break;tt=tt.return}0<it.length&&(j=new _e(j,rt,null,s,_),$.push({event:j,listeners:it}))}}if(!(i&7)){e:{if(j=e==="mouseover"||e==="pointerover",_e=e==="mouseout"||e==="pointerout",j&&s!==wb&&(rt=s.relatedTarget||s.fromElement)&&(Wc(rt)||rt[uf]))break e;if((_e||j)&&(j=_.window===_?_:(j=_.ownerDocument)?j.defaultView||j.parentWindow:window,_e?(rt=s.relatedTarget||s.toElement,_e=b,rt=rt?Wc(rt):null,rt!==null&&(st=Vb(rt),rt!==st||rt.tag!==5&&rt.tag!==6)&&(rt=null)):(_e=null,rt=b),_e!==rt)){if(it=Bd,nt="onMouseLeave",et="onMouseEnter",tt="mouse",(e==="pointerout"||e==="pointerover")&&(it=Td,nt="onPointerLeave",et="onPointerEnter",tt="pointer"),st=_e==null?j:ue(_e),ot=rt==null?j:ue(rt),j=new it(nt,tt+"leave",_e,s,_),j.target=st,j.relatedTarget=ot,nt=null,Wc(_)===b&&(it=new it(et,tt+"enter",rt,s,_),it.target=ot,it.relatedTarget=st,nt=it),st=nt,_e&&rt)t:{for(it=_e,et=rt,tt=0,ot=it;ot;ot=vf(ot))tt++;for(ot=0,nt=et;nt;nt=vf(nt))ot++;for(;0<tt-ot;)it=vf(it),tt--;for(;0<ot-tt;)et=vf(et),ot--;for(;tt--;){if(it===et||et!==null&&it===et.alternate)break t;it=vf(it),et=vf(et)}it=null}else it=null;_e!==null&&wf($,j,_e,it,!1),rt!==null&&st!==null&&wf($,st,rt,it,!0)}}e:{if(j=b?ue(b):window,_e=j.nodeName&&j.nodeName.toLowerCase(),_e==="select"||_e==="input"&&j.type==="file")var at=ve;else if(me(j))if(we)at=Fe;else{at=De;var dt=Ce}else(_e=j.nodeName)&&_e.toLowerCase()==="input"&&(j.type==="checkbox"||j.type==="radio")&&(at=Ee);if(at&&(at=at(e,b))){ne($,at,s,_);break e}dt&&dt(e,j,b),e==="focusout"&&(dt=j._wrapperState)&&dt.controlled&&j.type==="number"&&cb(j,"number",j.value)}switch(dt=b?ue(b):window,e){case"focusin":(me(dt)||dt.contentEditable==="true")&&(Qe=dt,Re=b,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue($,s,_);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue($,s,_)}var ut;if(ae)e:{switch(e){case"compositionstart":var ct="onCompositionStart";break e;case"compositionend":ct="onCompositionEnd";break e;case"compositionupdate":ct="onCompositionUpdate";break e}ct=void 0}else ie?ge(e,s)&&(ct="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(ct="onCompositionStart");ct&&(de&&s.locale!=="ko"&&(ie||ct!=="onCompositionStart"?ct==="onCompositionEnd"&&ie&&(ut=nd()):(kd=_,ld="value"in kd?kd.value:kd.textContent,ie=!0)),dt=oe(b,ct),0<dt.length&&(ct=new Ld(ct,e,null,s,_),$.push({event:ct,listeners:dt}),ut?ct.data=ut:(ut=he(s),ut!==null&&(ct.data=ut)))),(ut=ce?je(e,s):ke(e,s))&&(b=oe(b,"onBeforeInput"),0<b.length&&(_=new Ld("onBeforeInput","beforeinput",null,s,_),$.push({event:_,listeners:b}),_.data=ut))}se($,i)})}function tf(e,i,s){return{instance:e,listener:i,currentTarget:s}}function oe(e,i){for(var s=i+"Capture",a=[];e!==null;){var o=e,c=o.stateNode;o.tag===5&&c!==null&&(o=c,c=Kb(e,s),c!=null&&a.unshift(tf(e,c,o)),c=Kb(e,i),c!=null&&a.push(tf(e,c,o))),e=e.return}return a}function vf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wf(e,i,s,a,o){for(var c=i._reactName,d=[];s!==null&&s!==a;){var g=s,h=g.alternate,b=g.stateNode;if(h!==null&&h===a)break;g.tag===5&&b!==null&&(g=b,o?(h=Kb(s,c),h!=null&&d.unshift(tf(s,h,g))):o||(h=Kb(s,c),h!=null&&d.push(tf(s,h,g)))),s=s.return}d.length!==0&&e.push({event:i,listeners:d})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(e){return(typeof e=="string"?e:""+e).replace(xf,`
`).replace(yf,"")}function Af(e,i,s){if(i=zf(i),zf(e)!==i&&s)throw Error(p(425))}function Bf(){}var Cf=null,Df=null;function Ef(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(e){return Hf.resolve(null).then(e).catch(If)}:Ff;function If(e){setTimeout(function(){throw e})}function Kf(e,i){var s=i,a=0;do{var o=s.nextSibling;if(e.removeChild(s),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(a===0){e.removeChild(o),bd(i);return}a--}else s!=="$"&&s!=="$?"&&s!=="$!"||a++;s=o}while(s);bd(i)}function Lf(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return e}function Mf(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return e;i--}else s==="/$"&&i++}e=e.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(e){var i=e[Of];if(i)return i;for(var s=e.parentNode;s;){if(i=s[uf]||s[Of]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(e=Mf(e);e!==null;){if(s=e[Of])return s;e=Mf(e)}return i}e=s,s=e.parentNode}return null}function Cb(e){return e=e[Of]||e[uf],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ue(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(p(33))}function Db(e){return e[Pf]||null}var Sf=[],Tf=-1;function Uf(e){return{current:e}}function E(e){0>Tf||(e.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(e,i){Tf++,Sf[Tf]=e.current,e.current=i}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(e,i){var s=e.type.contextTypes;if(!s)return Vf;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===i)return a.__reactInternalMemoizedMaskedChildContext;var o={},c;for(c in s)o[c]=i[c];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),o}function Zf(e){return e=e.childContextTypes,e!=null}function $f(){E(Wf),E(H)}function ag(e,i,s){if(H.current!==Vf)throw Error(p(168));G(H,i),G(Wf,s)}function bg(e,i,s){var a=e.stateNode;if(i=i.childContextTypes,typeof a.getChildContext!="function")return s;a=a.getChildContext();for(var o in a)if(!(o in i))throw Error(p(108,Ra(e)||"Unknown",o));return A({},s,a)}function cg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,e),G(Wf,Wf.current),!0}function dg(e,i,s){var a=e.stateNode;if(!a)throw Error(p(169));s?(e=bg(e,i,Xf),a.__reactInternalMemoizedMergedChildContext=e,E(Wf),E(H),G(H,e)):E(Wf),G(Wf,s)}var eg=null,fg=!1,gg=!1;function hg(e){eg===null?eg=[e]:eg.push(e)}function ig(e){fg=!0,hg(e)}function jg(){if(!gg&&eg!==null){gg=!0;var e=0,i=C;try{var s=eg;for(C=1;e<s.length;e++){var a=s[e];do a=a(!0);while(a!==null)}eg=null,fg=!1}catch(o){throw eg!==null&&(eg=eg.slice(e+1)),ac(fc,jg),o}finally{C=i,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(e,i){kg[lg++]=ng,kg[lg++]=mg,mg=e,ng=i}function ug(e,i,s){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=e;var a=rg;e=sg;var o=32-oc(a)-1;a&=~(1<<o),s+=1;var c=32-oc(i)+o;if(30<c){var d=o-o%5;c=(a&(1<<d)-1).toString(32),a>>=d,o-=d,rg=1<<32-oc(i)+o|s<<o|a,sg=c+e}else rg=1<<c|s<<o|a,sg=e}function vg(e){e.return!==null&&(tg(e,1),ug(e,1,0))}function wg(e){for(;e===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;e===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(e,i){var s=Bg(5,null,null,0);s.elementType="DELETED",s.stateNode=i,s.return=e,i=e.deletions,i===null?(e.deletions=[s],e.flags|=16):i.push(s)}function Cg(e,i){switch(e.tag){case 5:var s=e.type;return i=i.nodeType!==1||s.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(e.stateNode=i,xg=e,yg=Lf(i.firstChild),!0):!1;case 6:return i=e.pendingProps===""||i.nodeType!==3?null:i,i!==null?(e.stateNode=i,xg=e,yg=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(s=qg!==null?{id:rg,overflow:sg}:null,e.memoizedState={dehydrated:i,treeContext:s,retryLane:1073741824},s=Bg(18,null,null,0),s.stateNode=i,s.return=e,e.child=s,xg=e,yg=null,!0):!1;default:return!1}}function Dg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Eg(e){if(I){var i=yg;if(i){var s=i;if(!Cg(e,i)){if(Dg(e))throw Error(p(418));i=Lf(s.nextSibling);var a=xg;i&&Cg(e,i)?Ag(a,s):(e.flags=e.flags&-4097|2,I=!1,xg=e)}}else{if(Dg(e))throw Error(p(418));e.flags=e.flags&-4097|2,I=!1,xg=e}}}function Fg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xg=e}function Gg(e){if(e!==xg)return!1;if(!I)return Fg(e),I=!0,!1;var i;if((i=e.tag!==3)&&!(i=e.tag!==5)&&(i=e.type,i=i!=="head"&&i!=="body"&&!Ef(e.type,e.memoizedProps)),i&&(i=yg)){if(Dg(e))throw Hg(),Error(p(418));for(;i;)Ag(e,i),i=Lf(i.nextSibling)}if(Fg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(p(317));e:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(i===0){yg=Lf(e.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++}e=e.nextSibling}yg=null}}else yg=xg?Lf(e.stateNode.nextSibling):null;return!0}function Hg(){for(var e=yg;e;)e=Lf(e.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(e){zg===null?zg=[e]:zg.push(e)}var Kg=ua.ReactCurrentBatchConfig;function Lg(e,i,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(p(309));var a=s.stateNode}if(!a)throw Error(p(147,e));var o=a,c=""+e;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===c?i.ref:(i=function(d){var g=o.refs;d===null?delete g[c]:g[c]=d},i._stringRef=c,i)}if(typeof e!="string")throw Error(p(284));if(!s._owner)throw Error(p(290,e))}return e}function Mg(e,i){throw e=Object.prototype.toString.call(i),Error(p(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e))}function Ng(e){var i=e._init;return i(e._payload)}function Og(e){function i(et,tt){if(e){var ot=et.deletions;ot===null?(et.deletions=[tt],et.flags|=16):ot.push(tt)}}function s(et,tt){if(!e)return null;for(;tt!==null;)i(et,tt),tt=tt.sibling;return null}function a(et,tt){for(et=new Map;tt!==null;)tt.key!==null?et.set(tt.key,tt):et.set(tt.index,tt),tt=tt.sibling;return et}function o(et,tt){return et=Pg(et,tt),et.index=0,et.sibling=null,et}function c(et,tt,ot){return et.index=ot,e?(ot=et.alternate,ot!==null?(ot=ot.index,ot<tt?(et.flags|=2,tt):ot):(et.flags|=2,tt)):(et.flags|=1048576,tt)}function d(et){return e&&et.alternate===null&&(et.flags|=2),et}function g(et,tt,ot,nt){return tt===null||tt.tag!==6?(tt=Qg(ot,et.mode,nt),tt.return=et,tt):(tt=o(tt,ot),tt.return=et,tt)}function h(et,tt,ot,nt){var at=ot.type;return at===ya?_(et,tt,ot.props.children,nt,ot.key):tt!==null&&(tt.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===Ha&&Ng(at)===tt.type)?(nt=o(tt,ot.props),nt.ref=Lg(et,tt,ot),nt.return=et,nt):(nt=Rg(ot.type,ot.key,ot.props,null,et.mode,nt),nt.ref=Lg(et,tt,ot),nt.return=et,nt)}function b(et,tt,ot,nt){return tt===null||tt.tag!==4||tt.stateNode.containerInfo!==ot.containerInfo||tt.stateNode.implementation!==ot.implementation?(tt=Sg(ot,et.mode,nt),tt.return=et,tt):(tt=o(tt,ot.children||[]),tt.return=et,tt)}function _(et,tt,ot,nt,at){return tt===null||tt.tag!==7?(tt=Tg(ot,et.mode,nt,at),tt.return=et,tt):(tt=o(tt,ot),tt.return=et,tt)}function $(et,tt,ot){if(typeof tt=="string"&&tt!==""||typeof tt=="number")return tt=Qg(""+tt,et.mode,ot),tt.return=et,tt;if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case va:return ot=Rg(tt.type,tt.key,tt.props,null,et.mode,ot),ot.ref=Lg(et,null,tt),ot.return=et,ot;case wa:return tt=Sg(tt,et.mode,ot),tt.return=et,tt;case Ha:var nt=tt._init;return $(et,nt(tt._payload),ot)}if(eb(tt)||Ka(tt))return tt=Tg(tt,et.mode,ot,null),tt.return=et,tt;Mg(et,tt)}return null}function j(et,tt,ot,nt){var at=tt!==null?tt.key:null;if(typeof ot=="string"&&ot!==""||typeof ot=="number")return at!==null?null:g(et,tt,""+ot,nt);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case va:return ot.key===at?h(et,tt,ot,nt):null;case wa:return ot.key===at?b(et,tt,ot,nt):null;case Ha:return at=ot._init,j(et,tt,at(ot._payload),nt)}if(eb(ot)||Ka(ot))return at!==null?null:_(et,tt,ot,nt,null);Mg(et,ot)}return null}function _e(et,tt,ot,nt,at){if(typeof nt=="string"&&nt!==""||typeof nt=="number")return et=et.get(ot)||null,g(tt,et,""+nt,at);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case va:return et=et.get(nt.key===null?ot:nt.key)||null,h(tt,et,nt,at);case wa:return et=et.get(nt.key===null?ot:nt.key)||null,b(tt,et,nt,at);case Ha:var dt=nt._init;return _e(et,tt,ot,dt(nt._payload),at)}if(eb(nt)||Ka(nt))return et=et.get(ot)||null,_(tt,et,nt,at,null);Mg(tt,nt)}return null}function rt(et,tt,ot,nt){for(var at=null,dt=null,ut=tt,ct=tt=0,ht=null;ut!==null&&ct<ot.length;ct++){ut.index>ct?(ht=ut,ut=null):ht=ut.sibling;var mt=j(et,ut,ot[ct],nt);if(mt===null){ut===null&&(ut=ht);break}e&&ut&&mt.alternate===null&&i(et,ut),tt=c(mt,tt,ct),dt===null?at=mt:dt.sibling=mt,dt=mt,ut=ht}if(ct===ot.length)return s(et,ut),I&&tg(et,ct),at;if(ut===null){for(;ct<ot.length;ct++)ut=$(et,ot[ct],nt),ut!==null&&(tt=c(ut,tt,ct),dt===null?at=ut:dt.sibling=ut,dt=ut);return I&&tg(et,ct),at}for(ut=a(et,ut);ct<ot.length;ct++)ht=_e(ut,et,ct,ot[ct],nt),ht!==null&&(e&&ht.alternate!==null&&ut.delete(ht.key===null?ct:ht.key),tt=c(ht,tt,ct),dt===null?at=ht:dt.sibling=ht,dt=ht);return e&&ut.forEach(function(lt){return i(et,lt)}),I&&tg(et,ct),at}function it(et,tt,ot,nt){var at=Ka(ot);if(typeof at!="function")throw Error(p(150));if(ot=at.call(ot),ot==null)throw Error(p(151));for(var dt=at=null,ut=tt,ct=tt=0,ht=null,mt=ot.next();ut!==null&&!mt.done;ct++,mt=ot.next()){ut.index>ct?(ht=ut,ut=null):ht=ut.sibling;var lt=j(et,ut,mt.value,nt);if(lt===null){ut===null&&(ut=ht);break}e&&ut&&lt.alternate===null&&i(et,ut),tt=c(lt,tt,ct),dt===null?at=lt:dt.sibling=lt,dt=lt,ut=ht}if(mt.done)return s(et,ut),I&&tg(et,ct),at;if(ut===null){for(;!mt.done;ct++,mt=ot.next())mt=$(et,mt.value,nt),mt!==null&&(tt=c(mt,tt,ct),dt===null?at=mt:dt.sibling=mt,dt=mt);return I&&tg(et,ct),at}for(ut=a(et,ut);!mt.done;ct++,mt=ot.next())mt=_e(ut,et,ct,mt.value,nt),mt!==null&&(e&&mt.alternate!==null&&ut.delete(mt.key===null?ct:mt.key),tt=c(mt,tt,ct),dt===null?at=mt:dt.sibling=mt,dt=mt);return e&&ut.forEach(function(ft){return i(et,ft)}),I&&tg(et,ct),at}function st(et,tt,ot,nt){if(typeof ot=="object"&&ot!==null&&ot.type===ya&&ot.key===null&&(ot=ot.props.children),typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case va:e:{for(var at=ot.key,dt=tt;dt!==null;){if(dt.key===at){if(at=ot.type,at===ya){if(dt.tag===7){s(et,dt.sibling),tt=o(dt,ot.props.children),tt.return=et,et=tt;break e}}else if(dt.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===Ha&&Ng(at)===dt.type){s(et,dt.sibling),tt=o(dt,ot.props),tt.ref=Lg(et,dt,ot),tt.return=et,et=tt;break e}s(et,dt);break}else i(et,dt);dt=dt.sibling}ot.type===ya?(tt=Tg(ot.props.children,et.mode,nt,ot.key),tt.return=et,et=tt):(nt=Rg(ot.type,ot.key,ot.props,null,et.mode,nt),nt.ref=Lg(et,tt,ot),nt.return=et,et=nt)}return d(et);case wa:e:{for(dt=ot.key;tt!==null;){if(tt.key===dt)if(tt.tag===4&&tt.stateNode.containerInfo===ot.containerInfo&&tt.stateNode.implementation===ot.implementation){s(et,tt.sibling),tt=o(tt,ot.children||[]),tt.return=et,et=tt;break e}else{s(et,tt);break}else i(et,tt);tt=tt.sibling}tt=Sg(ot,et.mode,nt),tt.return=et,et=tt}return d(et);case Ha:return dt=ot._init,st(et,tt,dt(ot._payload),nt)}if(eb(ot))return rt(et,tt,ot,nt);if(Ka(ot))return it(et,tt,ot,nt);Mg(et,ot)}return typeof ot=="string"&&ot!==""||typeof ot=="number"?(ot=""+ot,tt!==null&&tt.tag===6?(s(et,tt.sibling),tt=o(tt,ot),tt.return=et,et=tt):(s(et,tt),tt=Qg(ot,et.mode,nt),tt.return=et,et=tt),d(et)):s(et,tt)}return st}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(e){var i=Wg.current;E(Wg),e._currentValue=i}function bh(e,i,s){for(;e!==null;){var a=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,a!==null&&(a.childLanes|=i)):a!==null&&(a.childLanes&i)!==i&&(a.childLanes|=i),e===s)break;e=e.return}}function ch(e,i){Xg=e,Zg=Yg=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&i&&(dh=!0),e.firstContext=null)}function eh(e){var i=e._currentValue;if(Zg!==e)if(e={context:e,memoizedValue:i,next:null},Yg===null){if(Xg===null)throw Error(p(308));Yg=e,Xg.dependencies={lanes:0,firstContext:e}}else Yg=Yg.next=e;return i}var fh=null;function gh(e){fh===null?fh=[e]:fh.push(e)}function hh(e,i,s,a){var o=i.interleaved;return o===null?(s.next=s,gh(i)):(s.next=o.next,o.next=s),i.interleaved=s,ih(e,a)}function ih(e,i){e.lanes|=i;var s=e.alternate;for(s!==null&&(s.lanes|=i),s=e,e=e.return;e!==null;)e.childLanes|=i,s=e.alternate,s!==null&&(s.childLanes|=i),s=e,e=e.return;return s.tag===3?s.stateNode:null}var jh=!1;function kh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mh(e,i){return{eventTime:e,lane:i,tag:0,payload:null,callback:null,next:null}}function nh(e,i,s){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,K&2){var o=a.pending;return o===null?i.next=i:(i.next=o.next,o.next=i),a.pending=i,ih(e,s)}return o=a.interleaved,o===null?(i.next=i,gh(a)):(i.next=o.next,o.next=i),a.interleaved=i,ih(e,s)}function oh(e,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194240)!==0)){var a=i.lanes;a&=e.pendingLanes,s|=a,i.lanes=s,Cc(e,s)}}function ph(e,i){var s=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,s===a)){var o=null,c=null;if(s=s.firstBaseUpdate,s!==null){do{var d={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};c===null?o=c=d:c=c.next=d,s=s.next}while(s!==null);c===null?o=c=i:c=c.next=i}else o=c=i;s={baseState:a.baseState,firstBaseUpdate:o,lastBaseUpdate:c,shared:a.shared,effects:a.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=i:e.next=i,s.lastBaseUpdate=i}function qh(e,i,s,a){var o=e.updateQueue;jh=!1;var c=o.firstBaseUpdate,d=o.lastBaseUpdate,g=o.shared.pending;if(g!==null){o.shared.pending=null;var h=g,b=h.next;h.next=null,d===null?c=b:d.next=b,d=h;var _=e.alternate;_!==null&&(_=_.updateQueue,g=_.lastBaseUpdate,g!==d&&(g===null?_.firstBaseUpdate=b:g.next=b,_.lastBaseUpdate=h))}if(c!==null){var $=o.baseState;d=0,_=b=h=null,g=c;do{var j=g.lane,_e=g.eventTime;if((a&j)===j){_!==null&&(_=_.next={eventTime:_e,lane:0,tag:g.tag,payload:g.payload,callback:g.callback,next:null});e:{var rt=e,it=g;switch(j=i,_e=s,it.tag){case 1:if(rt=it.payload,typeof rt=="function"){$=rt.call(_e,$,j);break e}$=rt;break e;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=it.payload,j=typeof rt=="function"?rt.call(_e,$,j):rt,j==null)break e;$=A({},$,j);break e;case 2:jh=!0}}g.callback!==null&&g.lane!==0&&(e.flags|=64,j=o.effects,j===null?o.effects=[g]:j.push(g))}else _e={eventTime:_e,lane:j,tag:g.tag,payload:g.payload,callback:g.callback,next:null},_===null?(b=_=_e,h=$):_=_.next=_e,d|=j;if(g=g.next,g===null){if(g=o.shared.pending,g===null)break;j=g,g=j.next,j.next=null,o.lastBaseUpdate=j,o.shared.pending=null}}while(!0);if(_===null&&(h=$),o.baseState=h,o.firstBaseUpdate=b,o.lastBaseUpdate=_,i=o.shared.interleaved,i!==null){o=i;do d|=o.lane,o=o.next;while(o!==i)}else c===null&&(o.shared.lanes=0);rh|=d,e.lanes=d,e.memoizedState=$}}function sh(e,i,s){if(e=i.effects,i.effects=null,e!==null)for(i=0;i<e.length;i++){var a=e[i],o=a.callback;if(o!==null){if(a.callback=null,a=s,typeof o!="function")throw Error(p(191,o));o.call(a)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(e){if(e===th)throw Error(p(174));return e}function yh(e,i){switch(G(wh,i),G(vh,e),G(uh,th),e=i.nodeType,e){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:lb(null,"");break;default:e=e===8?i.parentNode:i,i=e.namespaceURI||null,e=e.tagName,i=lb(i,e)}E(uh),G(uh,i)}function zh(){E(uh),E(vh),E(wh)}function Ah(e){xh(wh.current);var i=xh(uh.current),s=lb(i,e.type);i!==s&&(G(vh,e),G(uh,s))}function Bh(e){vh.current===e&&(E(uh),E(vh))}var L=Uf(0);function Ch(e){for(var i=e;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Dh=[];function Eh(){for(var e=0;e<Dh.length;e++)Dh[e]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p(321))}function Mh(e,i){if(i===null)return!1;for(var s=0;s<i.length&&s<e.length;s++)if(!He(e[s],i[s]))return!1;return!0}function Nh(e,i,s,a,o,c){if(Hh=c,M=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Fh.current=e===null||e.memoizedState===null?Oh:Ph,e=s(a,o),Jh){c=0;do{if(Jh=!1,Kh=0,25<=c)throw Error(p(301));c+=1,O=N=null,i.updateQueue=null,Fh.current=Qh,e=s(a,o)}while(Jh)}if(Fh.current=Rh,i=N!==null&&N.next!==null,Hh=0,O=N=M=null,Ih=!1,i)throw Error(p(300));return e}function Sh(){var e=Kh!==0;return Kh=0,e}function Th(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M.memoizedState=O=e:O=O.next=e,O}function Uh(){if(N===null){var e=M.alternate;e=e!==null?e.memoizedState:null}else e=N.next;var i=O===null?M.memoizedState:O.next;if(i!==null)O=i,N=e;else{if(e===null)throw Error(p(310));N=e,e={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O===null?M.memoizedState=O=e:O=O.next=e}return O}function Vh(e,i){return typeof i=="function"?i(e):i}function Wh(e){var i=Uh(),s=i.queue;if(s===null)throw Error(p(311));s.lastRenderedReducer=e;var a=N,o=a.baseQueue,c=s.pending;if(c!==null){if(o!==null){var d=o.next;o.next=c.next,c.next=d}a.baseQueue=o=c,s.pending=null}if(o!==null){c=o.next,a=a.baseState;var g=d=null,h=null,b=c;do{var _=b.lane;if((Hh&_)===_)h!==null&&(h=h.next={lane:0,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),a=b.hasEagerState?b.eagerState:e(a,b.action);else{var $={lane:_,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null};h===null?(g=h=$,d=a):h=h.next=$,M.lanes|=_,rh|=_}b=b.next}while(b!==null&&b!==c);h===null?d=a:h.next=g,He(a,i.memoizedState)||(dh=!0),i.memoizedState=a,i.baseState=d,i.baseQueue=h,s.lastRenderedState=a}if(e=s.interleaved,e!==null){o=e;do c=o.lane,M.lanes|=c,rh|=c,o=o.next;while(o!==e)}else o===null&&(s.lanes=0);return[i.memoizedState,s.dispatch]}function Xh(e){var i=Uh(),s=i.queue;if(s===null)throw Error(p(311));s.lastRenderedReducer=e;var a=s.dispatch,o=s.pending,c=i.memoizedState;if(o!==null){s.pending=null;var d=o=o.next;do c=e(c,d.action),d=d.next;while(d!==o);He(c,i.memoizedState)||(dh=!0),i.memoizedState=c,i.baseQueue===null&&(i.baseState=c),s.lastRenderedState=c}return[c,a]}function Yh(){}function Zh(e,i){var s=M,a=Uh(),o=i(),c=!He(a.memoizedState,o);if(c&&(a.memoizedState=o,dh=!0),a=a.queue,$h(ai.bind(null,s,a,e),[e]),a.getSnapshot!==i||c||O!==null&&O.memoizedState.tag&1){if(s.flags|=2048,bi(9,ci.bind(null,s,a,o,i),void 0,null),Q===null)throw Error(p(349));Hh&30||di(s,i,o)}return o}function di(e,i,s){e.flags|=16384,e={getSnapshot:i,value:s},i=M.updateQueue,i===null?(i={lastEffect:null,stores:null},M.updateQueue=i,i.stores=[e]):(s=i.stores,s===null?i.stores=[e]:s.push(e))}function ci(e,i,s,a){i.value=s,i.getSnapshot=a,ei(i)&&fi(e)}function ai(e,i,s){return s(function(){ei(i)&&fi(e)})}function ei(e){var i=e.getSnapshot;e=e.value;try{var s=i();return!He(e,s)}catch{return!0}}function fi(e){var i=ih(e,1);i!==null&&gi(i,e,1,-1)}function hi(e){var i=Th();return typeof e=="function"&&(e=e()),i.memoizedState=i.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:e},i.queue=e,e=e.dispatch=ii.bind(null,M,e),[i.memoizedState,e]}function bi(e,i,s,a){return e={tag:e,create:i,destroy:s,deps:a,next:null},i=M.updateQueue,i===null?(i={lastEffect:null,stores:null},M.updateQueue=i,i.lastEffect=e.next=e):(s=i.lastEffect,s===null?i.lastEffect=e.next=e:(a=s.next,s.next=e,e.next=a,i.lastEffect=e)),e}function ji(){return Uh().memoizedState}function ki(e,i,s,a){var o=Th();M.flags|=e,o.memoizedState=bi(1|i,s,void 0,a===void 0?null:a)}function li(e,i,s,a){var o=Uh();a=a===void 0?null:a;var c=void 0;if(N!==null){var d=N.memoizedState;if(c=d.destroy,a!==null&&Mh(a,d.deps)){o.memoizedState=bi(i,s,c,a);return}}M.flags|=e,o.memoizedState=bi(1|i,s,c,a)}function mi(e,i){return ki(8390656,8,e,i)}function $h(e,i){return li(2048,8,e,i)}function ni(e,i){return li(4,2,e,i)}function oi(e,i){return li(4,4,e,i)}function pi(e,i){if(typeof i=="function")return e=e(),i(e),function(){i(null)};if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function qi(e,i,s){return s=s!=null?s.concat([e]):null,li(4,4,pi.bind(null,i,e),s)}function ri(){}function si(e,i){var s=Uh();i=i===void 0?null:i;var a=s.memoizedState;return a!==null&&i!==null&&Mh(i,a[1])?a[0]:(s.memoizedState=[e,i],e)}function ti(e,i){var s=Uh();i=i===void 0?null:i;var a=s.memoizedState;return a!==null&&i!==null&&Mh(i,a[1])?a[0]:(e=e(),s.memoizedState=[e,i],e)}function ui(e,i,s){return Hh&21?(He(s,i)||(s=yc(),M.lanes|=s,rh|=s,e.baseState=!0),i):(e.baseState&&(e.baseState=!1,dh=!0),e.memoizedState=s)}function vi(e,i){var s=C;C=s!==0&&4>s?s:4,e(!0);var a=Gh.transition;Gh.transition={};try{e(!1),i()}finally{C=s,Gh.transition=a}}function wi(){return Uh().memoizedState}function xi(e,i,s){var a=yi(e);if(s={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null},zi(e))Ai(i,s);else if(s=hh(e,i,s,a),s!==null){var o=R();gi(s,e,a,o),Bi(s,i,a)}}function ii(e,i,s){var a=yi(e),o={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null};if(zi(e))Ai(i,o);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=i.lastRenderedReducer,c!==null))try{var d=i.lastRenderedState,g=c(d,s);if(o.hasEagerState=!0,o.eagerState=g,He(g,d)){var h=i.interleaved;h===null?(o.next=o,gh(i)):(o.next=h.next,h.next=o),i.interleaved=o;return}}catch{}finally{}s=hh(e,i,o,a),s!==null&&(o=R(),gi(s,e,a,o),Bi(s,i,a))}}function zi(e){var i=e.alternate;return e===M||i!==null&&i===M}function Ai(e,i){Jh=Ih=!0;var s=e.pending;s===null?i.next=i:(i.next=s.next,s.next=i),e.pending=i}function Bi(e,i,s){if(s&4194240){var a=i.lanes;a&=e.pendingLanes,s|=a,i.lanes=s,Cc(e,s)}}var Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(e,i){return Th().memoizedState=[e,i===void 0?null:i],e},useContext:eh,useEffect:mi,useImperativeHandle:function(e,i,s){return s=s!=null?s.concat([e]):null,ki(4194308,4,pi.bind(null,i,e),s)},useLayoutEffect:function(e,i){return ki(4194308,4,e,i)},useInsertionEffect:function(e,i){return ki(4,2,e,i)},useMemo:function(e,i){var s=Th();return i=i===void 0?null:i,e=e(),s.memoizedState=[e,i],e},useReducer:function(e,i,s){var a=Th();return i=s!==void 0?s(i):i,a.memoizedState=a.baseState=i,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},a.queue=e,e=e.dispatch=xi.bind(null,M,e),[a.memoizedState,e]},useRef:function(e){var i=Th();return e={current:e},i.memoizedState=e},useState:hi,useDebugValue:ri,useDeferredValue:function(e){return Th().memoizedState=e},useTransition:function(){var e=hi(!1),i=e[0];return e=vi.bind(null,e[1]),Th().memoizedState=e,[i,e]},useMutableSource:function(){},useSyncExternalStore:function(e,i,s){var a=M,o=Th();if(I){if(s===void 0)throw Error(p(407));s=s()}else{if(s=i(),Q===null)throw Error(p(349));Hh&30||di(a,i,s)}o.memoizedState=s;var c={value:s,getSnapshot:i};return o.queue=c,mi(ai.bind(null,a,c,e),[e]),a.flags|=2048,bi(9,ci.bind(null,a,c,s,i),void 0,null),s},useId:function(){var e=Th(),i=Q.identifierPrefix;if(I){var s=sg,a=rg;s=(a&~(1<<32-oc(a)-1)).toString(32)+s,i=":"+i+"R"+s,s=Kh++,0<s&&(i+="H"+s.toString(32)),i+=":"}else s=Lh++,i=":"+i+"r"+s.toString(32)+":";return e.memoizedState=i},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(e){var i=Uh();return ui(i,N.memoizedState,e)},useTransition:function(){var e=Wh(Vh)[0],i=Uh().memoizedState;return[e,i]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(e){var i=Uh();return N===null?i.memoizedState=e:ui(i,N.memoizedState,e)},useTransition:function(){var e=Xh(Vh)[0],i=Uh().memoizedState;return[e,i]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(e,i){if(e&&e.defaultProps){i=A({},i),e=e.defaultProps;for(var s in e)i[s]===void 0&&(i[s]=e[s]);return i}return i}function Di(e,i,s,a){i=e.memoizedState,s=s(a,i),s=s==null?i:A({},i,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Ei={isMounted:function(e){return(e=e._reactInternals)?Vb(e)===e:!1},enqueueSetState:function(e,i,s){e=e._reactInternals;var a=R(),o=yi(e),c=mh(a,o);c.payload=i,s!=null&&(c.callback=s),i=nh(e,c,o),i!==null&&(gi(i,e,o,a),oh(i,e,o))},enqueueReplaceState:function(e,i,s){e=e._reactInternals;var a=R(),o=yi(e),c=mh(a,o);c.tag=1,c.payload=i,s!=null&&(c.callback=s),i=nh(e,c,o),i!==null&&(gi(i,e,o,a),oh(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var s=R(),a=yi(e),o=mh(s,a);o.tag=2,i!=null&&(o.callback=i),i=nh(e,o,a),i!==null&&(gi(i,e,a,s),oh(i,e,a))}};function Fi(e,i,s,a,o,c,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,c,d):i.prototype&&i.prototype.isPureReactComponent?!Ie(s,a)||!Ie(o,c):!0}function Gi(e,i,s){var a=!1,o=Vf,c=i.contextType;return typeof c=="object"&&c!==null?c=eh(c):(o=Zf(i)?Xf:H.current,a=i.contextTypes,c=(a=a!=null)?Yf(e,o):Vf),i=new i(s,c),e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Ei,e.stateNode=i,i._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=c),i}function Hi(e,i,s,a){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,a),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,a),i.state!==e&&Ei.enqueueReplaceState(i,i.state,null)}function Ii(e,i,s,a){var o=e.stateNode;o.props=s,o.state=e.memoizedState,o.refs={},kh(e);var c=i.contextType;typeof c=="object"&&c!==null?o.context=eh(c):(c=Zf(i)?Xf:H.current,o.context=Yf(e,c)),o.state=e.memoizedState,c=i.getDerivedStateFromProps,typeof c=="function"&&(Di(e,i,c,s),o.state=e.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(i=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),i!==o.state&&Ei.enqueueReplaceState(o,o.state,null),qh(e,s,o,a),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Ji(e,i){try{var s="",a=i;do s+=Pa(a),a=a.return;while(a);var o=s}catch(c){o=`
Error generating stack: `+c.message+`
`+c.stack}return{value:e,source:i,stack:o,digest:null}}function Ki(e,i,s){return{value:e,source:null,stack:s??null,digest:i??null}}function Li(e,i){try{console.error(i.value)}catch(s){setTimeout(function(){throw s})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(e,i,s){s=mh(-1,s),s.tag=3,s.payload={element:null};var a=i.value;return s.callback=function(){Oi||(Oi=!0,Pi=a),Li(e,i)},s}function Qi(e,i,s){s=mh(-1,s),s.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var o=i.value;s.payload=function(){return a(o)},s.callback=function(){Li(e,i)}}var c=e.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(s.callback=function(){Li(e,i),typeof a!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var d=i.stack;this.componentDidCatch(i.value,{componentStack:d!==null?d:""})}),s}function Si(e,i,s){var a=e.pingCache;if(a===null){a=e.pingCache=new Mi;var o=new Set;a.set(i,o)}else o=a.get(i),o===void 0&&(o=new Set,a.set(i,o));o.has(s)||(o.add(s),e=Ti.bind(null,e,i,s),i.then(e,e))}function Ui(e){do{var i;if((i=e.tag===13)&&(i=e.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return e;e=e.return}while(e!==null);return null}function Vi(e,i,s,a,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===i?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(i=mh(-1,1),i.tag=2,nh(s,i,1))),s.lanes|=1),e)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(e,i,s,a){i.child=e===null?Vg(i,null,s,a):Ug(i,e.child,s,a)}function Yi(e,i,s,a,o){s=s.render;var c=i.ref;return ch(i,o),a=Nh(e,i,s,a,c,o),s=Sh(),e!==null&&!dh?(i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~o,Zi(e,i,o)):(I&&s&&vg(i),i.flags|=1,Xi(e,i,a,o),i.child)}function $i(e,i,s,a,o){if(e===null){var c=s.type;return typeof c=="function"&&!aj(c)&&c.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(i.tag=15,i.type=c,bj(e,i,c,a,o)):(e=Rg(s.type,null,a,i,i.mode,o),e.ref=i.ref,e.return=i,i.child=e)}if(c=e.child,!(e.lanes&o)){var d=c.memoizedProps;if(s=s.compare,s=s!==null?s:Ie,s(d,a)&&e.ref===i.ref)return Zi(e,i,o)}return i.flags|=1,e=Pg(c,a),e.ref=i.ref,e.return=i,i.child=e}function bj(e,i,s,a,o){if(e!==null){var c=e.memoizedProps;if(Ie(c,a)&&e.ref===i.ref)if(dh=!1,i.pendingProps=a=c,(e.lanes&o)!==0)e.flags&131072&&(dh=!0);else return i.lanes=e.lanes,Zi(e,i,o)}return cj(e,i,s,a,o)}function dj(e,i,s){var a=i.pendingProps,o=a.children,c=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=s;else{if(!(s&1073741824))return e=c!==null?c.baseLanes|s:s,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:e,cachePool:null,transitions:null},i.updateQueue=null,G(ej,fj),fj|=e,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=c!==null?c.baseLanes:s,G(ej,fj),fj|=a}else c!==null?(a=c.baseLanes|s,i.memoizedState=null):a=s,G(ej,fj),fj|=a;return Xi(e,i,o,s),i.child}function gj(e,i){var s=i.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(i.flags|=512,i.flags|=2097152)}function cj(e,i,s,a,o){var c=Zf(s)?Xf:H.current;return c=Yf(i,c),ch(i,o),s=Nh(e,i,s,a,c,o),a=Sh(),e!==null&&!dh?(i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~o,Zi(e,i,o)):(I&&a&&vg(i),i.flags|=1,Xi(e,i,s,o),i.child)}function hj(e,i,s,a,o){if(Zf(s)){var c=!0;cg(i)}else c=!1;if(ch(i,o),i.stateNode===null)ij(e,i),Gi(i,s,a),Ii(i,s,a,o),a=!0;else if(e===null){var d=i.stateNode,g=i.memoizedProps;d.props=g;var h=d.context,b=s.contextType;typeof b=="object"&&b!==null?b=eh(b):(b=Zf(s)?Xf:H.current,b=Yf(i,b));var _=s.getDerivedStateFromProps,$=typeof _=="function"||typeof d.getSnapshotBeforeUpdate=="function";$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==a||h!==b)&&Hi(i,d,a,b),jh=!1;var j=i.memoizedState;d.state=j,qh(i,a,d,o),h=i.memoizedState,g!==a||j!==h||Wf.current||jh?(typeof _=="function"&&(Di(i,s,_,a),h=i.memoizedState),(g=jh||Fi(i,s,g,a,j,h,b))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=a,i.memoizedState=h),d.props=a,d.state=h,d.context=b,a=g):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),a=!1)}else{d=i.stateNode,lh(e,i),g=i.memoizedProps,b=i.type===i.elementType?g:Ci(i.type,g),d.props=b,$=i.pendingProps,j=d.context,h=s.contextType,typeof h=="object"&&h!==null?h=eh(h):(h=Zf(s)?Xf:H.current,h=Yf(i,h));var _e=s.getDerivedStateFromProps;(_=typeof _e=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==$||j!==h)&&Hi(i,d,a,h),jh=!1,j=i.memoizedState,d.state=j,qh(i,a,d,o);var rt=i.memoizedState;g!==$||j!==rt||Wf.current||jh?(typeof _e=="function"&&(Di(i,s,_e,a),rt=i.memoizedState),(b=jh||Fi(i,s,b,a,j,rt,h)||!1)?(_||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(a,rt,h),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(a,rt,h)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),i.memoizedProps=a,i.memoizedState=rt),d.props=a,d.state=rt,d.context=h,a=b):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),a=!1)}return jj(e,i,s,a,c,o)}function jj(e,i,s,a,o,c){gj(e,i);var d=(i.flags&128)!==0;if(!a&&!d)return o&&dg(i,s,!1),Zi(e,i,c);a=i.stateNode,Wi.current=i;var g=d&&typeof s.getDerivedStateFromError!="function"?null:a.render();return i.flags|=1,e!==null&&d?(i.child=Ug(i,e.child,null,c),i.child=Ug(i,null,g,c)):Xi(e,i,g,c),i.memoizedState=a.state,o&&dg(i,s,!0),i.child}function kj(e){var i=e.stateNode;i.pendingContext?ag(e,i.pendingContext,i.pendingContext!==i.context):i.context&&ag(e,i.context,!1),yh(e,i.containerInfo)}function lj(e,i,s,a,o){return Ig(),Jg(o),i.flags|=256,Xi(e,i,s,a),i.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(e){return{baseLanes:e,cachePool:null,transitions:null}}function oj(e,i,s){var a=i.pendingProps,o=L.current,c=!1,d=(i.flags&128)!==0,g;if((g=d)||(g=e!==null&&e.memoizedState===null?!1:(o&2)!==0),g?(c=!0,i.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),G(L,o&1),e===null)return Eg(i),e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(i.mode&1?e.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(d=a.children,e=a.fallback,c?(a=i.mode,c=i.child,d={mode:"hidden",children:d},!(a&1)&&c!==null?(c.childLanes=0,c.pendingProps=d):c=pj(d,a,0,null),e=Tg(e,a,s,null),c.return=i,e.return=i,c.sibling=e,i.child=c,i.child.memoizedState=nj(s),i.memoizedState=mj,e):qj(i,d));if(o=e.memoizedState,o!==null&&(g=o.dehydrated,g!==null))return rj(e,i,d,a,g,o,s);if(c){c=a.fallback,d=i.mode,o=e.child,g=o.sibling;var h={mode:"hidden",children:a.children};return!(d&1)&&i.child!==o?(a=i.child,a.childLanes=0,a.pendingProps=h,i.deletions=null):(a=Pg(o,h),a.subtreeFlags=o.subtreeFlags&14680064),g!==null?c=Pg(g,c):(c=Tg(c,d,s,null),c.flags|=2),c.return=i,a.return=i,a.sibling=c,i.child=a,a=c,c=i.child,d=e.child.memoizedState,d=d===null?nj(s):{baseLanes:d.baseLanes|s,cachePool:null,transitions:d.transitions},c.memoizedState=d,c.childLanes=e.childLanes&~s,i.memoizedState=mj,a}return c=e.child,e=c.sibling,a=Pg(c,{mode:"visible",children:a.children}),!(i.mode&1)&&(a.lanes=s),a.return=i,a.sibling=null,e!==null&&(s=i.deletions,s===null?(i.deletions=[e],i.flags|=16):s.push(e)),i.child=a,i.memoizedState=null,a}function qj(e,i){return i=pj({mode:"visible",children:i},e.mode,0,null),i.return=e,e.child=i}function sj(e,i,s,a){return a!==null&&Jg(a),Ug(i,e.child,null,s),e=qj(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function rj(e,i,s,a,o,c,d){if(s)return i.flags&256?(i.flags&=-257,a=Ki(Error(p(422))),sj(e,i,d,a)):i.memoizedState!==null?(i.child=e.child,i.flags|=128,null):(c=a.fallback,o=i.mode,a=pj({mode:"visible",children:a.children},o,0,null),c=Tg(c,o,d,null),c.flags|=2,a.return=i,c.return=i,a.sibling=c,i.child=a,i.mode&1&&Ug(i,e.child,null,d),i.child.memoizedState=nj(d),i.memoizedState=mj,c);if(!(i.mode&1))return sj(e,i,d,null);if(o.data==="$!"){if(a=o.nextSibling&&o.nextSibling.dataset,a)var g=a.dgst;return a=g,c=Error(p(419)),a=Ki(c,a,void 0),sj(e,i,d,a)}if(g=(d&e.childLanes)!==0,dh||g){if(a=Q,a!==null){switch(d&-d){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(a.suspendedLanes|d)?0:o,o!==0&&o!==c.retryLane&&(c.retryLane=o,ih(e,o),gi(a,e,o,-1))}return tj(),a=Ki(Error(p(421))),sj(e,i,d,a)}return o.data==="$?"?(i.flags|=128,i.child=e.child,i=uj.bind(null,e),o._reactRetry=i,null):(e=c.treeContext,yg=Lf(o.nextSibling),xg=i,I=!0,zg=null,e!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=e.id,sg=e.overflow,qg=i),i=qj(i,a.children),i.flags|=4096,i)}function vj(e,i,s){e.lanes|=i;var a=e.alternate;a!==null&&(a.lanes|=i),bh(e.return,i,s)}function wj(e,i,s,a,o){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:o}:(c.isBackwards=i,c.rendering=null,c.renderingStartTime=0,c.last=a,c.tail=s,c.tailMode=o)}function xj(e,i,s){var a=i.pendingProps,o=a.revealOrder,c=a.tail;if(Xi(e,i,a.children,s),a=L.current,a&2)a=a&1|2,i.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vj(e,s,i);else if(e.tag===19)vj(e,s,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break e;for(;e.sibling===null;){if(e.return===null||e.return===i)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(G(L,a),!(i.mode&1))i.memoizedState=null;else switch(o){case"forwards":for(s=i.child,o=null;s!==null;)e=s.alternate,e!==null&&Ch(e)===null&&(o=s),s=s.sibling;s=o,s===null?(o=i.child,i.child=null):(o=s.sibling,s.sibling=null),wj(i,!1,o,s,c);break;case"backwards":for(s=null,o=i.child,i.child=null;o!==null;){if(e=o.alternate,e!==null&&Ch(e)===null){i.child=o;break}e=o.sibling,o.sibling=s,s=o,o=e}wj(i,!0,s,null,c);break;case"together":wj(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ij(e,i){!(i.mode&1)&&e!==null&&(e.alternate=null,i.alternate=null,i.flags|=2)}function Zi(e,i,s){if(e!==null&&(i.dependencies=e.dependencies),rh|=i.lanes,!(s&i.childLanes))return null;if(e!==null&&i.child!==e.child)throw Error(p(153));if(i.child!==null){for(e=i.child,s=Pg(e,e.pendingProps),i.child=s,s.return=i;e.sibling!==null;)e=e.sibling,s=s.sibling=Pg(e,e.pendingProps),s.return=i;s.sibling=null}return i.child}function yj(e,i,s){switch(i.tag){case 3:kj(i),Ig();break;case 5:Ah(i);break;case 1:Zf(i.type)&&cg(i);break;case 4:yh(i,i.stateNode.containerInfo);break;case 10:var a=i.type._context,o=i.memoizedProps.value;G(Wg,a._currentValue),a._currentValue=o;break;case 13:if(a=i.memoizedState,a!==null)return a.dehydrated!==null?(G(L,L.current&1),i.flags|=128,null):s&i.child.childLanes?oj(e,i,s):(G(L,L.current&1),e=Zi(e,i,s),e!==null?e.sibling:null);G(L,L.current&1);break;case 19:if(a=(s&i.childLanes)!==0,e.flags&128){if(a)return xj(e,i,s);i.flags|=128}if(o=i.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),G(L,L.current),a)break;return null;case 22:case 23:return i.lanes=0,dj(e,i,s)}return Zi(e,i,s)}var zj,Aj,Bj,Cj;zj=function(e,i){for(var s=i.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Aj=function(){};Bj=function(e,i,s,a){var o=e.memoizedProps;if(o!==a){e=i.stateNode,xh(uh.current);var c=null;switch(s){case"input":o=Ya(e,o),a=Ya(e,a),c=[];break;case"select":o=A({},o,{value:void 0}),a=A({},a,{value:void 0}),c=[];break;case"textarea":o=gb(e,o),a=gb(e,a),c=[];break;default:typeof o.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Bf)}ub(s,a);var d;s=null;for(b in o)if(!a.hasOwnProperty(b)&&o.hasOwnProperty(b)&&o[b]!=null)if(b==="style"){var g=o[b];for(d in g)g.hasOwnProperty(d)&&(s||(s={}),s[d]="")}else b!=="dangerouslySetInnerHTML"&&b!=="children"&&b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(ea.hasOwnProperty(b)?c||(c=[]):(c=c||[]).push(b,null));for(b in a){var h=a[b];if(g=o!=null?o[b]:void 0,a.hasOwnProperty(b)&&h!==g&&(h!=null||g!=null))if(b==="style")if(g){for(d in g)!g.hasOwnProperty(d)||h&&h.hasOwnProperty(d)||(s||(s={}),s[d]="");for(d in h)h.hasOwnProperty(d)&&g[d]!==h[d]&&(s||(s={}),s[d]=h[d])}else s||(c||(c=[]),c.push(b,s)),s=h;else b==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,g=g?g.__html:void 0,h!=null&&g!==h&&(c=c||[]).push(b,h)):b==="children"?typeof h!="string"&&typeof h!="number"||(c=c||[]).push(b,""+h):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&(ea.hasOwnProperty(b)?(h!=null&&b==="onScroll"&&D("scroll",e),c||g===h||(c=[])):(c=c||[]).push(b,h))}s&&(c=c||[]).push("style",s);var b=c;(i.updateQueue=b)&&(i.flags|=4)}};Cj=function(e,i,s,a){s!==a&&(i.flags|=4)};function Dj(e,i){if(!I)switch(e.tailMode){case"hidden":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function S(e){var i=e.alternate!==null&&e.alternate.child===e.child,s=0,a=0;if(i)for(var o=e.child;o!==null;)s|=o.lanes|o.childLanes,a|=o.subtreeFlags&14680064,a|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)s|=o.lanes|o.childLanes,a|=o.subtreeFlags,a|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=a,e.childLanes=s,i}function Ej(e,i,s){var a=i.pendingProps;switch(wg(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(i),null;case 1:return Zf(i.type)&&$f(),S(i),null;case 3:return a=i.stateNode,zh(),E(Wf),E(H),Eh(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Gg(i)?i.flags|=4:e===null||e.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(e,i),S(i),null;case 5:Bh(i);var o=xh(wh.current);if(s=i.type,e!==null&&i.stateNode!=null)Bj(e,i,s,a,o),e.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!a){if(i.stateNode===null)throw Error(p(166));return S(i),null}if(e=xh(uh.current),Gg(i)){a=i.stateNode,s=i.type;var c=i.memoizedProps;switch(a[Of]=i,a[Pf]=c,e=(i.mode&1)!==0,s){case"dialog":D("cancel",a),D("close",a);break;case"iframe":case"object":case"embed":D("load",a);break;case"video":case"audio":for(o=0;o<lf.length;o++)D(lf[o],a);break;case"source":D("error",a);break;case"img":case"image":case"link":D("error",a),D("load",a);break;case"details":D("toggle",a);break;case"input":Za(a,c),D("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!c.multiple},D("invalid",a);break;case"textarea":hb(a,c),D("invalid",a)}ub(s,c),o=null;for(var d in c)if(c.hasOwnProperty(d)){var g=c[d];d==="children"?typeof g=="string"?a.textContent!==g&&(c.suppressHydrationWarning!==!0&&Af(a.textContent,g,e),o=["children",g]):typeof g=="number"&&a.textContent!==""+g&&(c.suppressHydrationWarning!==!0&&Af(a.textContent,g,e),o=["children",""+g]):ea.hasOwnProperty(d)&&g!=null&&d==="onScroll"&&D("scroll",a)}switch(s){case"input":Va(a),db(a,c,!0);break;case"textarea":Va(a),jb(a);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(a.onclick=Bf)}a=o,i.updateQueue=a,a!==null&&(i.flags|=4)}else{d=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kb(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=d.createElement(s,{is:a.is}):(e=d.createElement(s),s==="select"&&(d=e,a.multiple?d.multiple=!0:a.size&&(d.size=a.size))):e=d.createElementNS(e,s),e[Of]=i,e[Pf]=a,zj(e,i,!1,!1),i.stateNode=e;e:{switch(d=vb(s,a),s){case"dialog":D("cancel",e),D("close",e),o=a;break;case"iframe":case"object":case"embed":D("load",e),o=a;break;case"video":case"audio":for(o=0;o<lf.length;o++)D(lf[o],e);o=a;break;case"source":D("error",e),o=a;break;case"img":case"image":case"link":D("error",e),D("load",e),o=a;break;case"details":D("toggle",e),o=a;break;case"input":Za(e,a),o=Ya(e,a),D("invalid",e);break;case"option":o=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},o=A({},a,{value:void 0}),D("invalid",e);break;case"textarea":hb(e,a),o=gb(e,a),D("invalid",e);break;default:o=a}ub(s,o),g=o;for(c in g)if(g.hasOwnProperty(c)){var h=g[c];c==="style"?sb(e,h):c==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&nb(e,h)):c==="children"?typeof h=="string"?(s!=="textarea"||h!=="")&&ob(e,h):typeof h=="number"&&ob(e,""+h):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ea.hasOwnProperty(c)?h!=null&&c==="onScroll"&&D("scroll",e):h!=null&&ta(e,c,h,d))}switch(s){case"input":Va(e),db(e,a,!1);break;case"textarea":Va(e),jb(e);break;case"option":a.value!=null&&e.setAttribute("value",""+Sa(a.value));break;case"select":e.multiple=!!a.multiple,c=a.value,c!=null?fb(e,!!a.multiple,c,!1):a.defaultValue!=null&&fb(e,!!a.multiple,a.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Bf)}switch(s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return S(i),null;case 6:if(e&&i.stateNode!=null)Cj(e,i,e.memoizedProps,a);else{if(typeof a!="string"&&i.stateNode===null)throw Error(p(166));if(s=xh(wh.current),xh(uh.current),Gg(i)){if(a=i.stateNode,s=i.memoizedProps,a[Of]=i,(c=a.nodeValue!==s)&&(e=xg,e!==null))switch(e.tag){case 3:Af(a.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Af(a.nodeValue,s,(e.mode&1)!==0)}c&&(i.flags|=4)}else a=(s.nodeType===9?s:s.ownerDocument).createTextNode(a),a[Of]=i,i.stateNode=a}return S(i),null;case 13:if(E(L),a=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(I&&yg!==null&&i.mode&1&&!(i.flags&128))Hg(),Ig(),i.flags|=98560,c=!1;else if(c=Gg(i),a!==null&&a.dehydrated!==null){if(e===null){if(!c)throw Error(p(318));if(c=i.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(p(317));c[Of]=i}else Ig(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;S(i),c=!1}else zg!==null&&(Fj(zg),zg=null),c=!0;if(!c)return i.flags&65536?i:null}return i.flags&128?(i.lanes=s,i):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(i.child.flags|=8192,i.mode&1&&(e===null||L.current&1?T===0&&(T=3):tj())),i.updateQueue!==null&&(i.flags|=4),S(i),null);case 4:return zh(),Aj(e,i),e===null&&sf(i.stateNode.containerInfo),S(i),null;case 10:return ah(i.type._context),S(i),null;case 17:return Zf(i.type)&&$f(),S(i),null;case 19:if(E(L),c=i.memoizedState,c===null)return S(i),null;if(a=(i.flags&128)!==0,d=c.rendering,d===null)if(a)Dj(c,!1);else{if(T!==0||e!==null&&e.flags&128)for(e=i.child;e!==null;){if(d=Ch(e),d!==null){for(i.flags|=128,Dj(c,!1),a=d.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),i.subtreeFlags=0,a=s,s=i.child;s!==null;)c=s,e=a,c.flags&=14680066,d=c.alternate,d===null?(c.childLanes=0,c.lanes=e,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=d.childLanes,c.lanes=d.lanes,c.child=d.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=d.memoizedProps,c.memoizedState=d.memoizedState,c.updateQueue=d.updateQueue,c.type=d.type,e=d.dependencies,c.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return G(L,L.current&1|2),i.child}e=e.sibling}c.tail!==null&&B()>Gj&&(i.flags|=128,a=!0,Dj(c,!1),i.lanes=4194304)}else{if(!a)if(e=Ch(d),e!==null){if(i.flags|=128,a=!0,s=e.updateQueue,s!==null&&(i.updateQueue=s,i.flags|=4),Dj(c,!0),c.tail===null&&c.tailMode==="hidden"&&!d.alternate&&!I)return S(i),null}else 2*B()-c.renderingStartTime>Gj&&s!==1073741824&&(i.flags|=128,a=!0,Dj(c,!1),i.lanes=4194304);c.isBackwards?(d.sibling=i.child,i.child=d):(s=c.last,s!==null?s.sibling=d:i.child=d,c.last=d)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=B(),i.sibling=null,s=L.current,G(L,a?s&1|2:s&1),i):(S(i),null);case 22:case 23:return Hj(),a=i.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(i.flags|=8192),a&&i.mode&1?fj&1073741824&&(S(i),i.subtreeFlags&6&&(i.flags|=8192)):S(i),null;case 24:return null;case 25:return null}throw Error(p(156,i.tag))}function Ij(e,i){switch(wg(i),i.tag){case 1:return Zf(i.type)&&$f(),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return zh(),E(Wf),E(H),Eh(),e=i.flags,e&65536&&!(e&128)?(i.flags=e&-65537|128,i):null;case 5:return Bh(i),null;case 13:if(E(L),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(p(340));Ig()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(i.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(e,i){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(a){W(e,i,a)}else s.current=null}function Mj(e,i,s){try{s()}catch(a){W(e,i,a)}}var Nj=!1;function Oj(e,i){if(Cf=dd,e=Me(),Ne(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var a=s.getSelection&&s.getSelection();if(a&&a.rangeCount!==0){s=a.anchorNode;var o=a.anchorOffset,c=a.focusNode;a=a.focusOffset;try{s.nodeType,c.nodeType}catch{s=null;break e}var d=0,g=-1,h=-1,b=0,_=0,$=e,j=null;t:for(;;){for(var _e;$!==s||o!==0&&$.nodeType!==3||(g=d+o),$!==c||a!==0&&$.nodeType!==3||(h=d+a),$.nodeType===3&&(d+=$.nodeValue.length),(_e=$.firstChild)!==null;)j=$,$=_e;for(;;){if($===e)break t;if(j===s&&++b===o&&(g=d),j===c&&++_===a&&(h=d),(_e=$.nextSibling)!==null)break;$=j,j=$.parentNode}$=_e}s=g===-1||h===-1?null:{start:g,end:h}}else s=null}s=s||{start:0,end:0}}else s=null;for(Df={focusedElem:e,selectionRange:s},dd=!1,V=i;V!==null;)if(i=V,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,V=e;else for(;V!==null;){i=V;try{var rt=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(rt!==null){var it=rt.memoizedProps,st=rt.memoizedState,et=i.stateNode,tt=et.getSnapshotBeforeUpdate(i.elementType===i.type?it:Ci(i.type,it),st);et.__reactInternalSnapshotBeforeUpdate=tt}break;case 3:var ot=i.stateNode.containerInfo;ot.nodeType===1?ot.textContent="":ot.nodeType===9&&ot.documentElement&&ot.removeChild(ot.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163))}}catch(nt){W(i,i.return,nt)}if(e=i.sibling,e!==null){e.return=i.return,V=e;break}V=i.return}return rt=Nj,Nj=!1,rt}function Pj(e,i,s){var a=i.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var o=a=a.next;do{if((o.tag&e)===e){var c=o.destroy;o.destroy=void 0,c!==void 0&&Mj(i,s,c)}o=o.next}while(o!==a)}}function Qj(e,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&e)===e){var a=s.create;s.destroy=a()}s=s.next}while(s!==i)}}function Rj(e){var i=e.ref;if(i!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof i=="function"?i(e):i.current=e}}function Sj(e){var i=e.alternate;i!==null&&(e.alternate=null,Sj(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&(delete i[Of],delete i[Pf],delete i[of],delete i[Qf],delete i[Rf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Tj(e){return e.tag===5||e.tag===3||e.tag===4}function Uj(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Tj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vj(e,i,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,i?s.nodeType===8?s.parentNode.insertBefore(e,i):s.insertBefore(e,i):(s.nodeType===8?(i=s.parentNode,i.insertBefore(e,s)):(i=s,i.appendChild(e)),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Bf));else if(a!==4&&(e=e.child,e!==null))for(Vj(e,i,s),e=e.sibling;e!==null;)Vj(e,i,s),e=e.sibling}function Wj(e,i,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,i?s.insertBefore(e,i):s.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Wj(e,i,s),e=e.sibling;e!==null;)Wj(e,i,s),e=e.sibling}var X$1=null,Xj=!1;function Yj(e,i,s){for(s=s.child;s!==null;)Zj(e,i,s),s=s.sibling}function Zj(e,i,s){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,s)}catch{}switch(s.tag){case 5:U||Lj(s,i);case 6:var a=X$1,o=Xj;X$1=null,Yj(e,i,s),X$1=a,Xj=o,X$1!==null&&(Xj?(e=X$1,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):X$1.removeChild(s.stateNode));break;case 18:X$1!==null&&(Xj?(e=X$1,s=s.stateNode,e.nodeType===8?Kf(e.parentNode,s):e.nodeType===1&&Kf(e,s),bd(e)):Kf(X$1,s.stateNode));break;case 4:a=X$1,o=Xj,X$1=s.stateNode.containerInfo,Xj=!0,Yj(e,i,s),X$1=a,Xj=o;break;case 0:case 11:case 14:case 15:if(!U&&(a=s.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){o=a=a.next;do{var c=o,d=c.destroy;c=c.tag,d!==void 0&&(c&2||c&4)&&Mj(s,i,d),o=o.next}while(o!==a)}Yj(e,i,s);break;case 1:if(!U&&(Lj(s,i),a=s.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=s.memoizedProps,a.state=s.memoizedState,a.componentWillUnmount()}catch(g){W(s,i,g)}Yj(e,i,s);break;case 21:Yj(e,i,s);break;case 22:s.mode&1?(U=(a=U)||s.memoizedState!==null,Yj(e,i,s),U=a):Yj(e,i,s);break;default:Yj(e,i,s)}}function ak(e){var i=e.updateQueue;if(i!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new Kj),i.forEach(function(a){var o=bk.bind(null,e,a);s.has(a)||(s.add(a),a.then(o,o))})}}function ck(e,i){var s=i.deletions;if(s!==null)for(var a=0;a<s.length;a++){var o=s[a];try{var c=e,d=i,g=d;e:for(;g!==null;){switch(g.tag){case 5:X$1=g.stateNode,Xj=!1;break e;case 3:X$1=g.stateNode.containerInfo,Xj=!0;break e;case 4:X$1=g.stateNode.containerInfo,Xj=!0;break e}g=g.return}if(X$1===null)throw Error(p(160));Zj(c,d,o),X$1=null,Xj=!1;var h=o.alternate;h!==null&&(h.return=null),o.return=null}catch(b){W(o,i,b)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)dk(i,e),i=i.sibling}function dk(e,i){var s=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ck(i,e),ek(e),a&4){try{Pj(3,e,e.return),Qj(3,e)}catch(it){W(e,e.return,it)}try{Pj(5,e,e.return)}catch(it){W(e,e.return,it)}}break;case 1:ck(i,e),ek(e),a&512&&s!==null&&Lj(s,s.return);break;case 5:if(ck(i,e),ek(e),a&512&&s!==null&&Lj(s,s.return),e.flags&32){var o=e.stateNode;try{ob(o,"")}catch(it){W(e,e.return,it)}}if(a&4&&(o=e.stateNode,o!=null)){var c=e.memoizedProps,d=s!==null?s.memoizedProps:c,g=e.type,h=e.updateQueue;if(e.updateQueue=null,h!==null)try{g==="input"&&c.type==="radio"&&c.name!=null&&ab(o,c),vb(g,d);var b=vb(g,c);for(d=0;d<h.length;d+=2){var _=h[d],$=h[d+1];_==="style"?sb(o,$):_==="dangerouslySetInnerHTML"?nb(o,$):_==="children"?ob(o,$):ta(o,_,$,b)}switch(g){case"input":bb(o,c);break;case"textarea":ib(o,c);break;case"select":var j=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!c.multiple;var _e=c.value;_e!=null?fb(o,!!c.multiple,_e,!1):j!==!!c.multiple&&(c.defaultValue!=null?fb(o,!!c.multiple,c.defaultValue,!0):fb(o,!!c.multiple,c.multiple?[]:"",!1))}o[Pf]=c}catch(it){W(e,e.return,it)}}break;case 6:if(ck(i,e),ek(e),a&4){if(e.stateNode===null)throw Error(p(162));o=e.stateNode,c=e.memoizedProps;try{o.nodeValue=c}catch(it){W(e,e.return,it)}}break;case 3:if(ck(i,e),ek(e),a&4&&s!==null&&s.memoizedState.isDehydrated)try{bd(i.containerInfo)}catch(it){W(e,e.return,it)}break;case 4:ck(i,e),ek(e);break;case 13:ck(i,e),ek(e),o=e.child,o.flags&8192&&(c=o.memoizedState!==null,o.stateNode.isHidden=c,!c||o.alternate!==null&&o.alternate.memoizedState!==null||(fk=B())),a&4&&ak(e);break;case 22:if(_=s!==null&&s.memoizedState!==null,e.mode&1?(U=(b=U)||_,ck(i,e),U=b):ck(i,e),ek(e),a&8192){if(b=e.memoizedState!==null,(e.stateNode.isHidden=b)&&!_&&e.mode&1)for(V=e,_=e.child;_!==null;){for($=V=_;V!==null;){switch(j=V,_e=j.child,j.tag){case 0:case 11:case 14:case 15:Pj(4,j,j.return);break;case 1:Lj(j,j.return);var rt=j.stateNode;if(typeof rt.componentWillUnmount=="function"){a=j,s=j.return;try{i=a,rt.props=i.memoizedProps,rt.state=i.memoizedState,rt.componentWillUnmount()}catch(it){W(a,s,it)}}break;case 5:Lj(j,j.return);break;case 22:if(j.memoizedState!==null){gk($);continue}}_e!==null?(_e.return=j,V=_e):gk($)}_=_.sibling}e:for(_=null,$=e;;){if($.tag===5){if(_===null){_=$;try{o=$.stateNode,b?(c=o.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(g=$.stateNode,h=$.memoizedProps.style,d=h!=null&&h.hasOwnProperty("display")?h.display:null,g.style.display=rb("display",d))}catch(it){W(e,e.return,it)}}}else if($.tag===6){if(_===null)try{$.stateNode.nodeValue=b?"":$.memoizedProps}catch(it){W(e,e.return,it)}}else if(($.tag!==22&&$.tag!==23||$.memoizedState===null||$===e)&&$.child!==null){$.child.return=$,$=$.child;continue}if($===e)break e;for(;$.sibling===null;){if($.return===null||$.return===e)break e;_===$&&(_=null),$=$.return}_===$&&(_=null),$.sibling.return=$.return,$=$.sibling}}break;case 19:ck(i,e),ek(e),a&4&&ak(e);break;case 21:break;default:ck(i,e),ek(e)}}function ek(e){var i=e.flags;if(i&2){try{e:{for(var s=e.return;s!==null;){if(Tj(s)){var a=s;break e}s=s.return}throw Error(p(160))}switch(a.tag){case 5:var o=a.stateNode;a.flags&32&&(ob(o,""),a.flags&=-33);var c=Uj(e);Wj(e,c,o);break;case 3:case 4:var d=a.stateNode.containerInfo,g=Uj(e);Vj(e,g,d);break;default:throw Error(p(161))}}catch(h){W(e,e.return,h)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function hk(e,i,s){V=e,ik(e)}function ik(e,i,s){for(var a=(e.mode&1)!==0;V!==null;){var o=V,c=o.child;if(o.tag===22&&a){var d=o.memoizedState!==null||Jj;if(!d){var g=o.alternate,h=g!==null&&g.memoizedState!==null||U;g=Jj;var b=U;if(Jj=d,(U=h)&&!b)for(V=o;V!==null;)d=V,h=d.child,d.tag===22&&d.memoizedState!==null?jk(o):h!==null?(h.return=d,V=h):jk(o);for(;c!==null;)V=c,ik(c),c=c.sibling;V=o,Jj=g,U=b}kk(e)}else o.subtreeFlags&8772&&c!==null?(c.return=o,V=c):kk(e)}}function kk(e){for(;V!==null;){var i=V;if(i.flags&8772){var s=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:U||Qj(5,i);break;case 1:var a=i.stateNode;if(i.flags&4&&!U)if(s===null)a.componentDidMount();else{var o=i.elementType===i.type?s.memoizedProps:Ci(i.type,s.memoizedProps);a.componentDidUpdate(o,s.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var c=i.updateQueue;c!==null&&sh(i,c,a);break;case 3:var d=i.updateQueue;if(d!==null){if(s=null,i.child!==null)switch(i.child.tag){case 5:s=i.child.stateNode;break;case 1:s=i.child.stateNode}sh(i,d,s)}break;case 5:var g=i.stateNode;if(s===null&&i.flags&4){s=g;var h=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&s.focus();break;case"img":h.src&&(s.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var b=i.alternate;if(b!==null){var _=b.memoizedState;if(_!==null){var $=_.dehydrated;$!==null&&bd($)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p(163))}U||i.flags&512&&Rj(i)}catch(j){W(i,i.return,j)}}if(i===e){V=null;break}if(s=i.sibling,s!==null){s.return=i.return,V=s;break}V=i.return}}function gk(e){for(;V!==null;){var i=V;if(i===e){V=null;break}var s=i.sibling;if(s!==null){s.return=i.return,V=s;break}V=i.return}}function jk(e){for(;V!==null;){var i=V;try{switch(i.tag){case 0:case 11:case 15:var s=i.return;try{Qj(4,i)}catch(h){W(i,s,h)}break;case 1:var a=i.stateNode;if(typeof a.componentDidMount=="function"){var o=i.return;try{a.componentDidMount()}catch(h){W(i,o,h)}}var c=i.return;try{Rj(i)}catch(h){W(i,c,h)}break;case 5:var d=i.return;try{Rj(i)}catch(h){W(i,d,h)}}}catch(h){W(i,i.return,h)}if(i===e){V=null;break}var g=i.sibling;if(g!==null){g.return=i.return,V=g;break}V=i.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi(e){return e.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(e=C,e!==0||(e=window.event,e=e===void 0?16:jd(e.type)),e):1}function gi(e,i,s,a){if(50<yk)throw yk=0,zk=null,Error(p(185));Ac(e,s,a),(!(K&2)||e!==Q)&&(e===Q&&(!(K&2)&&(qk|=s),T===4&&Ck(e,Z)),Dk(e,a),s===1&&K===0&&!(i.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(e,i){var s=e.callbackNode;wc(e,i);var a=uc(e,e===Q?Z:0);if(a===0)s!==null&&bc(s),e.callbackNode=null,e.callbackPriority=0;else if(i=a&-a,e.callbackPriority!==i){if(s!=null&&bc(s),i===1)e.tag===0?ig(Ek.bind(null,e)):hg(Ek.bind(null,e)),Jf(function(){!(K&6)&&jg()}),s=null;else{switch(Dc(a)){case 1:s=fc;break;case 4:s=gc;break;case 16:s=hc;break;case 536870912:s=jc;break;default:s=hc}s=Fk(s,Gk.bind(null,e))}e.callbackPriority=i,e.callbackNode=s}}function Gk(e,i){if(Ak=-1,Bk=0,K&6)throw Error(p(327));var s=e.callbackNode;if(Hk()&&e.callbackNode!==s)return null;var a=uc(e,e===Q?Z:0);if(a===0)return null;if(a&30||a&e.expiredLanes||i)i=Ik(e,a);else{i=a;var o=K;K|=2;var c=Jk();(Q!==e||Z!==i)&&(uk=null,Gj=B()+500,Kk(e,i));do try{Lk();break}catch(g){Mk(e,g)}while(!0);$g(),mk.current=c,K=o,Y!==null?i=0:(Q=null,Z=0,i=T)}if(i!==0){if(i===2&&(o=xc(e),o!==0&&(a=o,i=Nk(e,o))),i===1)throw s=pk,Kk(e,0),Ck(e,a),Dk(e,B()),s;if(i===6)Ck(e,a);else{if(o=e.current.alternate,!(a&30)&&!Ok(o)&&(i=Ik(e,a),i===2&&(c=xc(e),c!==0&&(a=c,i=Nk(e,c))),i===1))throw s=pk,Kk(e,0),Ck(e,a),Dk(e,B()),s;switch(e.finishedWork=o,e.finishedLanes=a,i){case 0:case 1:throw Error(p(345));case 2:Pk(e,tk,uk);break;case 3:if(Ck(e,a),(a&130023424)===a&&(i=fk+500-B(),10<i)){if(uc(e,0)!==0)break;if(o=e.suspendedLanes,(o&a)!==a){R(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Ff(Pk.bind(null,e,tk,uk),i);break}Pk(e,tk,uk);break;case 4:if(Ck(e,a),(a&4194240)===a)break;for(i=e.eventTimes,o=-1;0<a;){var d=31-oc(a);c=1<<d,d=i[d],d>o&&(o=d),a&=~c}if(a=o,a=B()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*lk(a/1960))-a,10<a){e.timeoutHandle=Ff(Pk.bind(null,e,tk,uk),a);break}Pk(e,tk,uk);break;case 5:Pk(e,tk,uk);break;default:throw Error(p(329))}}}return Dk(e,B()),e.callbackNode===s?Gk.bind(null,e):null}function Nk(e,i){var s=sk;return e.current.memoizedState.isDehydrated&&(Kk(e,i).flags|=256),e=Ik(e,i),e!==2&&(i=tk,tk=s,i!==null&&Fj(i)),e}function Fj(e){tk===null?tk=e:tk.push.apply(tk,e)}function Ok(e){for(var i=e;;){if(i.flags&16384){var s=i.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var a=0;a<s.length;a++){var o=s[a],c=o.getSnapshot;o=o.value;try{if(!He(c(),o))return!1}catch{return!1}}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ck(e,i){for(i&=~rk,i&=~qk,e.suspendedLanes|=i,e.pingedLanes&=~i,e=e.expirationTimes;0<i;){var s=31-oc(i),a=1<<s;e[s]=-1,i&=~a}}function Ek(e){if(K&6)throw Error(p(327));Hk();var i=uc(e,0);if(!(i&1))return Dk(e,B()),null;var s=Ik(e,i);if(e.tag!==0&&s===2){var a=xc(e);a!==0&&(i=a,s=Nk(e,a))}if(s===1)throw s=pk,Kk(e,0),Ck(e,i),Dk(e,B()),s;if(s===6)throw Error(p(345));return e.finishedWork=e.current.alternate,e.finishedLanes=i,Pk(e,tk,uk),Dk(e,B()),null}function Qk(e,i){var s=K;K|=1;try{return e(i)}finally{K=s,K===0&&(Gj=B()+500,fg&&jg())}}function Rk(e){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var i=K;K|=1;var s=ok.transition,a=C;try{if(ok.transition=null,C=1,e)return e()}finally{C=a,ok.transition=s,K=i,!(K&6)&&jg()}}function Hj(){fj=ej.current,E(ej)}function Kk(e,i){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Gf(s)),Y!==null)for(s=Y.return;s!==null;){var a=s;switch(wg(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&$f();break;case 3:zh(),E(Wf),E(H),Eh();break;case 5:Bh(a);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(a.type._context);break;case 22:case 23:Hj()}s=s.return}if(Q=e,Y=e=Pg(e.current,null),Z=fj=i,T=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(i=0;i<fh.length;i++)if(s=fh[i],a=s.interleaved,a!==null){s.interleaved=null;var o=a.next,c=s.pending;if(c!==null){var d=c.next;c.next=o,a.next=d}s.pending=a}fh=null}return e}function Mk(e,i){do{var s=Y;try{if($g(),Fh.current=Rh,Ih){for(var a=M.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Ih=!1}if(Hh=0,O=N=M=null,Jh=!1,Kh=0,nk.current=null,s===null||s.return===null){T=1,pk=i,Y=null;break}e:{var c=e,d=s.return,g=s,h=i;if(i=Z,g.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var b=h,_=g,$=_.tag;if(!(_.mode&1)&&($===0||$===11||$===15)){var j=_.alternate;j?(_.updateQueue=j.updateQueue,_.memoizedState=j.memoizedState,_.lanes=j.lanes):(_.updateQueue=null,_.memoizedState=null)}var _e=Ui(d);if(_e!==null){_e.flags&=-257,Vi(_e,d,g,c,i),_e.mode&1&&Si(c,b,i),i=_e,h=b;var rt=i.updateQueue;if(rt===null){var it=new Set;it.add(h),i.updateQueue=it}else rt.add(h);break e}else{if(!(i&1)){Si(c,b,i),tj();break e}h=Error(p(426))}}else if(I&&g.mode&1){var st=Ui(d);if(st!==null){!(st.flags&65536)&&(st.flags|=256),Vi(st,d,g,c,i),Jg(Ji(h,g));break e}}c=h=Ji(h,g),T!==4&&(T=2),sk===null?sk=[c]:sk.push(c),c=d;do{switch(c.tag){case 3:c.flags|=65536,i&=-i,c.lanes|=i;var et=Ni(c,h,i);ph(c,et);break e;case 1:g=h;var tt=c.type,ot=c.stateNode;if(!(c.flags&128)&&(typeof tt.getDerivedStateFromError=="function"||ot!==null&&typeof ot.componentDidCatch=="function"&&(Ri===null||!Ri.has(ot)))){c.flags|=65536,i&=-i,c.lanes|=i;var nt=Qi(c,g,i);ph(c,nt);break e}}c=c.return}while(c!==null)}Sk(s)}catch(at){i=at,Y===s&&s!==null&&(Y=s=s.return);continue}break}while(!0)}function Jk(){var e=mk.current;return mk.current=Rh,e===null?Rh:e}function tj(){(T===0||T===3||T===2)&&(T=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(e,i){var s=K;K|=2;var a=Jk();(Q!==e||Z!==i)&&(uk=null,Kk(e,i));do try{Tk();break}catch(o){Mk(e,o)}while(!0);if($g(),K=s,mk.current=a,Y!==null)throw Error(p(261));return Q=null,Z=0,T}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(e){var i=Vk(e.alternate,e,fj);e.memoizedProps=e.pendingProps,i===null?Sk(e):Y=i,nk.current=null}function Sk(e){var i=e;do{var s=i.alternate;if(e=i.return,i.flags&32768){if(s=Ij(s,i),s!==null){s.flags&=32767,Y=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{T=6,Y=null;return}}else if(s=Ej(s,i,fj),s!==null){Y=s;return}if(i=i.sibling,i!==null){Y=i;return}Y=i=e}while(i!==null);T===0&&(T=5)}function Pk(e,i,s){var a=C,o=ok.transition;try{ok.transition=null,C=1,Wk(e,i,s,a)}finally{ok.transition=o,C=a}return null}function Wk(e,i,s,a){do Hk();while(wk!==null);if(K&6)throw Error(p(327));s=e.finishedWork;var o=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(p(177));e.callbackNode=null,e.callbackPriority=0;var c=s.lanes|s.childLanes;if(Bc(e,c),e===Q&&(Y=Q=null,Z=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),c=(s.flags&15990)!==0,s.subtreeFlags&15990||c){c=ok.transition,ok.transition=null;var d=C;C=1;var g=K;K|=4,nk.current=null,Oj(e,s),dk(s,e),Oe(Df),dd=!!Cf,Df=Cf=null,e.current=s,hk(s),dc(),K=g,C=d,ok.transition=c}else e.current=s;if(vk&&(vk=!1,wk=e,xk=o),c=e.pendingLanes,c===0&&(Ri=null),mc(s.stateNode),Dk(e,B()),i!==null)for(a=e.onRecoverableError,s=0;s<i.length;s++)o=i[s],a(o.value,{componentStack:o.stack,digest:o.digest});if(Oi)throw Oi=!1,e=Pi,Pi=null,e;return xk&1&&e.tag!==0&&Hk(),c=e.pendingLanes,c&1?e===zk?yk++:(yk=0,zk=e):yk=0,jg(),null}function Hk(){if(wk!==null){var e=Dc(xk),i=ok.transition,s=C;try{if(ok.transition=null,C=16>e?16:e,wk===null)var a=!1;else{if(e=wk,wk=null,xk=0,K&6)throw Error(p(331));var o=K;for(K|=4,V=e.current;V!==null;){var c=V,d=c.child;if(V.flags&16){var g=c.deletions;if(g!==null){for(var h=0;h<g.length;h++){var b=g[h];for(V=b;V!==null;){var _=V;switch(_.tag){case 0:case 11:case 15:Pj(8,_,c)}var $=_.child;if($!==null)$.return=_,V=$;else for(;V!==null;){_=V;var j=_.sibling,_e=_.return;if(Sj(_),_===b){V=null;break}if(j!==null){j.return=_e,V=j;break}V=_e}}}var rt=c.alternate;if(rt!==null){var it=rt.child;if(it!==null){rt.child=null;do{var st=it.sibling;it.sibling=null,it=st}while(it!==null)}}V=c}}if(c.subtreeFlags&2064&&d!==null)d.return=c,V=d;else e:for(;V!==null;){if(c=V,c.flags&2048)switch(c.tag){case 0:case 11:case 15:Pj(9,c,c.return)}var et=c.sibling;if(et!==null){et.return=c.return,V=et;break e}V=c.return}}var tt=e.current;for(V=tt;V!==null;){d=V;var ot=d.child;if(d.subtreeFlags&2064&&ot!==null)ot.return=d,V=ot;else e:for(d=tt;V!==null;){if(g=V,g.flags&2048)try{switch(g.tag){case 0:case 11:case 15:Qj(9,g)}}catch(at){W(g,g.return,at)}if(g===d){V=null;break e}var nt=g.sibling;if(nt!==null){nt.return=g.return,V=nt;break e}V=g.return}}if(K=o,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,e)}catch{}a=!0}return a}finally{C=s,ok.transition=i}}return!1}function Xk(e,i,s){i=Ji(s,i),i=Ni(e,i,1),e=nh(e,i,1),i=R(),e!==null&&(Ac(e,1,i),Dk(e,i))}function W(e,i,s){if(e.tag===3)Xk(e,e,s);else for(;i!==null;){if(i.tag===3){Xk(i,e,s);break}else if(i.tag===1){var a=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Ri===null||!Ri.has(a))){e=Ji(s,e),e=Qi(i,e,1),i=nh(i,e,1),e=R(),i!==null&&(Ac(i,1,e),Dk(i,e));break}}i=i.return}}function Ti(e,i,s){var a=e.pingCache;a!==null&&a.delete(i),i=R(),e.pingedLanes|=e.suspendedLanes&s,Q===e&&(Z&s)===s&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-fk?Kk(e,0):rk|=s),Dk(e,i)}function Yk(e,i){i===0&&(e.mode&1?(i=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):i=1);var s=R();e=ih(e,i),e!==null&&(Ac(e,i,s),Dk(e,s))}function uj(e){var i=e.memoizedState,s=0;i!==null&&(s=i.retryLane),Yk(e,s)}function bk(e,i){var s=0;switch(e.tag){case 13:var a=e.stateNode,o=e.memoizedState;o!==null&&(s=o.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(p(314))}a!==null&&a.delete(i),Yk(e,s)}var Vk;Vk=function(e,i,s){if(e!==null)if(e.memoizedProps!==i.pendingProps||Wf.current)dh=!0;else{if(!(e.lanes&s)&&!(i.flags&128))return dh=!1,yj(e,i,s);dh=!!(e.flags&131072)}else dh=!1,I&&i.flags&1048576&&ug(i,ng,i.index);switch(i.lanes=0,i.tag){case 2:var a=i.type;ij(e,i),e=i.pendingProps;var o=Yf(i,H.current);ch(i,s),o=Nh(null,i,a,e,o,s);var c=Sh();return i.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Zf(a)?(c=!0,cg(i)):c=!1,i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,kh(i),o.updater=Ei,i.stateNode=o,o._reactInternals=i,Ii(i,a,e,s),i=jj(null,i,a,!0,c,s)):(i.tag=0,I&&c&&vg(i),Xi(null,i,o,s),i=i.child),i;case 16:a=i.elementType;e:{switch(ij(e,i),e=i.pendingProps,o=a._init,a=o(a._payload),i.type=a,o=i.tag=Zk(a),e=Ci(a,e),o){case 0:i=cj(null,i,a,e,s);break e;case 1:i=hj(null,i,a,e,s);break e;case 11:i=Yi(null,i,a,e,s);break e;case 14:i=$i(null,i,a,Ci(a.type,e),s);break e}throw Error(p(306,a,""))}return i;case 0:return a=i.type,o=i.pendingProps,o=i.elementType===a?o:Ci(a,o),cj(e,i,a,o,s);case 1:return a=i.type,o=i.pendingProps,o=i.elementType===a?o:Ci(a,o),hj(e,i,a,o,s);case 3:e:{if(kj(i),e===null)throw Error(p(387));a=i.pendingProps,c=i.memoizedState,o=c.element,lh(e,i),qh(i,a,null,s);var d=i.memoizedState;if(a=d.element,c.isDehydrated)if(c={element:a,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},i.updateQueue.baseState=c,i.memoizedState=c,i.flags&256){o=Ji(Error(p(423)),i),i=lj(e,i,a,s,o);break e}else if(a!==o){o=Ji(Error(p(424)),i),i=lj(e,i,a,s,o);break e}else for(yg=Lf(i.stateNode.containerInfo.firstChild),xg=i,I=!0,zg=null,s=Vg(i,null,a,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ig(),a===o){i=Zi(e,i,s);break e}Xi(e,i,a,s)}i=i.child}return i;case 5:return Ah(i),e===null&&Eg(i),a=i.type,o=i.pendingProps,c=e!==null?e.memoizedProps:null,d=o.children,Ef(a,o)?d=null:c!==null&&Ef(a,c)&&(i.flags|=32),gj(e,i),Xi(e,i,d,s),i.child;case 6:return e===null&&Eg(i),null;case 13:return oj(e,i,s);case 4:return yh(i,i.stateNode.containerInfo),a=i.pendingProps,e===null?i.child=Ug(i,null,a,s):Xi(e,i,a,s),i.child;case 11:return a=i.type,o=i.pendingProps,o=i.elementType===a?o:Ci(a,o),Yi(e,i,a,o,s);case 7:return Xi(e,i,i.pendingProps,s),i.child;case 8:return Xi(e,i,i.pendingProps.children,s),i.child;case 12:return Xi(e,i,i.pendingProps.children,s),i.child;case 10:e:{if(a=i.type._context,o=i.pendingProps,c=i.memoizedProps,d=o.value,G(Wg,a._currentValue),a._currentValue=d,c!==null)if(He(c.value,d)){if(c.children===o.children&&!Wf.current){i=Zi(e,i,s);break e}}else for(c=i.child,c!==null&&(c.return=i);c!==null;){var g=c.dependencies;if(g!==null){d=c.child;for(var h=g.firstContext;h!==null;){if(h.context===a){if(c.tag===1){h=mh(-1,s&-s),h.tag=2;var b=c.updateQueue;if(b!==null){b=b.shared;var _=b.pending;_===null?h.next=h:(h.next=_.next,_.next=h),b.pending=h}}c.lanes|=s,h=c.alternate,h!==null&&(h.lanes|=s),bh(c.return,s,i),g.lanes|=s;break}h=h.next}}else if(c.tag===10)d=c.type===i.type?null:c.child;else if(c.tag===18){if(d=c.return,d===null)throw Error(p(341));d.lanes|=s,g=d.alternate,g!==null&&(g.lanes|=s),bh(d,s,i),d=c.sibling}else d=c.child;if(d!==null)d.return=c;else for(d=c;d!==null;){if(d===i){d=null;break}if(c=d.sibling,c!==null){c.return=d.return,d=c;break}d=d.return}c=d}Xi(e,i,o.children,s),i=i.child}return i;case 9:return o=i.type,a=i.pendingProps.children,ch(i,s),o=eh(o),a=a(o),i.flags|=1,Xi(e,i,a,s),i.child;case 14:return a=i.type,o=Ci(a,i.pendingProps),o=Ci(a.type,o),$i(e,i,a,o,s);case 15:return bj(e,i,i.type,i.pendingProps,s);case 17:return a=i.type,o=i.pendingProps,o=i.elementType===a?o:Ci(a,o),ij(e,i),i.tag=1,Zf(a)?(e=!0,cg(i)):e=!1,ch(i,s),Gi(i,a,o),Ii(i,a,o,s),jj(null,i,a,!0,e,s);case 19:return xj(e,i,s);case 22:return dj(e,i,s)}throw Error(p(156,i.tag))};function Fk(e,i){return ac(e,i)}function $k(e,i,s,a){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(e,i,s,a){return new $k(e,i,s,a)}function aj(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zk(e){if(typeof e=="function")return aj(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Da)return 11;if(e===Ga)return 14}return 2}function Pg(e,i){var s=e.alternate;return s===null?(s=Bg(e.tag,i,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=i,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,i=e.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Rg(e,i,s,a,o,c){var d=2;if(a=e,typeof e=="function")aj(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case ya:return Tg(s.children,o,c,i);case za:d=8,o|=8;break;case Aa:return e=Bg(12,s,i,o|2),e.elementType=Aa,e.lanes=c,e;case Ea:return e=Bg(13,s,i,o),e.elementType=Ea,e.lanes=c,e;case Fa:return e=Bg(19,s,i,o),e.elementType=Fa,e.lanes=c,e;case Ia:return pj(s,o,c,i);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ba:d=10;break e;case Ca:d=9;break e;case Da:d=11;break e;case Ga:d=14;break e;case Ha:d=16,a=null;break e}throw Error(p(130,e==null?e:typeof e,""))}return i=Bg(d,s,i,o),i.elementType=e,i.type=a,i.lanes=c,i}function Tg(e,i,s,a){return e=Bg(7,e,a,i),e.lanes=s,e}function pj(e,i,s,a){return e=Bg(22,e,a,i),e.elementType=Ia,e.lanes=s,e.stateNode={isHidden:!1},e}function Qg(e,i,s){return e=Bg(6,e,null,i),e.lanes=s,e}function Sg(e,i,s){return i=Bg(4,e.children!==null?e.children:[],e.key,i),i.lanes=s,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}function al(e,i,s,a,o){this.tag=i,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=a,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function bl(e,i,s,a,o,c,d,g,h){return e=new al(e,i,s,g,h),i===1?(i=1,c===!0&&(i|=8)):i=0,c=Bg(3,null,null,i),e.current=c,c.stateNode=e,c.memoizedState={element:a,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(c),e}function cl(e,i,s){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:a==null?null:""+a,children:e,containerInfo:i,implementation:s}}function dl(e){if(!e)return Vf;e=e._reactInternals;e:{if(Vb(e)!==e||e.tag!==1)throw Error(p(170));var i=e;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Zf(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(p(171))}if(e.tag===1){var s=e.type;if(Zf(s))return bg(e,s,i)}return i}function el(e,i,s,a,o,c,d,g,h){return e=bl(s,a,!0,e,o,c,d,g,h),e.context=dl(null),s=e.current,a=R(),o=yi(s),c=mh(a,o),c.callback=i??null,nh(s,c,o),e.current.lanes=o,Ac(e,o,a),Dk(e,a),e}function fl(e,i,s,a){var o=i.current,c=R(),d=yi(o);return s=dl(s),i.context===null?i.context=s:i.pendingContext=s,i=mh(c,d),i.payload={element:e},a=a===void 0?null:a,a!==null&&(i.callback=a),e=nh(o,i,d),e!==null&&(gi(e,o,d,c),oh(e,o,d)),d}function gl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hl(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<i?s:i}}function il(e,i){hl(e,i),(e=e.alternate)&&hl(e,i)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(e){console.error(e)};function ll(e){this._internalRoot=e}ml.prototype.render=ll.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(p(409));fl(e,i,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Rk(function(){fl(null,e,null,null)}),i[uf]=null}};function ml(e){this._internalRoot=e}ml.prototype.unstable_scheduleHydration=function(e){if(e){var i=Hc();e={blockedOn:null,target:e,priority:i};for(var s=0;s<Qc.length&&i!==0&&i<Qc[s].priority;s++);Qc.splice(s,0,e),s===0&&Vc(e)}};function nl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ol(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(e,i,s,a,o){if(o){if(typeof a=="function"){var c=a;a=function(){var b=gl(d);c.call(b)}}var d=el(i,a,e,0,null,!1,!1,"",pl);return e._reactRootContainer=d,e[uf]=d.current,sf(e.nodeType===8?e.parentNode:e),Rk(),d}for(;o=e.lastChild;)e.removeChild(o);if(typeof a=="function"){var g=a;a=function(){var b=gl(h);g.call(b)}}var h=bl(e,0,!1,null,null,!1,!1,"",pl);return e._reactRootContainer=h,e[uf]=h.current,sf(e.nodeType===8?e.parentNode:e),Rk(function(){fl(i,h,s,a)}),h}function rl(e,i,s,a,o){var c=s._reactRootContainer;if(c){var d=c;if(typeof o=="function"){var g=o;o=function(){var h=gl(d);g.call(h)}}fl(i,d,e,o)}else d=ql(s,i,e,o,a);return gl(d)}Ec=function(e){switch(e.tag){case 3:var i=e.stateNode;if(i.current.memoizedState.isDehydrated){var s=tc(i.pendingLanes);s!==0&&(Cc(i,s|1),Dk(i,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var a=ih(e,1);if(a!==null){var o=R();gi(a,e,1,o)}}),il(e,1)}};Fc=function(e){if(e.tag===13){var i=ih(e,134217728);if(i!==null){var s=R();gi(i,e,134217728,s)}il(e,134217728)}};Gc=function(e){if(e.tag===13){var i=yi(e),s=ih(e,i);if(s!==null){var a=R();gi(s,e,i,a)}il(e,i)}};Hc=function(){return C};Ic=function(e,i){var s=C;try{return C=e,i()}finally{C=s}};yb=function(e,i,s){switch(i){case"input":if(bb(e,s),i=s.name,s.type==="radio"&&i!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<s.length;i++){var a=s[i];if(a!==e&&a.form===e.form){var o=Db(a);if(!o)throw Error(p(90));Wa(a),bb(a,o)}}}break;case"textarea":ib(e,s);break;case"select":i=s.value,i!=null&&fb(e,!!s.multiple,i,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Zb(e),e===null?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(e,i){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(i))throw Error(p(200));return cl(e,i,null,s)};reactDom_production_min.createRoot=function(e,i){if(!nl(e))throw Error(p(299));var s=!1,a="",o=kl;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(a=i.identifierPrefix),i.onRecoverableError!==void 0&&(o=i.onRecoverableError)),i=bl(e,1,!1,null,null,s,!1,a,o),e[uf]=i.current,sf(e.nodeType===8?e.parentNode:e),new ll(i)};reactDom_production_min.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(p(188)):(e=Object.keys(e).join(","),Error(p(268,e)));return e=Zb(i),e=e===null?null:e.stateNode,e};reactDom_production_min.flushSync=function(e){return Rk(e)};reactDom_production_min.hydrate=function(e,i,s){if(!ol(i))throw Error(p(200));return rl(null,e,i,!0,s)};reactDom_production_min.hydrateRoot=function(e,i,s){if(!nl(e))throw Error(p(405));var a=s!=null&&s.hydratedSources||null,o=!1,c="",d=kl;if(s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),i=el(i,null,e,1,s??null,o,!1,c,d),e[uf]=i.current,sf(e),a)for(e=0;e<a.length;e++)s=a[e],o=s._getVersion,o=o(s._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[s,o]:i.mutableSourceEagerHydrationData.push(s,o);return new ml(i)};reactDom_production_min.render=function(e,i,s){if(!ol(i))throw Error(p(200));return rl(null,e,i,!1,s)};reactDom_production_min.unmountComponentAtNode=function(e){if(!ol(e))throw Error(p(40));return e._reactRootContainer?(Rk(function(){rl(null,null,e,!1,function(){e._reactRootContainer=null,e[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(e,i,s,a){if(!ol(s))throw Error(p(200));if(e==null||e._reactInternals===void 0)throw Error(p(38));return rl(e,i,s,!1,a)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(e){console.error(e)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,createRoot,m=reactDomExports;createRoot=m.createRoot,m.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(e){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},_extends$2.apply(this,arguments)}var Action;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(e){e===void 0&&(e={});function i(a,o){let{pathname:c,search:d,hash:g}=a.location;return createLocation("",{pathname:c,search:d,hash:g},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function s(a,o){return typeof o=="string"?o:createPath(o)}return getUrlBasedHistory(i,s,null,e)}function invariant$1(e,i){if(e===!1||e===null||typeof e>"u")throw new Error(i)}function warning$2(e,i){if(!e){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(e,i){return{usr:e.state,key:e.key,idx:i}}function createLocation(e,i,s,a){return s===void 0&&(s=null),_extends$2({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof i=="string"?parsePath(i):i,{state:s,key:i&&i.key||a||createKey()})}function createPath(e){let{pathname:i="/",search:s="",hash:a=""}=e;return s&&s!=="?"&&(i+=s.charAt(0)==="?"?s:"?"+s),a&&a!=="#"&&(i+=a.charAt(0)==="#"?a:"#"+a),i}function parsePath(e){let i={};if(e){let s=e.indexOf("#");s>=0&&(i.hash=e.substr(s),e=e.substr(0,s));let a=e.indexOf("?");a>=0&&(i.search=e.substr(a),e=e.substr(0,a)),e&&(i.pathname=e)}return i}function getUrlBasedHistory(e,i,s,a){a===void 0&&(a={});let{window:o=document.defaultView,v5Compat:c=!1}=a,d=o.history,g=Action.Pop,h=null,b=_();b==null&&(b=0,d.replaceState(_extends$2({},d.state,{idx:b}),""));function _(){return(d.state||{idx:null}).idx}function $(){g=Action.Pop;let st=_(),et=st==null?null:st-b;b=st,h&&h({action:g,location:it.location,delta:et})}function j(st,et){g=Action.Push;let tt=createLocation(it.location,st,et);b=_()+1;let ot=getHistoryState(tt,b),nt=it.createHref(tt);try{d.pushState(ot,"",nt)}catch(at){if(at instanceof DOMException&&at.name==="DataCloneError")throw at;o.location.assign(nt)}c&&h&&h({action:g,location:it.location,delta:1})}function _e(st,et){g=Action.Replace;let tt=createLocation(it.location,st,et);b=_();let ot=getHistoryState(tt,b),nt=it.createHref(tt);d.replaceState(ot,"",nt),c&&h&&h({action:g,location:it.location,delta:0})}function rt(st){let et=o.location.origin!=="null"?o.location.origin:o.location.href,tt=typeof st=="string"?st:createPath(st);return tt=tt.replace(/ $/,"%20"),invariant$1(et,"No window.location.(origin|href) available to create URL for href: "+tt),new URL(tt,et)}let it={get action(){return g},get location(){return e(o,d)},listen(st){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(PopStateEventType,$),h=st,()=>{o.removeEventListener(PopStateEventType,$),h=null}},createHref(st){return i(o,st)},createURL:rt,encodeLocation(st){let et=rt(st);return{pathname:et.pathname,search:et.search,hash:et.hash}},push:j,replace:_e,go(st){return d.go(st)}};return it}var ResultType;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ResultType||(ResultType={}));function matchRoutes(e,i,s){return s===void 0&&(s="/"),matchRoutesImpl(e,i,s,!1)}function matchRoutesImpl(e,i,s,a){let o=typeof i=="string"?parsePath(i):i,c=stripBasename(o.pathname||"/",s);if(c==null)return null;let d=flattenRoutes(e);rankRouteBranches(d);let g=null;for(let h=0;g==null&&h<d.length;++h){let b=decodePath(c);g=matchRouteBranch(d[h],b,a)}return g}function flattenRoutes(e,i,s,a){i===void 0&&(i=[]),s===void 0&&(s=[]),a===void 0&&(a="");let o=(c,d,g)=>{let h={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};h.relativePath.startsWith("/")&&(invariant$1(h.relativePath.startsWith(a),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(a.length));let b=joinPaths([a,h.relativePath]),_=s.concat(h);c.children&&c.children.length>0&&(invariant$1(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+b+'".')),flattenRoutes(c.children,i,_,b)),!(c.path==null&&!c.index)&&i.push({path:b,score:computeScore(b,c.index),routesMeta:_})};return e.forEach((c,d)=>{var g;if(c.path===""||!((g=c.path)!=null&&g.includes("?")))o(c,d);else for(let h of explodeOptionalSegments(c.path))o(c,d,h)}),i}function explodeOptionalSegments(e){let i=e.split("/");if(i.length===0)return[];let[s,...a]=i,o=s.endsWith("?"),c=s.replace(/\?$/,"");if(a.length===0)return o?[c,""]:[c];let d=explodeOptionalSegments(a.join("/")),g=[];return g.push(...d.map(h=>h===""?c:[c,h].join("/"))),o&&g.push(...d),g.map(h=>e.startsWith("/")&&h===""?"/":h)}function rankRouteBranches(e){e.sort((i,s)=>i.score!==s.score?s.score-i.score:compareIndexes(i.routesMeta.map(a=>a.childrenIndex),s.routesMeta.map(a=>a.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=e=>e==="*";function computeScore(e,i){let s=e.split("/"),a=s.length;return s.some(isSplat)&&(a+=splatPenalty),i&&(a+=indexRouteValue),s.filter(o=>!isSplat(o)).reduce((o,c)=>o+(paramRe.test(c)?dynamicSegmentValue:c===""?emptySegmentValue:staticSegmentValue),a)}function compareIndexes(e,i){return e.length===i.length&&e.slice(0,-1).every((a,o)=>a===i[o])?e[e.length-1]-i[i.length-1]:0}function matchRouteBranch(e,i,s){let{routesMeta:a}=e,o={},c="/",d=[];for(let g=0;g<a.length;++g){let h=a[g],b=g===a.length-1,_=c==="/"?i:i.slice(c.length)||"/",$=matchPath({path:h.relativePath,caseSensitive:h.caseSensitive,end:b},_),j=h.route;if(!$&&b&&s&&!a[a.length-1].route.index&&($=matchPath({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},_)),!$)return null;Object.assign(o,$.params),d.push({params:o,pathname:joinPaths([c,$.pathname]),pathnameBase:normalizePathname(joinPaths([c,$.pathnameBase])),route:j}),$.pathnameBase!=="/"&&(c=joinPaths([c,$.pathnameBase]))}return d}function matchPath(e,i){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,a]=compilePath(e.path,e.caseSensitive,e.end),o=i.match(s);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:a.reduce((b,_,$)=>{let{paramName:j,isOptional:_e}=_;if(j==="*"){let it=g[$]||"";d=c.slice(0,c.length-it.length).replace(/(.)\/+$/,"$1")}const rt=g[$];return _e&&!rt?b[j]=void 0:b[j]=(rt||"").replace(/%2F/g,"/"),b},{}),pathname:c,pathnameBase:d,pattern:e}}function compilePath(e,i,s){i===void 0&&(i=!1),s===void 0&&(s=!0),warning$2(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,h)=>(a.push({paramName:g,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,i?void 0:"i"),a]}function decodePath(e){try{return e.split("/").map(i=>decodeURIComponent(i).replace(/\//g,"%2F")).join("/")}catch(i){return warning$2(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+i+").")),e}}function stripBasename(e,i){if(i==="/")return e;if(!e.toLowerCase().startsWith(i.toLowerCase()))return null;let s=i.endsWith("/")?i.length-1:i.length,a=e.charAt(s);return a&&a!=="/"?null:e.slice(s)||"/"}function resolvePath(e,i){i===void 0&&(i="/");let{pathname:s,search:a="",hash:o=""}=typeof e=="string"?parsePath(e):e;return{pathname:s?s.startsWith("/")?s:resolvePathname(s,i):i,search:normalizeSearch(a),hash:normalizeHash(o)}}function resolvePathname(e,i){let s=i.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?s.length>1&&s.pop():o!=="."&&s.push(o)}),s.length>1?s.join("/"):"/"}function getInvalidPathError(e,i,s,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+i+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(e){return e.filter((i,s)=>s===0||i.route.path&&i.route.path.length>0)}function getResolveToMatches(e,i){let s=getPathContributingMatches(e);return i?s.map((a,o)=>o===s.length-1?a.pathname:a.pathnameBase):s.map(a=>a.pathnameBase)}function resolveTo(e,i,s,a){a===void 0&&(a=!1);let o;typeof e=="string"?o=parsePath(e):(o=_extends$2({},e),invariant$1(!o.pathname||!o.pathname.includes("?"),getInvalidPathError("?","pathname","search",o)),invariant$1(!o.pathname||!o.pathname.includes("#"),getInvalidPathError("#","pathname","hash",o)),invariant$1(!o.search||!o.search.includes("#"),getInvalidPathError("#","search","hash",o)));let c=e===""||o.pathname==="",d=c?"/":o.pathname,g;if(d==null)g=s;else{let $=i.length-1;if(!a&&d.startsWith("..")){let j=d.split("/");for(;j[0]==="..";)j.shift(),$-=1;o.pathname=j.join("/")}g=$>=0?i[$]:"/"}let h=resolvePath(o,g),b=d&&d!=="/"&&d.endsWith("/"),_=(c||d===".")&&s.endsWith("/");return!h.pathname.endsWith("/")&&(b||_)&&(h.pathname+="/"),h}const joinPaths=e=>e.join("/").replace(/\/\/+/g,"/"),normalizePathname=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,normalizeHash=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function isRouteErrorResponse(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(e){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},_extends$1.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(e,i){let{relative:s}=i===void 0?{}:i;useInRouterContext()||invariant$1(!1);let{basename:a,navigator:o}=reactExports.useContext(NavigationContext),{hash:c,pathname:d,search:g}=useResolvedPath(e,{relative:s}),h=d;return a!=="/"&&(h=d==="/"?a:joinPaths([a,d])),o.createHref({pathname:h,search:g,hash:c})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant$1(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect(e){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(e)}function useNavigate(){let{isDataRoute:e}=reactExports.useContext(RouteContext);return e?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant$1(!1);let e=reactExports.useContext(DataRouterContext),{basename:i,future:s,navigator:a}=reactExports.useContext(NavigationContext),{matches:o}=reactExports.useContext(RouteContext),{pathname:c}=useLocation(),d=JSON.stringify(getResolveToMatches(o,s.v7_relativeSplatPath)),g=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{g.current=!0}),reactExports.useCallback(function(b,_){if(_===void 0&&(_={}),!g.current)return;if(typeof b=="number"){a.go(b);return}let $=resolveTo(b,JSON.parse(d),c,_.relative==="path");e==null&&i!=="/"&&($.pathname=$.pathname==="/"?i:joinPaths([i,$.pathname])),(_.replace?a.replace:a.push)($,_.state,_)},[i,a,d,c,e])}function useParams(){let{matches:e}=reactExports.useContext(RouteContext),i=e[e.length-1];return i?i.params:{}}function useResolvedPath(e,i){let{relative:s}=i===void 0?{}:i,{future:a}=reactExports.useContext(NavigationContext),{matches:o}=reactExports.useContext(RouteContext),{pathname:c}=useLocation(),d=JSON.stringify(getResolveToMatches(o,a.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(e,JSON.parse(d),c,s==="path"),[e,d,c,s])}function useRoutes(e,i){return useRoutesImpl(e,i)}function useRoutesImpl(e,i,s,a){useInRouterContext()||invariant$1(!1);let{navigator:o}=reactExports.useContext(NavigationContext),{matches:c}=reactExports.useContext(RouteContext),d=c[c.length-1],g=d?d.params:{};d&&d.pathname;let h=d?d.pathnameBase:"/";d&&d.route;let b=useLocation(),_;if(i){var $;let st=typeof i=="string"?parsePath(i):i;h==="/"||($=st.pathname)!=null&&$.startsWith(h)||invariant$1(!1),_=st}else _=b;let j=_.pathname||"/",_e=j;if(h!=="/"){let st=h.replace(/^\//,"").split("/");_e="/"+j.replace(/^\//,"").split("/").slice(st.length).join("/")}let rt=matchRoutes(e,{pathname:_e}),it=_renderMatches(rt&&rt.map(st=>Object.assign({},st,{params:Object.assign({},g,st.params),pathname:joinPaths([h,o.encodeLocation?o.encodeLocation(st.pathname).pathname:st.pathname]),pathnameBase:st.pathnameBase==="/"?h:joinPaths([h,o.encodeLocation?o.encodeLocation(st.pathnameBase).pathname:st.pathnameBase])})),c,s,a);return i&&it?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$1({pathname:"/",search:"",hash:"",state:null,key:"default"},_),navigationType:Action.Pop}},it):it}function DefaultErrorComponent(){let e=useRouteError(),i=isRouteErrorResponse(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},i),s?reactExports.createElement("pre",{style:o},s):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,s){return s.location!==i.location||s.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:s.error,location:s.location,revalidation:i.revalidation||s.revalidation}}componentDidCatch(i,s){console.error("React Router caught the following error during render",i,s)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(e){let{routeContext:i,match:s,children:a}=e,o=reactExports.useContext(DataRouterContext);return o&&o.static&&o.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=s.route.id),reactExports.createElement(RouteContext.Provider,{value:i},a)}function _renderMatches(e,i,s,a){var o;if(i===void 0&&(i=[]),s===void 0&&(s=null),a===void 0&&(a=null),e==null){var c;if(!s)return null;if(s.errors)e=s.matches;else if((c=a)!=null&&c.v7_partialHydration&&i.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let d=e,g=(o=s)==null?void 0:o.errors;if(g!=null){let _=d.findIndex($=>$.route.id&&(g==null?void 0:g[$.route.id])!==void 0);_>=0||invariant$1(!1),d=d.slice(0,Math.min(d.length,_+1))}let h=!1,b=-1;if(s&&a&&a.v7_partialHydration)for(let _=0;_<d.length;_++){let $=d[_];if(($.route.HydrateFallback||$.route.hydrateFallbackElement)&&(b=_),$.route.id){let{loaderData:j,errors:_e}=s,rt=$.route.loader&&j[$.route.id]===void 0&&(!_e||_e[$.route.id]===void 0);if($.route.lazy||rt){h=!0,b>=0?d=d.slice(0,b+1):d=[d[0]];break}}}return d.reduceRight((_,$,j)=>{let _e,rt=!1,it=null,st=null;s&&(_e=g&&$.route.id?g[$.route.id]:void 0,it=$.route.errorElement||defaultErrorElement,h&&(b<0&&j===0?(rt=!0,st=null):b===j&&(rt=!0,st=$.route.hydrateFallbackElement||null)));let et=i.concat(d.slice(0,j+1)),tt=()=>{let ot;return _e?ot=it:rt?ot=st:$.route.Component?ot=reactExports.createElement($.route.Component,null):$.route.element?ot=$.route.element:ot=_,reactExports.createElement(RenderedRoute,{match:$,routeContext:{outlet:_,matches:et,isDataRoute:s!=null},children:ot})};return s&&($.route.ErrorBoundary||$.route.errorElement||j===0)?reactExports.createElement(RenderErrorBoundary,{location:s.location,revalidation:s.revalidation,component:it,error:_e,children:tt(),routeContext:{outlet:null,matches:et,isDataRoute:!0}}):tt()},null)}var DataRouterHook$1=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(DataRouterHook$1||{}),DataRouterStateHook$1=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(DataRouterStateHook$1||{});function useDataRouterContext(e){let i=reactExports.useContext(DataRouterContext);return i||invariant$1(!1),i}function useDataRouterState(e){let i=reactExports.useContext(DataRouterStateContext);return i||invariant$1(!1),i}function useRouteContext(e){let i=reactExports.useContext(RouteContext);return i||invariant$1(!1),i}function useCurrentRouteId(e){let i=useRouteContext(),s=i.matches[i.matches.length-1];return s.route.id||invariant$1(!1),s.route.id}function useRouteError(){var e;let i=reactExports.useContext(RouteErrorContext),s=useDataRouterState(DataRouterStateHook$1.UseRouteError),a=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return i!==void 0?i:(e=s.errors)==null?void 0:e[a]}function useNavigateStable(){let{router:e}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),i=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),s=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{s.current=!0}),reactExports.useCallback(function(o,c){c===void 0&&(c={}),s.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,_extends$1({fromRouteId:i},c)))},[e,i])}const alreadyWarned={};function warnOnce(e,i){alreadyWarned[i]||(alreadyWarned[i]=!0,console.warn(i))}const logDeprecation=(e,i,s)=>warnOnce(e," React Router Future Flag Warning: "+i+". "+("You can use the `"+e+"` future flag to opt-in early. ")+("For more information, see "+s+"."));function logV6DeprecationWarnings(e,i){(e==null?void 0:e.v7_startTransition)===void 0&&logDeprecation("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(e==null?void 0:e.v7_relativeSplatPath)===void 0&&!i&&logDeprecation("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Navigate(e){let{to:i,replace:s,state:a,relative:o}=e;useInRouterContext()||invariant$1(!1);let{future:c,static:d}=reactExports.useContext(NavigationContext),{matches:g}=reactExports.useContext(RouteContext),{pathname:h}=useLocation(),b=useNavigate(),_=resolveTo(i,getResolveToMatches(g,c.v7_relativeSplatPath),h,o==="path"),$=JSON.stringify(_);return reactExports.useEffect(()=>b(JSON.parse($),{replace:s,state:a,relative:o}),[b,$,o,s,a]),null}function Route(e){invariant$1(!1)}function Router(e){let{basename:i="/",children:s=null,location:a,navigationType:o=Action.Pop,navigator:c,static:d=!1,future:g}=e;useInRouterContext()&&invariant$1(!1);let h=i.replace(/^\/*/,"/"),b=reactExports.useMemo(()=>({basename:h,navigator:c,static:d,future:_extends$1({v7_relativeSplatPath:!1},g)}),[h,g,c,d]);typeof a=="string"&&(a=parsePath(a));let{pathname:_="/",search:$="",hash:j="",state:_e=null,key:rt="default"}=a,it=reactExports.useMemo(()=>{let st=stripBasename(_,h);return st==null?null:{location:{pathname:st,search:$,hash:j,state:_e,key:rt},navigationType:o}},[h,_,$,j,_e,rt,o]);return it==null?null:reactExports.createElement(NavigationContext.Provider,{value:b},reactExports.createElement(LocationContext.Provider,{children:s,value:it}))}function Routes(e){let{children:i,location:s}=e;return useRoutes(createRoutesFromChildren(i),s)}new Promise(()=>{});function createRoutesFromChildren(e,i){i===void 0&&(i=[]);let s=[];return reactExports.Children.forEach(e,(a,o)=>{if(!reactExports.isValidElement(a))return;let c=[...i,o];if(a.type===reactExports.Fragment){s.push.apply(s,createRoutesFromChildren(a.props.children,c));return}a.type!==Route&&invariant$1(!1),!a.props.index||!a.props.children||invariant$1(!1);let d={id:a.props.id||c.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(d.children=createRoutesFromChildren(a.props.children,c)),s.push(d)}),s}/**
 * React Router DOM v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose(e,i){if(e==null)return{};var s={},a=Object.keys(e),o,c;for(c=0;c<a.length;c++)o=a[c],!(i.indexOf(o)>=0)&&(s[o]=e[o]);return s}function isModifiedEvent(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function shouldProcessLinkClick(e,i){return e.button===0&&(!i||i==="_self")&&!isModifiedEvent(e)}const _excluded=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=React$1[START_TRANSITION];function BrowserRouter(e){let{basename:i,children:s,future:a,window:o}=e,c=reactExports.useRef();c.current==null&&(c.current=createBrowserHistory({window:o,v5Compat:!0}));let d=c.current,[g,h]=reactExports.useState({action:d.action,location:d.location}),{v7_startTransition:b}=a||{},_=reactExports.useCallback($=>{b&&startTransitionImpl?startTransitionImpl(()=>h($)):h($)},[h,b]);return reactExports.useLayoutEffect(()=>d.listen(_),[d,_]),reactExports.useEffect(()=>logV6DeprecationWarnings(a),[a]),reactExports.createElement(Router,{basename:i,children:s,location:g.location,navigationType:g.action,navigator:d,future:a})}const isBrowser$2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function(i,s){let{onClick:a,relative:o,reloadDocument:c,replace:d,state:g,target:h,to:b,preventScrollReset:_,viewTransition:$}=i,j=_objectWithoutPropertiesLoose(i,_excluded),{basename:_e}=reactExports.useContext(NavigationContext),rt,it=!1;if(typeof b=="string"&&ABSOLUTE_URL_REGEX.test(b)&&(rt=b,isBrowser$2))try{let ot=new URL(window.location.href),nt=b.startsWith("//")?new URL(ot.protocol+b):new URL(b),at=stripBasename(nt.pathname,_e);nt.origin===ot.origin&&at!=null?b=at+nt.search+nt.hash:it=!0}catch{}let st=useHref(b,{relative:o}),et=useLinkClickHandler(b,{replace:d,state:g,target:h,preventScrollReset:_,relative:o,viewTransition:$});function tt(ot){a&&a(ot),ot.defaultPrevented||et(ot)}return reactExports.createElement("a",_extends({},j,{href:rt||st,onClick:it||c?a:tt,ref:s,target:h}))});var DataRouterHook;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(e,i){let{target:s,replace:a,state:o,preventScrollReset:c,relative:d,viewTransition:g}=i===void 0?{}:i,h=useNavigate(),b=useLocation(),_=useResolvedPath(e,{relative:d});return reactExports.useCallback($=>{if(shouldProcessLinkClick($,s)){$.preventDefault();let j=a!==void 0?a:createPath(b)===createPath(_);h(e,{replace:j,state:o,preventScrollReset:c,relative:d,viewTransition:g})}},[b,h,_,a,o,s,e,c,d,g])}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),createLucideIcon=(e,i)=>{const s=reactExports.forwardRef(({color:a="currentColor",size:o=24,strokeWidth:c=2,absoluteStrokeWidth:d,className:g="",children:h,...b},_)=>reactExports.createElement("svg",{ref:_,...defaultAttributes,width:o,height:o,stroke:a,strokeWidth:d?Number(c)*24/Number(o):c,className:["lucide",`lucide-${toKebabCase(e)}`,g].join(" "),...b},[...i.map(([$,j])=>reactExports.createElement($,j)),...Array.isArray(h)?h:[h]]));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Activity=createLucideIcon("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AlertCircle=createLucideIcon("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowLeft=createLucideIcon("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowRight=createLucideIcon("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Award=createLucideIcon("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BadgeDollarSign=createLucideIcon("BadgeDollarSign",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BarChart2=createLucideIcon("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BarChart3=createLucideIcon("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BarChart=createLucideIcon("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bot=createLucideIcon("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Brain=createLucideIcon("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Building2=createLucideIcon("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Calendar=createLucideIcon("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CheckCircle=createLucideIcon("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CheckSquare=createLucideIcon("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronDown=createLucideIcon("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronLeft=createLucideIcon("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronRight=createLucideIcon("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CircleUser=createLucideIcon("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ClipboardCheck=createLucideIcon("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ClipboardList=createLucideIcon("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Clock=createLucideIcon("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Database=createLucideIcon("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eraser=createLucideIcon("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FileCheck=createLucideIcon("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FileSpreadsheet=createLucideIcon("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FileText=createLucideIcon("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GitMerge=createLucideIcon("GitMerge",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M6 21V9a9 9 0 0 0 9 9",key:"7kw0sc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Globe=createLucideIcon("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GraduationCap=createLucideIcon("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Home$1=createLucideIcon("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lightbulb=createLucideIcon("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LineChart=createLucideIcon("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lock=createLucideIcon("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LogIn=createLucideIcon("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LogOut=createLucideIcon("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mail=createLucideIcon("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MapPin=createLucideIcon("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Menu=createLucideIcon("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MessageSquare=createLucideIcon("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pen=createLucideIcon("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Phone=createLucideIcon("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PieChart=createLucideIcon("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Plus=createLucideIcon("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Receipt=createLucideIcon("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RefreshCcw=createLucideIcon("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RotateCw=createLucideIcon("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Save=createLucideIcon("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Scale=createLucideIcon("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Search=createLucideIcon("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Send=createLucideIcon("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Settings=createLucideIcon("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ShieldCheck=createLucideIcon("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Shield=createLucideIcon("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ShoppingCart=createLucideIcon("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Stethoscope=createLucideIcon("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TableProperties=createLucideIcon("TableProperties",[["path",{d:"M15 3v18",key:"14nvp0"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M21 9H3",key:"1338ky"}],["path",{d:"M21 15H3",key:"9uk58r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tags=createLucideIcon("Tags",[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Target=createLucideIcon("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Trash2=createLucideIcon("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TrendingUp=createLucideIcon("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Truck=createLucideIcon("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const User=createLucideIcon("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Users=createLucideIcon("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Workflow=createLucideIcon("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=createLucideIcon("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zap=createLucideIcon("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function Header(){const e=useLocation(),[i,s]=reactExports.useState(!1),[a,o]=reactExports.useState(!1),c=b=>e.pathname===b,d=[{path:"/",label:"Home"},{path:"/about",label:"About"},{path:"/contact",label:"Contact"}],g=[{path:"/services/data-entry",label:"Data Entry"},{path:"/services/data-processing",label:"Data Processing"},{path:"/services/data-analysis",label:"Data Analysis"}],h=()=>{s(!i),a&&o(!1)};return jsxRuntimeExports.jsx("header",{className:"bg-white border-b border-gray-100",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center px-4 sm:px-6 lg:px-8 h-16",children:[jsxRuntimeExports.jsx(Link,{to:"/",className:"flex items-center space-x-3",children:jsxRuntimeExports.jsx("img",{src:"/neo-02.png",alt:"Neo DataWorks Logo",className:"h-12 w-auto"})}),e.pathname==="/login"&&jsxRuntimeExports.jsx("div",{className:"text-xl font-bold text-purple-900",children:"Neo Dataworks"}),jsxRuntimeExports.jsxs("nav",{className:"hidden md:flex items-center space-x-8",children:[d.map(b=>jsxRuntimeExports.jsx(Link,{to:b.path,className:`text-sm font-medium transition-colors duration-200 ${c(b.path)?"text-purple-700":"text-gray-600 hover:text-purple-700"}`,children:b.label},b.path)),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>o(!a),className:"flex items-center text-sm font-medium text-gray-600 hover:text-purple-700",children:["Services",jsxRuntimeExports.jsx(ChevronDown,{className:"ml-1 h-4 w-4"})]}),a&&jsxRuntimeExports.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50",children:g.map(b=>jsxRuntimeExports.jsx(Link,{to:b.path,className:`block px-4 py-2 text-sm ${c(b.path)?"text-purple-700 bg-purple-50":"text-gray-700 hover:bg-purple-50"}`,onClick:()=>o(!1),children:b.label},b.path))})]}),jsxRuntimeExports.jsx(Link,{to:"/login",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-purple-700 hover:bg-purple-700 transition-colors duration-200",children:"Employee Portal"})]}),jsxRuntimeExports.jsx("button",{onClick:h,className:"md:hidden p-2 rounded-md text-gray-600 hover:text-purple-700 hover:bg-purple-50",children:i?jsxRuntimeExports.jsx(X,{className:"h-6 w-6"}):jsxRuntimeExports.jsx(Menu,{className:"h-6 w-6"})})]}),i&&jsxRuntimeExports.jsx("div",{className:"md:hidden",children:jsxRuntimeExports.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 bg-white border-t border-gray-100",children:[d.map(b=>jsxRuntimeExports.jsx(Link,{to:b.path,className:`block px-3 py-2 rounded-md text-base font-medium ${c(b.path)?"text-purple-700 bg-purple-50":"text-gray-600 hover:text-purple-700 hover:bg-purple-50"}`,onClick:()=>s(!1),children:b.label},b.path)),jsxRuntimeExports.jsxs("div",{className:"px-3 py-2",children:[jsxRuntimeExports.jsx("div",{className:"font-medium text-gray-600 mb-2",children:"Services"}),g.map(b=>jsxRuntimeExports.jsx(Link,{to:b.path,className:`block px-3 py-2 text-sm ${c(b.path)?"text-purple-700 bg-purple-50":"text-gray-600 hover:text-purple-700"}`,onClick:()=>s(!1),children:b.label},b.path))]}),jsxRuntimeExports.jsx(Link,{to:"/login",className:"block px-3 py-2 text-base font-medium text-purple-700 hover:text-purple-700",onClick:()=>s(!1),children:"Employee Portal"}),jsxRuntimeExports.jsx("div",{className:"text-xl font-bold text-purple-900",children:"Neo Dataworks"})]})})]})})}function Footer(){return jsxRuntimeExports.jsx("footer",{className:"bg-purple-900",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-white text-lg font-semibold mb-4",children:"About Us"}),jsxRuntimeExports.jsx("p",{className:"text-white",children:"Neo DataWorks is a leading provider of data management solutions, helping businesses transform their raw data into valuable insights."})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-white text-lg font-semibold mb-4",children:"Contact"}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center text-white",children:[jsxRuntimeExports.jsx(Mail,{className:"h-5 w-5 mr-2"}),jsxRuntimeExports.jsx("span",{children:"contact@neodataworks.in"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center text-white",children:[jsxRuntimeExports.jsx(Phone,{className:"h-5 w-5 mr-2"}),jsxRuntimeExports.jsx("span",{children:"+1- 708-418-6560"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center text-white",children:[jsxRuntimeExports.jsx(MapPin,{className:"h-5 w-5 mr-2"}),jsxRuntimeExports.jsx("span",{children:"2398 East Camelback Road, Suite 1100, Phoenix, Arizona 85016"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-white text-lg font-semibold mb-4",children:"Quick Links"}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(Link,{to:"/terms",className:"text-white hover:text-gray-300",children:"Terms & Conditions"})}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(Link,{to:"/contact",className:"text-white hover:text-gray-300",children:"Contact Us"})})]})]})]}),jsxRuntimeExports.jsx("div",{className:"mt-8 pt-8 border-t border-gray-800",children:jsxRuntimeExports.jsxs("p",{className:"text-center text-white",children:[" ",new Date().getFullYear()," Neo DataWorks. All rights reserved."]})})]})})}function Layout({children:e}){return jsxRuntimeExports.jsxs("div",{className:"min-h-screen flex flex-col",children:[jsxRuntimeExports.jsx(Header,{}),jsxRuntimeExports.jsx("main",{className:"flex-grow",children:e}),jsxRuntimeExports.jsx(Footer,{})]})}const reasons$1=[{title:"Expertise You Can Trust",description:"Our team comprises data professionals with years of experience across various industries."},{title:"Tailored Solutions",description:"We don't believe in one-size-fits-all; every solution is customized to your specific requirements."},{title:"Seamless Integration",description:"Our services are designed to fit seamlessly into your workflows, ensuring minimal disruption."},{title:"Commitment to Success",description:"Your success is our success, and we go the extra mile to make it happen."}];function WhyChooseUs$2(){return jsxRuntimeExports.jsx("div",{className:"py-16 bg-gray-50",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-gray-900 text-center mb-12",children:"Why Choose Neo DataWorks?"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:reasons$1.map(e=>jsxRuntimeExports.jsxs("div",{className:"flex items-start",children:[jsxRuntimeExports.jsx(CheckCircle,{className:"h-6 w-6 text-fuchsia-500 mt-1 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{className:"ml-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.title}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-gray-600",children:e.description})]})]},e.title))})]})})}const values=[{icon:Target,title:"Precision",description:"Attention to every detail in our work ensures flawless results."},{icon:Lightbulb,title:"Innovation",description:"Constantly evolving and adopting the latest practices in data management."},{icon:Users,title:"Collaboration",description:"Partnering closely with clients to understand and meet their unique needs."},{icon:Shield,title:"Integrity",description:"Delivering what we promise, every time."},{icon:Award,title:"Excellence",description:"Setting high standards for quality in every project we undertake."}];function AboutValues(){return jsxRuntimeExports.jsx("div",{className:"py-16 bg-gray-50",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-gray-900 text-center mb-12",children:"Our Values"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:values.map(e=>jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-4",children:[jsxRuntimeExports.jsx(e.icon,{className:"h-6 w-6 text-purple-700 mr-3"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.title})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:e.description})]},e.title))})]})})}function Home(){const e=[{icon:Building2,value:"500+",label:"Enterprise Clients"},{icon:Users,value:"50,000+",label:"Active Users"},{icon:Globe,value:"20+",label:"Countries Served"},{icon:Award,value:"15+",label:"Industry Awards"}],i=[{icon:Database,title:"Data Cataloging",description:"Comprehensive organization and structuring of your data assets with advanced metadata management and intelligent tagging systems."},{icon:ClipboardCheck,title:"Data Cleaning",description:"Advanced data validation, deduplication, and standardization using AI-powered tools to ensure highest data quality standards."},{icon:FileSpreadsheet,title:"Data Formatting",description:"Custom data transformation and formatting solutions with support for multiple industry standards and enterprise systems."},{icon:Tags,title:"Data Marking",description:"Intelligent data classification and tagging system with automated metadata generation and advanced search capabilities."}],s=[{name:"E-commerce",description:"Streamline product catalogs and inventory data.",image:"https://images.unsplash.com/photo-1472851294608-062f824d29cc?auto=format&fit=crop&q=80"},{name:"Healthcare",description:"Organize patient records and research data securely.",image:"https://images.unsplash.com/photo-1538108149393-fbbd81895907?auto=format&fit=crop&q=80"},{name:"Finance",description:"Clean and format financial data for audits.",image:"https://images.unsplash.com/photo-1450101499163-c8848c66ca85?auto=format&fit=crop&q=80"},{name:"Manufacturing",description:"Structure operational data for enhanced workflows.",image:"https://images.unsplash.com/photo-1717386255773-1e3037c81788?auto=format&fit=crop&q=80"},{name:"Retail",description:"Optimize inventory and sales data management.",image:"https://images.unsplash.com/photo-1441986300917-64674bd600d8?auto=format&fit=crop&q=80"},{name:"Logistics",description:"Keep tracking data clear and accessible.",image:"https://images.unsplash.com/photo-1494412651409-8963ce7935a7?auto=format&fit=crop&q=80"}];return jsxRuntimeExports.jsxs(Layout,{children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("div",{className:"absolute inset-0",children:[jsxRuntimeExports.jsx("img",{className:"w-full h-[80vh] object-cover",src:"https://images.unsplash.com/photo-1451187580459-43490279c0fa?auto=format&fit=crop&q=80",alt:"Data visualization"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-900 to-purple-900/75 mix-blend-multiply"})]}),jsxRuntimeExports.jsxs("div",{className:"relative max-w-7xl mx-auto py-24 px-4 sm:py-32 sm:px-6 lg:px-8 h-[80vh] flex flex-col justify-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl font-extrabold tracking-tight text-white sm:text-5xl lg:text-6xl",children:"Neo DataWorks"}),jsxRuntimeExports.jsx("p",{className:"mt-6 max-w-3xl text-xl text-gray-300",children:"Shaping Your Data for Success. In the modern business landscape, data is more than just numbers and textit's the key to unlocking opportunities."}),jsxRuntimeExports.jsxs("div",{className:"mt-10 flex gap-4",children:[jsxRuntimeExports.jsxs(Link,{to:"/login",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-purple-700 hover:bg-purple-700",children:[jsxRuntimeExports.jsx(LogIn,{className:"mr-2 h-5 w-5"}),"Employee Portal"]}),jsxRuntimeExports.jsxs("a",{href:"#about",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-purple-700 bg-gray-50 hover:bg-gray-100",children:["Learn More",jsxRuntimeExports.jsx(ArrowRight,{className:"ml-2 h-5 w-5"})]})]})]})]}),jsxRuntimeExports.jsx("div",{id:"about",className:"bg-gray-50 py-24",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[jsxRuntimeExports.jsx(WhyChooseUs$2,{}),jsxRuntimeExports.jsx("div",{className:"mt-20 grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-4",children:e.map(a=>jsxRuntimeExports.jsxs("div",{className:"bg-purple-50 p-6 rounded-lg transform hover:scale-105 transition-transform duration-200",children:[jsxRuntimeExports.jsx(a.icon,{className:"h-8 w-8 text-purple-700"}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-3xl font-extrabold text-purple-700",children:a.value}),jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-500",children:a.label})]},a.label))})]})}),jsxRuntimeExports.jsx("div",{id:"services",className:"bg-gray-50 py-24",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 sm:text-4xl",children:"What We Do"}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-xl text-gray-500",children:"Transform your raw data into valuable business assets with our comprehensive suite of services."})]}),jsxRuntimeExports.jsx("div",{className:"mt-20 grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-4",children:i.map(a=>jsxRuntimeExports.jsxs("div",{className:"relative bg-gray-50 p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow duration-200",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 rounded-md bg-purple-700 flex items-center justify-center",children:jsxRuntimeExports.jsx(a.icon,{className:"h-6 w-6 text-white"})}),jsxRuntimeExports.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:a.title}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-base text-gray-500",children:a.description})]},a.title))})]})}),jsxRuntimeExports.jsx(AboutValues,{}),jsxRuntimeExports.jsx("div",{className:"bg-gray-50 py-24",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 sm:text-4xl",children:"Industries We Serve"}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-xl text-gray-500",children:"Our solutions are tailored to meet the unique challenges of various industries."})]}),jsxRuntimeExports.jsx("div",{className:"mt-20 grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3",children:s.map(a=>jsxRuntimeExports.jsxs("div",{className:"group relative bg-gray-50 rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-200",children:[jsxRuntimeExports.jsx("div",{className:"h-48 w-full overflow-hidden",children:jsxRuntimeExports.jsx("img",{src:a.image,alt:a.name,className:"w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-200"})}),jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900",children:a.name}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-base text-gray-500",children:a.description})]})]},a.name))})]})}),jsxRuntimeExports.jsx("div",{className:"bg-purple-700",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8 flex flex-col lg:flex-row items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"text-center lg:text-left",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-extrabold text-white sm:text-4xl",children:"Ready to Transform Your Data?"}),jsxRuntimeExports.jsx("p",{className:"mt-3 text-lg text-purple-100",children:"Join countless businesses that trust Neo DataWorks for their data needs."})]}),jsxRuntimeExports.jsx("div",{className:"mt-8 lg:mt-0 flex flex-col sm:flex-row gap-4",children:jsxRuntimeExports.jsx(Link,{to:"/contact",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-purple-700 bg-gray-50 hover:bg-purple-50",children:"Contact Us"})})]})})]})}const scriptRel="modulepreload",assetsURL=function(e){return"/"+e},seen={},__vitePreload=function(i,s,a){let o=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),g=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));o=Promise.allSettled(s.map(h=>{if(h=assetsURL(h),h in seen)return;seen[h]=!0;const b=h.endsWith(".css"),_=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${_}`))return;const $=document.createElement("link");if($.rel=b?"stylesheet":scriptRel,b||($.as="script"),$.crossOrigin="",$.href=h,g&&$.setAttribute("nonce",g),document.head.appendChild($),b)return new Promise((j,_e)=>{$.addEventListener("load",j),$.addEventListener("error",()=>_e(new Error(`Unable to preload CSS for ${h}`)))})}))}function c(d){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=d,window.dispatchEvent(g),!g.defaultPrevented)throw d}return o.then(d=>{for(const g of d||[])g.status==="rejected"&&c(g.reason);return i().catch(c)})},resolveFetch$3=e=>{let i;return e?i=e:typeof fetch>"u"?i=(...s)=>__vitePreload(async()=>{const{default:a}=await Promise.resolve().then(()=>browser);return{default:a}},void 0).then(({default:a})=>a(...s)):i=fetch,(...s)=>i(...s)};class FunctionsError extends Error{constructor(i,s="FunctionsError",a){super(i),this.name=s,this.context=a}}class FunctionsFetchError extends FunctionsError{constructor(i){super("Failed to send a request to the Edge Function","FunctionsFetchError",i)}}class FunctionsRelayError extends FunctionsError{constructor(i){super("Relay Error invoking the Edge Function","FunctionsRelayError",i)}}class FunctionsHttpError extends FunctionsError{constructor(i){super("Edge Function returned a non-2xx status code","FunctionsHttpError",i)}}var FunctionRegion;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(FunctionRegion||(FunctionRegion={}));var __awaiter$8=function(e,i,s,a){function o(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function g(_){try{b(a.next(_))}catch($){d($)}}function h(_){try{b(a.throw(_))}catch($){d($)}}function b(_){_.done?c(_.value):o(_.value).then(g,h)}b((a=a.apply(e,i||[])).next())})};class FunctionsClient{constructor(i,{headers:s={},customFetch:a,region:o=FunctionRegion.Any}={}){this.url=i,this.headers=s,this.region=o,this.fetch=resolveFetch$3(a)}setAuth(i){this.headers.Authorization=`Bearer ${i}`}invoke(i,s={}){var a;return __awaiter$8(this,void 0,void 0,function*(){try{const{headers:o,method:c,body:d}=s;let g={},{region:h}=s;h||(h=this.region),h&&h!=="any"&&(g["x-region"]=h);let b;d&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",b=d):typeof d=="string"?(g["Content-Type"]="text/plain",b=d):typeof FormData<"u"&&d instanceof FormData?b=d:(g["Content-Type"]="application/json",b=JSON.stringify(d)));const _=yield this.fetch(`${this.url}/${i}`,{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),o),body:b}).catch(rt=>{throw new FunctionsFetchError(rt)}),$=_.headers.get("x-relay-error");if($&&$==="true")throw new FunctionsRelayError(_);if(!_.ok)throw new FunctionsHttpError(_);let j=((a=_.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),_e;return j==="application/json"?_e=yield _.json():j==="application/octet-stream"?_e=yield _.blob():j==="text/event-stream"?_e=_:j==="multipart/form-data"?_e=yield _.formData():_e=yield _.text(),{data:_e,error:null}}catch(o){return{data:null,error:o}}})}}var cjs={},PostgrestClient$2={},PostgrestQueryBuilder$2={},PostgrestFilterBuilder$2={},PostgrestTransformBuilder$2={},PostgrestBuilder$2={},getGlobal=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},globalObject=getGlobal();const fetch$1=globalObject.fetch,nodeFetch=globalObject.fetch.bind(globalObject),Headers$1=globalObject.Headers,Request=globalObject.Request,Response$1=globalObject.Response,browser=Object.freeze(Object.defineProperty({__proto__:null,Headers:Headers$1,Request,Response:Response$1,default:nodeFetch,fetch:fetch$1},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(browser);var PostgrestError$2={};Object.defineProperty(PostgrestError$2,"__esModule",{value:!0});let PostgrestError$1=class extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}};PostgrestError$2.default=PostgrestError$1;var __importDefault$6=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(PostgrestBuilder$2,"__esModule",{value:!0});const node_fetch_1=__importDefault$6(require$$0),PostgrestError_1$1=__importDefault$6(PostgrestError$2);let PostgrestBuilder$1=class{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=node_fetch_1.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,s){return this.headers=Object.assign({},this.headers),this.headers[i]=s,this}then(i,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let o=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var d,g,h;let b=null,_=null,$=null,j=c.status,_e=c.statusText;if(c.ok){if(this.method!=="HEAD"){const et=await c.text();et===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?_=et:_=JSON.parse(et))}const it=(d=this.headers.Prefer)===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),st=(g=c.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");it&&st&&st.length>1&&($=parseInt(st[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(b={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,$=null,j=406,_e="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const it=await c.text();try{b=JSON.parse(it),Array.isArray(b)&&c.status===404&&(_=[],b=null,j=200,_e="OK")}catch{c.status===404&&it===""?(j=204,_e="No Content"):b={message:it}}if(b&&this.isMaybeSingle&&(!((h=b==null?void 0:b.details)===null||h===void 0)&&h.includes("0 rows"))&&(b=null,j=200,_e="OK"),b&&this.shouldThrowOnError)throw new PostgrestError_1$1.default(b)}return{error:b,data:_,count:$,status:j,statusText:_e}});return this.shouldThrowOnError||(o=o.catch(c=>{var d,g,h;return{error:{message:`${(d=c==null?void 0:c.name)!==null&&d!==void 0?d:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(g=c==null?void 0:c.stack)!==null&&g!==void 0?g:""}`,hint:"",code:`${(h=c==null?void 0:c.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),o.then(i,s)}};PostgrestBuilder$2.default=PostgrestBuilder$1;var __importDefault$5=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(PostgrestTransformBuilder$2,"__esModule",{value:!0});const PostgrestBuilder_1$1=__importDefault$5(PostgrestBuilder$2);let PostgrestTransformBuilder$1=class extends PostgrestBuilder_1$1.default{select(i){let s=!1;const a=(i??"*").split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",a),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:s=!0,nullsFirst:a,foreignTable:o,referencedTable:c=o}={}){const d=c?`${c}.order`:"order",g=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${g?`${g},`:""}${i}.${s?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:a=s}={}){const o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${i}`),this}range(i,s,{foreignTable:a,referencedTable:o=a}={}){const c=typeof o>"u"?"offset":`${o}.offset`,d=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${i}`),this.url.searchParams.set(d,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:s=!1,settings:a=!1,buffers:o=!1,wal:c=!1,format:d="text"}={}){var g;const h=[i?"analyze":null,s?"verbose":null,a?"settings":null,o?"buffers":null,c?"wal":null].filter(Boolean).join("|"),b=(g=this.headers.Accept)!==null&&g!==void 0?g:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${d}; for="${b}"; options=${h};`,d==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};PostgrestTransformBuilder$2.default=PostgrestTransformBuilder$1;var __importDefault$4=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(PostgrestFilterBuilder$2,"__esModule",{value:!0});const PostgrestTransformBuilder_1$1=__importDefault$4(PostgrestTransformBuilder$2);let PostgrestFilterBuilder$1=class extends PostgrestTransformBuilder_1$1.default{eq(i,s){return this.url.searchParams.append(i,`eq.${s}`),this}neq(i,s){return this.url.searchParams.append(i,`neq.${s}`),this}gt(i,s){return this.url.searchParams.append(i,`gt.${s}`),this}gte(i,s){return this.url.searchParams.append(i,`gte.${s}`),this}lt(i,s){return this.url.searchParams.append(i,`lt.${s}`),this}lte(i,s){return this.url.searchParams.append(i,`lte.${s}`),this}like(i,s){return this.url.searchParams.append(i,`like.${s}`),this}likeAllOf(i,s){return this.url.searchParams.append(i,`like(all).{${s.join(",")}}`),this}likeAnyOf(i,s){return this.url.searchParams.append(i,`like(any).{${s.join(",")}}`),this}ilike(i,s){return this.url.searchParams.append(i,`ilike.${s}`),this}ilikeAllOf(i,s){return this.url.searchParams.append(i,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(i,s){return this.url.searchParams.append(i,`ilike(any).{${s.join(",")}}`),this}is(i,s){return this.url.searchParams.append(i,`is.${s}`),this}in(i,s){const a=Array.from(new Set(s)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(i,`in.(${a})`),this}contains(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cs.{${s.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(s)}`),this}containedBy(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cd.{${s.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(s)}`),this}rangeGt(i,s){return this.url.searchParams.append(i,`sr.${s}`),this}rangeGte(i,s){return this.url.searchParams.append(i,`nxl.${s}`),this}rangeLt(i,s){return this.url.searchParams.append(i,`sl.${s}`),this}rangeLte(i,s){return this.url.searchParams.append(i,`nxr.${s}`),this}rangeAdjacent(i,s){return this.url.searchParams.append(i,`adj.${s}`),this}overlaps(i,s){return typeof s=="string"?this.url.searchParams.append(i,`ov.${s}`):this.url.searchParams.append(i,`ov.{${s.join(",")}}`),this}textSearch(i,s,{config:a,type:o}={}){let c="";o==="plain"?c="pl":o==="phrase"?c="ph":o==="websearch"&&(c="w");const d=a===void 0?"":`(${a})`;return this.url.searchParams.append(i,`${c}fts${d}.${s}`),this}match(i){return Object.entries(i).forEach(([s,a])=>{this.url.searchParams.append(s,`eq.${a}`)}),this}not(i,s,a){return this.url.searchParams.append(i,`not.${s}.${a}`),this}or(i,{foreignTable:s,referencedTable:a=s}={}){const o=a?`${a}.or`:"or";return this.url.searchParams.append(o,`(${i})`),this}filter(i,s,a){return this.url.searchParams.append(i,`${s}.${a}`),this}};PostgrestFilterBuilder$2.default=PostgrestFilterBuilder$1;var __importDefault$3=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(PostgrestQueryBuilder$2,"__esModule",{value:!0});const PostgrestFilterBuilder_1$2=__importDefault$3(PostgrestFilterBuilder$2);let PostgrestQueryBuilder$1=class{constructor(i,{headers:s={},schema:a,fetch:o}){this.url=i,this.headers=s,this.schema=a,this.fetch=o}select(i,{head:s=!1,count:a}={}){const o=s?"HEAD":"GET";let c=!1;const d=(i??"*").split("").map(g=>/\s/.test(g)&&!c?"":(g==='"'&&(c=!c),g)).join("");return this.url.searchParams.set("select",d),a&&(this.headers.Prefer=`count=${a}`),new PostgrestFilterBuilder_1$2.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:s,defaultToNull:a=!0}={}){const o="POST",c=[];if(this.headers.Prefer&&c.push(this.headers.Prefer),s&&c.push(`count=${s}`),a||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(i)){const d=i.reduce((g,h)=>g.concat(Object.keys(h)),[]);if(d.length>0){const g=[...new Set(d)].map(h=>`"${h}"`);this.url.searchParams.set("columns",g.join(","))}}return new PostgrestFilterBuilder_1$2.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:s,ignoreDuplicates:a=!1,count:o,defaultToNull:c=!0}={}){const d="POST",g=[`resolution=${a?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&g.push(this.headers.Prefer),o&&g.push(`count=${o}`),c||g.push("missing=default"),this.headers.Prefer=g.join(","),Array.isArray(i)){const h=i.reduce((b,_)=>b.concat(Object.keys(_)),[]);if(h.length>0){const b=[...new Set(h)].map(_=>`"${_}"`);this.url.searchParams.set("columns",b.join(","))}}return new PostgrestFilterBuilder_1$2.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:s}={}){const a="PATCH",o=[];return this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),this.headers.Prefer=o.join(","),new PostgrestFilterBuilder_1$2.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const s="DELETE",a=[];return i&&a.push(`count=${i}`),this.headers.Prefer&&a.unshift(this.headers.Prefer),this.headers.Prefer=a.join(","),new PostgrestFilterBuilder_1$2.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};PostgrestQueryBuilder$2.default=PostgrestQueryBuilder$1;var constants={},version$4={};Object.defineProperty(version$4,"__esModule",{value:!0});version$4.version=void 0;version$4.version="0.0.0-automated";Object.defineProperty(constants,"__esModule",{value:!0});constants.DEFAULT_HEADERS=void 0;const version_1=version$4;constants.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${version_1.version}`};var __importDefault$2=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(PostgrestClient$2,"__esModule",{value:!0});const PostgrestQueryBuilder_1$1=__importDefault$2(PostgrestQueryBuilder$2),PostgrestFilterBuilder_1$1=__importDefault$2(PostgrestFilterBuilder$2),constants_1=constants;let PostgrestClient$1=class ts{constructor(i,{headers:s={},schema:a,fetch:o}={}){this.url=i,this.headers=Object.assign(Object.assign({},constants_1.DEFAULT_HEADERS),s),this.schemaName=a,this.fetch=o}from(i){const s=new URL(`${this.url}/${i}`);return new PostgrestQueryBuilder_1$1.default(s,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new ts(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,s={},{head:a=!1,get:o=!1,count:c}={}){let d;const g=new URL(`${this.url}/rpc/${i}`);let h;a||o?(d=a?"HEAD":"GET",Object.entries(s).filter(([_,$])=>$!==void 0).map(([_,$])=>[_,Array.isArray($)?`{${$.join(",")}}`:`${$}`]).forEach(([_,$])=>{g.searchParams.append(_,$)})):(d="POST",h=s);const b=Object.assign({},this.headers);return c&&(b.Prefer=`count=${c}`),new PostgrestFilterBuilder_1$1.default({method:d,url:g,headers:b,schema:this.schemaName,body:h,fetch:this.fetch,allowEmpty:!1})}};PostgrestClient$2.default=PostgrestClient$1;var __importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cjs,"__esModule",{value:!0});cjs.PostgrestError=cjs.PostgrestBuilder=cjs.PostgrestTransformBuilder=cjs.PostgrestFilterBuilder=cjs.PostgrestQueryBuilder=cjs.PostgrestClient=void 0;const PostgrestClient_1=__importDefault$1(PostgrestClient$2);cjs.PostgrestClient=PostgrestClient_1.default;const PostgrestQueryBuilder_1=__importDefault$1(PostgrestQueryBuilder$2);cjs.PostgrestQueryBuilder=PostgrestQueryBuilder_1.default;const PostgrestFilterBuilder_1=__importDefault$1(PostgrestFilterBuilder$2);cjs.PostgrestFilterBuilder=PostgrestFilterBuilder_1.default;const PostgrestTransformBuilder_1=__importDefault$1(PostgrestTransformBuilder$2);cjs.PostgrestTransformBuilder=PostgrestTransformBuilder_1.default;const PostgrestBuilder_1=__importDefault$1(PostgrestBuilder$2);cjs.PostgrestBuilder=PostgrestBuilder_1.default;const PostgrestError_1=__importDefault$1(PostgrestError$2);cjs.PostgrestError=PostgrestError_1.default;var _default=cjs.default={PostgrestClient:PostgrestClient_1.default,PostgrestQueryBuilder:PostgrestQueryBuilder_1.default,PostgrestFilterBuilder:PostgrestFilterBuilder_1.default,PostgrestTransformBuilder:PostgrestTransformBuilder_1.default,PostgrestBuilder:PostgrestBuilder_1.default,PostgrestError:PostgrestError_1.default};const{PostgrestClient,PostgrestQueryBuilder,PostgrestFilterBuilder,PostgrestTransformBuilder,PostgrestBuilder,PostgrestError}=_default,version$3="2.11.2",DEFAULT_HEADERS$3={"X-Client-Info":`realtime-js/${version$3}`},VSN="1.0.0",DEFAULT_TIMEOUT=1e4,WS_CLOSE_NORMAL=1e3;var SOCKET_STATES;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(SOCKET_STATES||(SOCKET_STATES={}));var CHANNEL_STATES;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(CHANNEL_STATES||(CHANNEL_STATES={}));var CHANNEL_EVENTS;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(CHANNEL_EVENTS||(CHANNEL_EVENTS={}));var TRANSPORTS;(function(e){e.websocket="websocket"})(TRANSPORTS||(TRANSPORTS={}));var CONNECTION_STATE;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(CONNECTION_STATE||(CONNECTION_STATE={}));class Serializer{constructor(){this.HEADER_LENGTH=1}decode(i,s){return i.constructor===ArrayBuffer?s(this._binaryDecode(i)):s(typeof i=="string"?JSON.parse(i):{})}_binaryDecode(i){const s=new DataView(i),a=new TextDecoder;return this._decodeBroadcast(i,s,a)}_decodeBroadcast(i,s,a){const o=s.getUint8(1),c=s.getUint8(2);let d=this.HEADER_LENGTH+2;const g=a.decode(i.slice(d,d+o));d=d+o;const h=a.decode(i.slice(d,d+c));d=d+c;const b=JSON.parse(a.decode(i.slice(d,i.byteLength)));return{ref:null,topic:g,event:h,payload:b}}}class Timer{constructor(i,s){this.callback=i,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=i,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var PostgresTypes;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(PostgresTypes||(PostgresTypes={}));const convertChangeData=(e,i,s={})=>{var a;const o=(a=s.skipTypes)!==null&&a!==void 0?a:[];return Object.keys(i).reduce((c,d)=>(c[d]=convertColumn(d,e,i,o),c),{})},convertColumn=(e,i,s,a)=>{const o=i.find(g=>g.name===e),c=o==null?void 0:o.type,d=s[e];return c&&!a.includes(c)?convertCell(c,d):noop$1(d)},convertCell=(e,i)=>{if(e.charAt(0)==="_"){const s=e.slice(1,e.length);return toArray(i,s)}switch(e){case PostgresTypes.bool:return toBoolean(i);case PostgresTypes.float4:case PostgresTypes.float8:case PostgresTypes.int2:case PostgresTypes.int4:case PostgresTypes.int8:case PostgresTypes.numeric:case PostgresTypes.oid:return toNumber(i);case PostgresTypes.json:case PostgresTypes.jsonb:return toJson(i);case PostgresTypes.timestamp:return toTimestampString(i);case PostgresTypes.abstime:case PostgresTypes.date:case PostgresTypes.daterange:case PostgresTypes.int4range:case PostgresTypes.int8range:case PostgresTypes.money:case PostgresTypes.reltime:case PostgresTypes.text:case PostgresTypes.time:case PostgresTypes.timestamptz:case PostgresTypes.timetz:case PostgresTypes.tsrange:case PostgresTypes.tstzrange:return noop$1(i);default:return noop$1(i)}},noop$1=e=>e,toBoolean=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},toNumber=e=>{if(typeof e=="string"){const i=parseFloat(e);if(!Number.isNaN(i))return i}return e},toJson=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(i){return console.log(`JSON parse error: ${i}`),e}return e},toArray=(e,i)=>{if(typeof e!="string")return e;const s=e.length-1,a=e[s];if(e[0]==="{"&&a==="}"){let c;const d=e.slice(1,s);try{c=JSON.parse("["+d+"]")}catch{c=d?d.split(","):[]}return c.map(g=>convertCell(i,g))}return e},toTimestampString=e=>typeof e=="string"?e.replace(" ","T"):e,httpEndpointURL=e=>{let i=e;return i=i.replace(/^ws/i,"http"),i=i.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),i.replace(/\/+$/,"")};class Push{constructor(i,s,a={},o=DEFAULT_TIMEOUT){this.channel=i,this.event=s,this.payload=a,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(i){this.timeout=i,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(i){this.payload=Object.assign(Object.assign({},this.payload),i)}receive(i,s){var a;return this._hasReceived(i)&&s((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:i,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const i=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},i),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(i,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:i,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:i,response:s}){this.recHooks.filter(a=>a.status===i).forEach(a=>a.callback(s))}_hasReceived(i){return this.receivedResp&&this.receivedResp.status===i}}var REALTIME_PRESENCE_LISTEN_EVENTS;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(REALTIME_PRESENCE_LISTEN_EVENTS||(REALTIME_PRESENCE_LISTEN_EVENTS={}));class RealtimePresence{constructor(i,s){this.channel=i,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},o=>{const{onJoin:c,onLeave:d,onSync:g}=this.caller;this.joinRef=this.channel._joinRef(),this.state=RealtimePresence.syncState(this.state,o,c,d),this.pendingDiffs.forEach(h=>{this.state=RealtimePresence.syncDiff(this.state,h,c,d)}),this.pendingDiffs=[],g()}),this.channel._on(a.diff,{},o=>{const{onJoin:c,onLeave:d,onSync:g}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=RealtimePresence.syncDiff(this.state,o,c,d),g())}),this.onJoin((o,c,d)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:c,newPresences:d})}),this.onLeave((o,c,d)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:c,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(i,s,a,o){const c=this.cloneDeep(i),d=this.transformState(s),g={},h={};return this.map(c,(b,_)=>{d[b]||(h[b]=_)}),this.map(d,(b,_)=>{const $=c[b];if($){const j=_.map(st=>st.presence_ref),_e=$.map(st=>st.presence_ref),rt=_.filter(st=>_e.indexOf(st.presence_ref)<0),it=$.filter(st=>j.indexOf(st.presence_ref)<0);rt.length>0&&(g[b]=rt),it.length>0&&(h[b]=it)}else g[b]=_}),this.syncDiff(c,{joins:g,leaves:h},a,o)}static syncDiff(i,s,a,o){const{joins:c,leaves:d}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return a||(a=()=>{}),o||(o=()=>{}),this.map(c,(g,h)=>{var b;const _=(b=i[g])!==null&&b!==void 0?b:[];if(i[g]=this.cloneDeep(h),_.length>0){const $=i[g].map(_e=>_e.presence_ref),j=_.filter(_e=>$.indexOf(_e.presence_ref)<0);i[g].unshift(...j)}a(g,_,h)}),this.map(d,(g,h)=>{let b=i[g];if(!b)return;const _=h.map($=>$.presence_ref);b=b.filter($=>_.indexOf($.presence_ref)<0),i[g]=b,o(g,b,h),b.length===0&&delete i[g]}),i}static map(i,s){return Object.getOwnPropertyNames(i).map(a=>s(a,i[a]))}static transformState(i){return i=this.cloneDeep(i),Object.getOwnPropertyNames(i).reduce((s,a)=>{const o=i[a];return"metas"in o?s[a]=o.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):s[a]=o,s},{})}static cloneDeep(i){return JSON.parse(JSON.stringify(i))}onJoin(i){this.caller.onJoin=i}onLeave(i){this.caller.onLeave=i}onSync(i){this.caller.onSync=i}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var REALTIME_POSTGRES_CHANGES_LISTEN_EVENT;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(REALTIME_POSTGRES_CHANGES_LISTEN_EVENT||(REALTIME_POSTGRES_CHANGES_LISTEN_EVENT={}));var REALTIME_LISTEN_TYPES;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(REALTIME_LISTEN_TYPES||(REALTIME_LISTEN_TYPES={}));var REALTIME_SUBSCRIBE_STATES;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(REALTIME_SUBSCRIBE_STATES||(REALTIME_SUBSCRIBE_STATES={}));class RealtimeChannel{constructor(i,s={config:{}},a){this.topic=i,this.params=s,this.socket=a,this.bindings={},this.state=CHANNEL_STATES.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=i.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Push(this,CHANNEL_EVENTS.join,this.params,this.timeout),this.rejoinTimer=new Timer(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=CHANNEL_STATES.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=CHANNEL_STATES.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this._on(CHANNEL_EVENTS.reply,{},(o,c)=>{this._trigger(this._replyEventName(c),o)}),this.presence=new RealtimePresence(this),this.broadcastEndpointURL=httpEndpointURL(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(i,s=this.timeout){var a,o;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:c,presence:d,private:g}}=this.params;this._onError(_=>i==null?void 0:i(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,_)),this._onClose(()=>i==null?void 0:i(REALTIME_SUBSCRIBE_STATES.CLOSED));const h={},b={broadcast:c,presence:d,postgres_changes:(o=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(_=>_.filter))!==null&&o!==void 0?o:[],private:g};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:b},h)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:_})=>{var $;if(this.socket.setAuth(),_===void 0){i==null||i(REALTIME_SUBSCRIBE_STATES.SUBSCRIBED);return}else{const j=this.bindings.postgres_changes,_e=($=j==null?void 0:j.length)!==null&&$!==void 0?$:0,rt=[];for(let it=0;it<_e;it++){const st=j[it],{filter:{event:et,schema:tt,table:ot,filter:nt}}=st,at=_&&_[it];if(at&&at.event===et&&at.schema===tt&&at.table===ot&&at.filter===nt)rt.push(Object.assign(Object.assign({},st),{id:at.id}));else{this.unsubscribe(),i==null||i(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=rt,i&&i(REALTIME_SUBSCRIBE_STATES.SUBSCRIBED);return}}).receive("error",_=>{i==null||i(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{i==null||i(REALTIME_SUBSCRIBE_STATES.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(i,s={}){return await this.send({type:"presence",event:"track",payload:i},s.timeout||this.timeout)}async untrack(i={}){return await this.send({type:"presence",event:"untrack"},i)}on(i,s,a){return this._on(i,s,a)}async send(i,s={}){var a,o;if(!this._canPush()&&i.type==="broadcast"){const{event:c,payload:d}=i,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:d,private:this.private}]})};try{const b=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(a=s.timeout)!==null&&a!==void 0?a:this.timeout);return await((o=b.body)===null||o===void 0?void 0:o.cancel()),b.ok?"ok":"error"}catch(b){return b.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var d,g,h;const b=this._push(i.type,i,s.timeout||this.timeout);i.type==="broadcast"&&!(!((h=(g=(d=this.params)===null||d===void 0?void 0:d.config)===null||g===void 0?void 0:g.broadcast)===null||h===void 0)&&h.ack)&&c("ok"),b.receive("ok",()=>c("ok")),b.receive("error",()=>c("error")),b.receive("timeout",()=>c("timed out"))})}updateJoinPayload(i){this.joinPush.updatePayload(i)}unsubscribe(i=this.timeout){this.state=CHANNEL_STATES.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(CHANNEL_EVENTS.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(a=>{const o=new Push(this,CHANNEL_EVENTS.leave,{},i);o.receive("ok",()=>{s(),a("ok")}).receive("timeout",()=>{s(),a("timed out")}).receive("error",()=>{a("error")}),o.send(),this._canPush()||o.trigger("ok",{})})}async _fetchWithTimeout(i,s,a){const o=new AbortController,c=setTimeout(()=>o.abort(),a),d=await this.socket.fetch(i,Object.assign(Object.assign({},s),{signal:o.signal}));return clearTimeout(c),d}_push(i,s,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${i}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Push(this,i,s,a);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(i,s,a){return s}_isMember(i){return this.topic===i}_joinRef(){return this.joinPush.ref}_trigger(i,s,a){var o,c;const d=i.toLocaleLowerCase(),{close:g,error:h,leave:b,join:_}=CHANNEL_EVENTS;if(a&&[g,h,b,_].indexOf(d)>=0&&a!==this._joinRef())return;let j=this._onMessage(d,s,a);if(s&&!j)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(_e=>{var rt,it,st;return((rt=_e.filter)===null||rt===void 0?void 0:rt.event)==="*"||((st=(it=_e.filter)===null||it===void 0?void 0:it.event)===null||st===void 0?void 0:st.toLocaleLowerCase())===d}).map(_e=>_e.callback(j,a)):(c=this.bindings[d])===null||c===void 0||c.filter(_e=>{var rt,it,st,et,tt,ot;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in _e){const nt=_e.id,at=(rt=_e.filter)===null||rt===void 0?void 0:rt.event;return nt&&((it=s.ids)===null||it===void 0?void 0:it.includes(nt))&&(at==="*"||(at==null?void 0:at.toLocaleLowerCase())===((st=s.data)===null||st===void 0?void 0:st.type.toLocaleLowerCase()))}else{const nt=(tt=(et=_e==null?void 0:_e.filter)===null||et===void 0?void 0:et.event)===null||tt===void 0?void 0:tt.toLocaleLowerCase();return nt==="*"||nt===((ot=s==null?void 0:s.event)===null||ot===void 0?void 0:ot.toLocaleLowerCase())}else return _e.type.toLocaleLowerCase()===d}).map(_e=>{if(typeof j=="object"&&"ids"in j){const rt=j.data,{schema:it,table:st,commit_timestamp:et,type:tt,errors:ot}=rt;j=Object.assign(Object.assign({},{schema:it,table:st,commit_timestamp:et,eventType:tt,new:{},old:{},errors:ot}),this._getPayloadRecords(rt))}_e.callback(j,a)})}_isClosed(){return this.state===CHANNEL_STATES.closed}_isJoined(){return this.state===CHANNEL_STATES.joined}_isJoining(){return this.state===CHANNEL_STATES.joining}_isLeaving(){return this.state===CHANNEL_STATES.leaving}_replyEventName(i){return`chan_reply_${i}`}_on(i,s,a){const o=i.toLocaleLowerCase(),c={type:o,filter:s,callback:a};return this.bindings[o]?this.bindings[o].push(c):this.bindings[o]=[c],this}_off(i,s){const a=i.toLocaleLowerCase();return this.bindings[a]=this.bindings[a].filter(o=>{var c;return!(((c=o.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===a&&RealtimeChannel.isEqual(o.filter,s))}),this}static isEqual(i,s){if(Object.keys(i).length!==Object.keys(s).length)return!1;for(const a in i)if(i[a]!==s[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(i){this._on(CHANNEL_EVENTS.close,{},i)}_onError(i){this._on(CHANNEL_EVENTS.error,{},s=>i(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(i=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=CHANNEL_STATES.joining,this.joinPush.resend(i))}_getPayloadRecords(i){const s={new:{},old:{}};return(i.type==="INSERT"||i.type==="UPDATE")&&(s.new=convertChangeData(i.columns,i.record)),(i.type==="UPDATE"||i.type==="DELETE")&&(s.old=convertChangeData(i.columns,i.old_record)),s}}const noop=()=>{},NATIVE_WEBSOCKET_AVAILABLE=typeof WebSocket<"u",WORKER_SCRIPT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class RealtimeClient{constructor(i,s){var a;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=DEFAULT_HEADERS$3,this.params={},this.timeout=DEFAULT_TIMEOUT,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=noop,this.conn=null,this.sendBuffer=[],this.serializer=new Serializer,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=c=>{let d;return c?d=c:typeof fetch>"u"?d=(...g)=>__vitePreload(async()=>{const{default:h}=await Promise.resolve().then(()=>browser);return{default:h}},void 0).then(({default:h})=>h(...g)):d=fetch,(...g)=>d(...g)},this.endPoint=`${i}/${TRANSPORTS.websocket}`,this.httpEndpoint=httpEndpointURL(i),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const o=(a=s==null?void 0:s.params)===null||a===void 0?void 0:a.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:c=>[1e3,2e3,5e3,1e4][c-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(c,d)=>d(JSON.stringify(c)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Timer(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(NATIVE_WEBSOCKET_AVAILABLE){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new WSWebSocketDummy(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),__vitePreload(async()=>{const{default:i}=await import("./browser-drdVortv.js").then(s=>s.b);return{default:i}},[]).then(({default:i})=>{this.conn=new i(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:VSN}))}disconnect(i,s){this.conn&&(this.conn.onclose=function(){},i?this.conn.close(i,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(i){const s=await i.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const i=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),i}log(i,s,a){this.logger(i,s,a)}connectionState(){switch(this.conn&&this.conn.readyState){case SOCKET_STATES.connecting:return CONNECTION_STATE.Connecting;case SOCKET_STATES.open:return CONNECTION_STATE.Open;case SOCKET_STATES.closing:return CONNECTION_STATE.Closing;default:return CONNECTION_STATE.Closed}}isConnected(){return this.connectionState()===CONNECTION_STATE.Open}channel(i,s={config:{}}){const a=new RealtimeChannel(`realtime:${i}`,s,this);return this.channels.push(a),a}push(i){const{topic:s,event:a,payload:o,ref:c}=i,d=()=>{this.encode(i,g=>{var h;(h=this.conn)===null||h===void 0||h.send(g)})};this.log("push",`${s} ${a} (${c})`,o),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(i=null){let s=i||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(s){let a=null;try{a=JSON.parse(atob(s.split(".")[1]))}catch{}if(a&&a.exp&&!(Math.floor(Date.now()/1e3)-a.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${a.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${a.exp}`);this.accessTokenValue=s,this.channels.forEach(o=>{s&&o.updateJoinPayload({access_token:s}),o.joinedOnce&&o._isJoined()&&o._push(CHANNEL_EVENTS.access_token,{access_token:s})})}}async sendHeartbeat(){var i;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(i=this.conn)===null||i===void 0||i.close(WS_CLOSE_NORMAL,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(i=>i()),this.sendBuffer=[])}_makeRef(){let i=this.ref+1;return i===this.ref?this.ref=0:this.ref=i,this.ref.toString()}_leaveOpenTopic(i){let s=this.channels.find(a=>a.topic===i&&(a._isJoined()||a._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${i}"`),s.unsubscribe())}_remove(i){this.channels=this.channels.filter(s=>s._joinRef()!==i._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=i=>this._onConnError(i),this.conn.onmessage=i=>this._onConnMessage(i),this.conn.onclose=i=>this._onConnClose(i))}_onConnMessage(i){this.decode(i.data,s=>{let{topic:a,event:o,payload:c,ref:d}=s;d&&d===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${c.status||""} ${a} ${o} ${d&&"("+d+")"||""}`,c),this.channels.filter(g=>g._isMember(a)).forEach(g=>g._trigger(o,c,d)),this.stateChangeCallbacks.message.forEach(g=>g(s))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const i=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(i),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(i=>i())}_onConnClose(i){this.log("transport","close",i),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(i))}_onConnError(i){this.log("transport",i.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(i))}_triggerChanError(){this.channels.forEach(i=>i._trigger(CHANNEL_EVENTS.error))}_appendParams(i,s){if(Object.keys(s).length===0)return i;const a=i.match(/\?/)?"&":"?",o=new URLSearchParams(s);return`${i}${a}${o}`}_workerObjectUrl(i){let s;if(i)s=i;else{const a=new Blob([WORKER_SCRIPT],{type:"application/javascript"});s=URL.createObjectURL(a)}return s}}class WSWebSocketDummy{constructor(i,s,a){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=SOCKET_STATES.connecting,this.send=()=>{},this.url=null,this.url=i,this.close=a.close}}class StorageError extends Error{constructor(i){super(i),this.__isStorageError=!0,this.name="StorageError"}}function isStorageError(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class StorageApiError extends StorageError{constructor(i,s){super(i),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class StorageUnknownError extends StorageError{constructor(i,s){super(i),this.name="StorageUnknownError",this.originalError=s}}var __awaiter$7=function(e,i,s,a){function o(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function g(_){try{b(a.next(_))}catch($){d($)}}function h(_){try{b(a.throw(_))}catch($){d($)}}function b(_){_.done?c(_.value):o(_.value).then(g,h)}b((a=a.apply(e,i||[])).next())})};const resolveFetch$2=e=>{let i;return e?i=e:typeof fetch>"u"?i=(...s)=>__vitePreload(async()=>{const{default:a}=await Promise.resolve().then(()=>browser);return{default:a}},void 0).then(({default:a})=>a(...s)):i=fetch,(...s)=>i(...s)},resolveResponse=()=>__awaiter$7(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield __vitePreload(()=>Promise.resolve().then(()=>browser),void 0)).Response:Response}),recursiveToCamel=e=>{if(Array.isArray(e))return e.map(s=>recursiveToCamel(s));if(typeof e=="function"||e!==Object(e))return e;const i={};return Object.entries(e).forEach(([s,a])=>{const o=s.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));i[o]=recursiveToCamel(a)}),i};var __awaiter$6=function(e,i,s,a){function o(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function g(_){try{b(a.next(_))}catch($){d($)}}function h(_){try{b(a.throw(_))}catch($){d($)}}function b(_){_.done?c(_.value):o(_.value).then(g,h)}b((a=a.apply(e,i||[])).next())})};const _getErrorMessage$1=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),handleError$1=(e,i,s)=>__awaiter$6(void 0,void 0,void 0,function*(){const a=yield resolveResponse();e instanceof a&&!(s!=null&&s.noResolveJson)?e.json().then(o=>{i(new StorageApiError(_getErrorMessage$1(o),e.status||500))}).catch(o=>{i(new StorageUnknownError(_getErrorMessage$1(o),o))}):i(new StorageUnknownError(_getErrorMessage$1(e),e))}),_getRequestParams$1=(e,i,s,a)=>{const o={method:e,headers:(i==null?void 0:i.headers)||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},i==null?void 0:i.headers),a&&(o.body=JSON.stringify(a)),Object.assign(Object.assign({},o),s))};function _handleRequest$1(e,i,s,a,o,c){return __awaiter$6(this,void 0,void 0,function*(){return new Promise((d,g)=>{e(s,_getRequestParams$1(i,a,o,c)).then(h=>{if(!h.ok)throw h;return a!=null&&a.noResolveJson?h:h.json()}).then(h=>d(h)).catch(h=>handleError$1(h,g,a))})})}function get(e,i,s,a){return __awaiter$6(this,void 0,void 0,function*(){return _handleRequest$1(e,"GET",i,s,a)})}function post(e,i,s,a,o){return __awaiter$6(this,void 0,void 0,function*(){return _handleRequest$1(e,"POST",i,a,o,s)})}function put(e,i,s,a,o){return __awaiter$6(this,void 0,void 0,function*(){return _handleRequest$1(e,"PUT",i,a,o,s)})}function head(e,i,s,a){return __awaiter$6(this,void 0,void 0,function*(){return _handleRequest$1(e,"HEAD",i,Object.assign(Object.assign({},s),{noResolveJson:!0}),a)})}function remove(e,i,s,a,o){return __awaiter$6(this,void 0,void 0,function*(){return _handleRequest$1(e,"DELETE",i,a,o,s)})}var __awaiter$5=function(e,i,s,a){function o(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function g(_){try{b(a.next(_))}catch($){d($)}}function h(_){try{b(a.throw(_))}catch($){d($)}}function b(_){_.done?c(_.value):o(_.value).then(g,h)}b((a=a.apply(e,i||[])).next())})};const DEFAULT_SEARCH_OPTIONS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},DEFAULT_FILE_OPTIONS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class StorageFileApi{constructor(i,s={},a,o){this.url=i,this.headers=s,this.bucketId=a,this.fetch=resolveFetch$2(o)}uploadOrUpdate(i,s,a,o){return __awaiter$5(this,void 0,void 0,function*(){try{let c;const d=Object.assign(Object.assign({},DEFAULT_FILE_OPTIONS),o);let g=Object.assign(Object.assign({},this.headers),i==="POST"&&{"x-upsert":String(d.upsert)});const h=d.metadata;typeof Blob<"u"&&a instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),h&&c.append("metadata",this.encodeMetadata(h)),c.append("",a)):typeof FormData<"u"&&a instanceof FormData?(c=a,c.append("cacheControl",d.cacheControl),h&&c.append("metadata",this.encodeMetadata(h))):(c=a,g["cache-control"]=`max-age=${d.cacheControl}`,g["content-type"]=d.contentType,h&&(g["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),o!=null&&o.headers&&(g=Object.assign(Object.assign({},g),o.headers));const b=this._removeEmptyFolders(s),_=this._getFinalPath(b),$=yield this.fetch(`${this.url}/object/${_}`,Object.assign({method:i,body:c,headers:g},d!=null&&d.duplex?{duplex:d.duplex}:{})),j=yield $.json();return $.ok?{data:{path:b,id:j.Id,fullPath:j.Key},error:null}:{data:null,error:j}}catch(c){if(isStorageError(c))return{data:null,error:c};throw c}})}upload(i,s,a){return __awaiter$5(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",i,s,a)})}uploadToSignedUrl(i,s,a,o){return __awaiter$5(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(i),d=this._getFinalPath(c),g=new URL(this.url+`/object/upload/sign/${d}`);g.searchParams.set("token",s);try{let h;const b=Object.assign({upsert:DEFAULT_FILE_OPTIONS.upsert},o),_=Object.assign(Object.assign({},this.headers),{"x-upsert":String(b.upsert)});typeof Blob<"u"&&a instanceof Blob?(h=new FormData,h.append("cacheControl",b.cacheControl),h.append("",a)):typeof FormData<"u"&&a instanceof FormData?(h=a,h.append("cacheControl",b.cacheControl)):(h=a,_["cache-control"]=`max-age=${b.cacheControl}`,_["content-type"]=b.contentType);const $=yield this.fetch(g.toString(),{method:"PUT",body:h,headers:_}),j=yield $.json();return $.ok?{data:{path:c,fullPath:j.Key},error:null}:{data:null,error:j}}catch(h){if(isStorageError(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(i,s){return __awaiter$5(this,void 0,void 0,function*(){try{let a=this._getFinalPath(i);const o=Object.assign({},this.headers);s!=null&&s.upsert&&(o["x-upsert"]="true");const c=yield post(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:o}),d=new URL(this.url+c.url),g=d.searchParams.get("token");if(!g)throw new StorageError("No token returned by API");return{data:{signedUrl:d.toString(),path:i,token:g},error:null}}catch(a){if(isStorageError(a))return{data:null,error:a};throw a}})}update(i,s,a){return __awaiter$5(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",i,s,a)})}move(i,s,a){return __awaiter$5(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:i,destinationKey:s,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(isStorageError(o))return{data:null,error:o};throw o}})}copy(i,s,a){return __awaiter$5(this,void 0,void 0,function*(){try{return{data:{path:(yield post(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:i,destinationKey:s,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(isStorageError(o))return{data:null,error:o};throw o}})}createSignedUrl(i,s,a){return __awaiter$5(this,void 0,void 0,function*(){try{let o=this._getFinalPath(i),c=yield post(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:s},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const d=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${d}`)},{data:c,error:null}}catch(o){if(isStorageError(o))return{data:null,error:o};throw o}})}createSignedUrls(i,s,a){return __awaiter$5(this,void 0,void 0,function*(){try{const o=yield post(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:i},{headers:this.headers}),c=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:o.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${c}`):null})),error:null}}catch(o){if(isStorageError(o))return{data:null,error:o};throw o}})}download(i,s){return __awaiter$5(this,void 0,void 0,function*(){const o=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),d=c?`?${c}`:"";try{const g=this._getFinalPath(i);return{data:yield(yield get(this.fetch,`${this.url}/${o}/${g}${d}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(g){if(isStorageError(g))return{data:null,error:g};throw g}})}info(i){return __awaiter$5(this,void 0,void 0,function*(){const s=this._getFinalPath(i);try{const a=yield get(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:recursiveToCamel(a),error:null}}catch(a){if(isStorageError(a))return{data:null,error:a};throw a}})}exists(i){return __awaiter$5(this,void 0,void 0,function*(){const s=this._getFinalPath(i);try{return yield head(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(isStorageError(a)&&a instanceof StorageUnknownError){const o=a.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:a}}throw a}})}getPublicUrl(i,s){const a=this._getFinalPath(i),o=[],c=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";c!==""&&o.push(c);const g=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});h!==""&&o.push(h);let b=o.join("&");return b!==""&&(b=`?${b}`),{data:{publicUrl:encodeURI(`${this.url}/${g}/public/${a}${b}`)}}}remove(i){return __awaiter$5(this,void 0,void 0,function*(){try{return{data:yield remove(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:i},{headers:this.headers}),error:null}}catch(s){if(isStorageError(s))return{data:null,error:s};throw s}})}list(i,s,a){return __awaiter$5(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},DEFAULT_SEARCH_OPTIONS),s),{prefix:i||""});return{data:yield post(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},a),error:null}}catch(o){if(isStorageError(o))return{data:null,error:o};throw o}})}encodeMetadata(i){return JSON.stringify(i)}toBase64(i){return typeof Buffer<"u"?Buffer.from(i).toString("base64"):btoa(i)}_getFinalPath(i){return`${this.bucketId}/${i}`}_removeEmptyFolders(i){return i.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(i){const s=[];return i.width&&s.push(`width=${i.width}`),i.height&&s.push(`height=${i.height}`),i.resize&&s.push(`resize=${i.resize}`),i.format&&s.push(`format=${i.format}`),i.quality&&s.push(`quality=${i.quality}`),s.join("&")}}const version$2="2.7.1",DEFAULT_HEADERS$2={"X-Client-Info":`storage-js/${version$2}`};var __awaiter$4=function(e,i,s,a){function o(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function g(_){try{b(a.next(_))}catch($){d($)}}function h(_){try{b(a.throw(_))}catch($){d($)}}function b(_){_.done?c(_.value):o(_.value).then(g,h)}b((a=a.apply(e,i||[])).next())})};class StorageBucketApi{constructor(i,s={},a){this.url=i,this.headers=Object.assign(Object.assign({},DEFAULT_HEADERS$2),s),this.fetch=resolveFetch$2(a)}listBuckets(){return __awaiter$4(this,void 0,void 0,function*(){try{return{data:yield get(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(i){if(isStorageError(i))return{data:null,error:i};throw i}})}getBucket(i){return __awaiter$4(this,void 0,void 0,function*(){try{return{data:yield get(this.fetch,`${this.url}/bucket/${i}`,{headers:this.headers}),error:null}}catch(s){if(isStorageError(s))return{data:null,error:s};throw s}})}createBucket(i,s={public:!1}){return __awaiter$4(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/bucket`,{id:i,name:i,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(isStorageError(a))return{data:null,error:a};throw a}})}updateBucket(i,s){return __awaiter$4(this,void 0,void 0,function*(){try{return{data:yield put(this.fetch,`${this.url}/bucket/${i}`,{id:i,name:i,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(isStorageError(a))return{data:null,error:a};throw a}})}emptyBucket(i){return __awaiter$4(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/bucket/${i}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(isStorageError(s))return{data:null,error:s};throw s}})}deleteBucket(i){return __awaiter$4(this,void 0,void 0,function*(){try{return{data:yield remove(this.fetch,`${this.url}/bucket/${i}`,{},{headers:this.headers}),error:null}}catch(s){if(isStorageError(s))return{data:null,error:s};throw s}})}}class StorageClient extends StorageBucketApi{constructor(i,s={},a){super(i,s,a)}from(i){return new StorageFileApi(this.url,this.headers,i,this.fetch)}}const version$1="2.47.10";let JS_ENV="";typeof Deno<"u"?JS_ENV="deno":typeof document<"u"?JS_ENV="web":typeof navigator<"u"&&navigator.product==="ReactNative"?JS_ENV="react-native":JS_ENV="node";const DEFAULT_HEADERS$1={"X-Client-Info":`supabase-js-${JS_ENV}/${version$1}`},DEFAULT_GLOBAL_OPTIONS={headers:DEFAULT_HEADERS$1},DEFAULT_DB_OPTIONS={schema:"public"},DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},DEFAULT_REALTIME_OPTIONS={};var __awaiter$3=function(e,i,s,a){function o(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function g(_){try{b(a.next(_))}catch($){d($)}}function h(_){try{b(a.throw(_))}catch($){d($)}}function b(_){_.done?c(_.value):o(_.value).then(g,h)}b((a=a.apply(e,i||[])).next())})};const resolveFetch$1=e=>{let i;return e?i=e:typeof fetch>"u"?i=nodeFetch:i=fetch,(...s)=>i(...s)},resolveHeadersConstructor=()=>typeof Headers>"u"?Headers$1:Headers,fetchWithAuth=(e,i,s)=>{const a=resolveFetch$1(s),o=resolveHeadersConstructor();return(c,d)=>__awaiter$3(void 0,void 0,void 0,function*(){var g;const h=(g=yield i())!==null&&g!==void 0?g:e;let b=new o(d==null?void 0:d.headers);return b.has("apikey")||b.set("apikey",e),b.has("Authorization")||b.set("Authorization",`Bearer ${h}`),a(c,Object.assign(Object.assign({},d),{headers:b}))})};var __awaiter$2=function(e,i,s,a){function o(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function g(_){try{b(a.next(_))}catch($){d($)}}function h(_){try{b(a.throw(_))}catch($){d($)}}function b(_){_.done?c(_.value):o(_.value).then(g,h)}b((a=a.apply(e,i||[])).next())})};function stripTrailingSlash(e){return e.replace(/\/$/,"")}function applySettingDefaults(e,i){const{db:s,auth:a,realtime:o,global:c}=e,{db:d,auth:g,realtime:h,global:b}=i,_={db:Object.assign(Object.assign({},d),s),auth:Object.assign(Object.assign({},g),a),realtime:Object.assign(Object.assign({},h),o),global:Object.assign(Object.assign({},b),c),accessToken:()=>__awaiter$2(this,void 0,void 0,function*(){return""})};return e.accessToken?_.accessToken=e.accessToken:delete _.accessToken,_}const version="2.67.3",GOTRUE_URL="http://localhost:9999",STORAGE_KEY="supabase.auth.token",DEFAULT_HEADERS={"X-Client-Info":`gotrue-js/${version}`},EXPIRY_MARGIN=10,API_VERSION_HEADER_NAME="X-Supabase-Api-Version",API_VERSIONS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function expiresAt(e){return Math.round(Date.now()/1e3)+e}function uuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const i=Math.random()*16|0;return(e=="x"?i:i&3|8).toString(16)})}const isBrowser$1=()=>typeof window<"u"&&typeof document<"u",localStorageWriteTests={tested:!1,writable:!1},supportsLocalStorage=()=>{if(!isBrowser$1())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(localStorageWriteTests.tested)return localStorageWriteTests.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),localStorageWriteTests.tested=!0,localStorageWriteTests.writable=!0}catch{localStorageWriteTests.tested=!0,localStorageWriteTests.writable=!1}return localStorageWriteTests.writable};function parseParametersFromURL(e){const i={},s=new URL(e);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((o,c)=>{i[c]=o})}catch{}return s.searchParams.forEach((a,o)=>{i[o]=a}),i}const resolveFetch=e=>{let i;return e?i=e:typeof fetch>"u"?i=(...s)=>__vitePreload(async()=>{const{default:a}=await Promise.resolve().then(()=>browser);return{default:a}},void 0).then(({default:a})=>a(...s)):i=fetch,(...s)=>i(...s)},looksLikeFetchResponse=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",setItemAsync=async(e,i,s)=>{await e.setItem(i,JSON.stringify(s))},getItemAsync=async(e,i)=>{const s=await e.getItem(i);if(!s)return null;try{return JSON.parse(s)}catch{return s}},removeItemAsync=async(e,i)=>{await e.removeItem(i)};function decodeBase64URL(e){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let s="",a,o,c,d,g,h,b,_=0;for(e=e.replace("-","+").replace("_","/");_<e.length;)d=i.indexOf(e.charAt(_++)),g=i.indexOf(e.charAt(_++)),h=i.indexOf(e.charAt(_++)),b=i.indexOf(e.charAt(_++)),a=d<<2|g>>4,o=(g&15)<<4|h>>2,c=(h&3)<<6|b,s=s+String.fromCharCode(a),h!=64&&o!=0&&(s=s+String.fromCharCode(o)),b!=64&&c!=0&&(s=s+String.fromCharCode(c));return s}class Deferred{constructor(){this.promise=new Deferred.promiseConstructor((i,s)=>{this.resolve=i,this.reject=s})}}Deferred.promiseConstructor=Promise;function decodeJWTPayload(e){const i=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,s=e.split(".");if(s.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!i.test(s[1]))throw new Error("JWT is not valid: payload is not in base64url format");const a=s[1];return JSON.parse(decodeBase64URL(a))}async function sleep(e){return await new Promise(i=>{setTimeout(()=>i(null),e)})}function retryable(e,i){return new Promise((a,o)=>{(async()=>{for(let c=0;c<1/0;c++)try{const d=await e(c);if(!i(c,null,d)){a(d);return}}catch(d){if(!i(c,d)){o(d);return}}})()})}function dec2hex(e){return("0"+e.toString(16)).substr(-2)}function generatePKCEVerifier(){const i=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=s.length;let o="";for(let c=0;c<56;c++)o+=s.charAt(Math.floor(Math.random()*a));return o}return crypto.getRandomValues(i),Array.from(i,dec2hex).join("")}async function sha256(e){const s=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",s),o=new Uint8Array(a);return Array.from(o).map(c=>String.fromCharCode(c)).join("")}function base64urlencode(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function generatePKCEChallenge(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const s=await sha256(e);return base64urlencode(s)}async function getCodeChallengeAndMethod(e,i,s=!1){const a=generatePKCEVerifier();let o=a;s&&(o+="/PASSWORD_RECOVERY"),await setItemAsync(e,`${i}-code-verifier`,o);const c=await generatePKCEChallenge(a);return[c,a===c?"plain":"s256"]}const API_VERSION_REGEX=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function parseResponseAPIVersion(e){const i=e.headers.get(API_VERSION_HEADER_NAME);if(!i||!i.match(API_VERSION_REGEX))return null;try{return new Date(`${i}T00:00:00.0Z`)}catch{return null}}class AuthError extends Error{constructor(i,s,a){super(i),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=a}}function isAuthError(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class AuthApiError extends AuthError{constructor(i,s,a){super(i,s,a),this.name="AuthApiError",this.status=s,this.code=a}}function isAuthApiError(e){return isAuthError(e)&&e.name==="AuthApiError"}class AuthUnknownError extends AuthError{constructor(i,s){super(i),this.name="AuthUnknownError",this.originalError=s}}class CustomAuthError extends AuthError{constructor(i,s,a,o){super(i,a,o),this.name=s,this.status=a}}class AuthSessionMissingError extends CustomAuthError{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function isAuthSessionMissingError(e){return isAuthError(e)&&e.name==="AuthSessionMissingError"}class AuthInvalidTokenResponseError extends CustomAuthError{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class AuthInvalidCredentialsError extends CustomAuthError{constructor(i){super(i,"AuthInvalidCredentialsError",400,void 0)}}class AuthImplicitGrantRedirectError extends CustomAuthError{constructor(i,s=null){super(i,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function isAuthImplicitGrantRedirectError(e){return isAuthError(e)&&e.name==="AuthImplicitGrantRedirectError"}class AuthPKCEGrantCodeExchangeError extends CustomAuthError{constructor(i,s=null){super(i,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class AuthRetryableFetchError extends CustomAuthError{constructor(i,s){super(i,"AuthRetryableFetchError",s,void 0)}}function isAuthRetryableFetchError(e){return isAuthError(e)&&e.name==="AuthRetryableFetchError"}class AuthWeakPasswordError extends CustomAuthError{constructor(i,s,a){super(i,"AuthWeakPasswordError",s,"weak_password"),this.reasons=a}}var __rest$3=function(e,i){var s={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&i.indexOf(a)<0&&(s[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)i.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(s[a[o]]=e[a[o]]);return s};const _getErrorMessage=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),NETWORK_ERROR_CODES=[502,503,504];async function handleError(e){var i;if(!looksLikeFetchResponse(e))throw new AuthRetryableFetchError(_getErrorMessage(e),0);if(NETWORK_ERROR_CODES.includes(e.status))throw new AuthRetryableFetchError(_getErrorMessage(e),e.status);let s;try{s=await e.json()}catch(c){throw new AuthUnknownError(_getErrorMessage(c),c)}let a;const o=parseResponseAPIVersion(e);if(o&&o.getTime()>=API_VERSIONS["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?a=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(a=s.error_code),a){if(a==="weak_password")throw new AuthWeakPasswordError(_getErrorMessage(s),e.status,((i=s.weak_password)===null||i===void 0?void 0:i.reasons)||[]);if(a==="session_not_found")throw new AuthSessionMissingError}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((c,d)=>c&&typeof d=="string",!0))throw new AuthWeakPasswordError(_getErrorMessage(s),e.status,s.weak_password.reasons);throw new AuthApiError(_getErrorMessage(s),e.status||500,a)}const _getRequestParams=(e,i,s,a)=>{const o={method:e,headers:(i==null?void 0:i.headers)||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},i==null?void 0:i.headers),o.body=JSON.stringify(a),Object.assign(Object.assign({},o),s))};async function _request(e,i,s,a){var o;const c=Object.assign({},a==null?void 0:a.headers);c[API_VERSION_HEADER_NAME]||(c[API_VERSION_HEADER_NAME]=API_VERSIONS["2024-01-01"].name),a!=null&&a.jwt&&(c.Authorization=`Bearer ${a.jwt}`);const d=(o=a==null?void 0:a.query)!==null&&o!==void 0?o:{};a!=null&&a.redirectTo&&(d.redirect_to=a.redirectTo);const g=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",h=await _handleRequest(e,i,s+g,{headers:c,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(h):{data:Object.assign({},h),error:null}}async function _handleRequest(e,i,s,a,o,c){const d=_getRequestParams(i,a,o,c);let g;try{g=await e(s,Object.assign({},d))}catch(h){throw console.error(h),new AuthRetryableFetchError(_getErrorMessage(h),0)}if(g.ok||await handleError(g),a!=null&&a.noResolveJson)return g;try{return await g.json()}catch(h){await handleError(h)}}function _sessionResponse(e){var i;let s=null;hasSession(e)&&(s=Object.assign({},e),e.expires_at||(s.expires_at=expiresAt(e.expires_in)));const a=(i=e.user)!==null&&i!==void 0?i:e;return{data:{session:s,user:a},error:null}}function _sessionResponsePassword(e){const i=_sessionResponse(e);return!i.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0)&&(i.data.weak_password=e.weak_password),i}function _userResponse(e){var i;return{data:{user:(i=e.user)!==null&&i!==void 0?i:e},error:null}}function _ssoResponse(e){return{data:e,error:null}}function _generateLinkResponse(e){const{action_link:i,email_otp:s,hashed_token:a,redirect_to:o,verification_type:c}=e,d=__rest$3(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),g={action_link:i,email_otp:s,hashed_token:a,redirect_to:o,verification_type:c},h=Object.assign({},d);return{data:{properties:g,user:h},error:null}}function _noResolveJsonResponse(e){return e}function hasSession(e){return e.access_token&&e.refresh_token&&e.expires_in}var __rest$2=function(e,i){var s={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&i.indexOf(a)<0&&(s[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)i.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(s[a[o]]=e[a[o]]);return s};class GoTrueAdminApi{constructor({url:i="",headers:s={},fetch:a}){this.url=i,this.headers=s,this.fetch=resolveFetch(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(i,s="global"){try{return await _request(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:i,noResolveJson:!0}),{data:null,error:null}}catch(a){if(isAuthError(a))return{data:null,error:a};throw a}}async inviteUserByEmail(i,s={}){try{return await _request(this.fetch,"POST",`${this.url}/invite`,{body:{email:i,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:_userResponse})}catch(a){if(isAuthError(a))return{data:{user:null},error:a};throw a}}async generateLink(i){try{const{options:s}=i,a=__rest$2(i,["options"]),o=Object.assign(Object.assign({},a),s);return"newEmail"in a&&(o.new_email=a==null?void 0:a.newEmail,delete o.newEmail),await _request(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:_generateLinkResponse,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(isAuthError(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(i){try{return await _request(this.fetch,"POST",`${this.url}/admin/users`,{body:i,headers:this.headers,xform:_userResponse})}catch(s){if(isAuthError(s))return{data:{user:null},error:s};throw s}}async listUsers(i){var s,a,o,c,d,g,h;try{const b={nextPage:null,lastPage:0,total:0},_=await _request(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(s=i==null?void 0:i.page)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:"",per_page:(c=(o=i==null?void 0:i.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:_noResolveJsonResponse});if(_.error)throw _.error;const $=await _.json(),j=(d=_.headers.get("x-total-count"))!==null&&d!==void 0?d:0,_e=(h=(g=_.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&h!==void 0?h:[];return _e.length>0&&(_e.forEach(rt=>{const it=parseInt(rt.split(";")[0].split("=")[1].substring(0,1)),st=JSON.parse(rt.split(";")[1].split("=")[1]);b[`${st}Page`]=it}),b.total=parseInt(j)),{data:Object.assign(Object.assign({},$),b),error:null}}catch(b){if(isAuthError(b))return{data:{users:[]},error:b};throw b}}async getUserById(i){try{return await _request(this.fetch,"GET",`${this.url}/admin/users/${i}`,{headers:this.headers,xform:_userResponse})}catch(s){if(isAuthError(s))return{data:{user:null},error:s};throw s}}async updateUserById(i,s){try{return await _request(this.fetch,"PUT",`${this.url}/admin/users/${i}`,{body:s,headers:this.headers,xform:_userResponse})}catch(a){if(isAuthError(a))return{data:{user:null},error:a};throw a}}async deleteUser(i,s=!1){try{return await _request(this.fetch,"DELETE",`${this.url}/admin/users/${i}`,{headers:this.headers,body:{should_soft_delete:s},xform:_userResponse})}catch(a){if(isAuthError(a))return{data:{user:null},error:a};throw a}}async _listFactors(i){try{const{data:s,error:a}=await _request(this.fetch,"GET",`${this.url}/admin/users/${i.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:s,error:a}}catch(s){if(isAuthError(s))return{data:null,error:s};throw s}}async _deleteFactor(i){try{return{data:await _request(this.fetch,"DELETE",`${this.url}/admin/users/${i.userId}/factors/${i.id}`,{headers:this.headers}),error:null}}catch(s){if(isAuthError(s))return{data:null,error:s};throw s}}}const localStorageAdapter={getItem:e=>supportsLocalStorage()?globalThis.localStorage.getItem(e):null,setItem:(e,i)=>{supportsLocalStorage()&&globalThis.localStorage.setItem(e,i)},removeItem:e=>{supportsLocalStorage()&&globalThis.localStorage.removeItem(e)}};function memoryLocalStorageAdapter(e={}){return{getItem:i=>e[i]||null,setItem:(i,s)=>{e[i]=s},removeItem:i=>{delete e[i]}}}function polyfillGlobalThis(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const internals={debug:!!(globalThis&&supportsLocalStorage()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class LockAcquireTimeoutError extends Error{constructor(i){super(i),this.isAcquireTimeout=!0}}class NavigatorLockAcquireTimeoutError extends LockAcquireTimeoutError{}async function navigatorLock(e,i,s){internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,i);const a=new globalThis.AbortController;return i>0&&setTimeout(()=>{a.abort(),internals.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},i),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,i===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async o=>{if(o){internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return await s()}finally{internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}else{if(i===0)throw internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new NavigatorLockAcquireTimeoutError(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(internals.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}polyfillGlobalThis();const DEFAULT_OPTIONS={url:GOTRUE_URL,storageKey:STORAGE_KEY,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:DEFAULT_HEADERS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},AUTO_REFRESH_TICK_DURATION=30*1e3,AUTO_REFRESH_TICK_THRESHOLD=3;async function lockNoOp(e,i,s){return await s()}class GoTrueClient{constructor(i){var s,a;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=GoTrueClient.nextInstanceID,GoTrueClient.nextInstanceID+=1,this.instanceID>0&&isBrowser$1()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},DEFAULT_OPTIONS),i);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new GoTrueAdminApi({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=resolveFetch(o.fetch),this.lock=o.lock||lockNoOp,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:isBrowser$1()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=navigatorLock:this.lock=lockNoOp,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:supportsLocalStorage()?this.storage=localStorageAdapter:(this.memoryStorage={},this.storage=memoryLocalStorageAdapter(this.memoryStorage)):(this.memoryStorage={},this.storage=memoryLocalStorageAdapter(this.memoryStorage)),isBrowser$1()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}_debug(...i){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${version}) ${new Date().toISOString()}`,...i),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var i;try{const s=parseParametersFromURL(window.location.href);let a="none";if(this._isImplicitGrantCallback(s)?a="implicit":await this._isPKCECallback(s)&&(a="pkce"),isBrowser$1()&&this.detectSessionInUrl&&a!=="none"){const{data:o,error:c}=await this._getSessionFromURL(s,a);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),isAuthImplicitGrantRedirectError(c)){const h=(i=c.details)===null||i===void 0?void 0:i.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:d,redirectType:g}=o;return this._debug("#_initialize()","detected session in URL",d,"redirect type",g),await this._saveSession(d),setTimeout(async()=>{g==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return isAuthError(s)?{error:s}:{error:new AuthUnknownError("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(i){var s,a,o;try{const c=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(s=i==null?void 0:i.options)===null||s===void 0?void 0:s.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(o=i==null?void 0:i.options)===null||o===void 0?void 0:o.captchaToken}},xform:_sessionResponse}),{data:d,error:g}=c;if(g||!d)return{data:{user:null,session:null},error:g};const h=d.session,b=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:b,session:h},error:null}}catch(c){if(isAuthError(c))return{data:{user:null,session:null},error:c};throw c}}async signUp(i){var s,a,o;try{let c;if("email"in i){const{email:_,password:$,options:j}=i;let _e=null,rt=null;this.flowType==="pkce"&&([_e,rt]=await getCodeChallengeAndMethod(this.storage,this.storageKey)),c=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:j==null?void 0:j.emailRedirectTo,body:{email:_,password:$,data:(s=j==null?void 0:j.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:j==null?void 0:j.captchaToken},code_challenge:_e,code_challenge_method:rt},xform:_sessionResponse})}else if("phone"in i){const{phone:_,password:$,options:j}=i;c=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:_,password:$,data:(a=j==null?void 0:j.data)!==null&&a!==void 0?a:{},channel:(o=j==null?void 0:j.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:j==null?void 0:j.captchaToken}},xform:_sessionResponse})}else throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a password");const{data:d,error:g}=c;if(g||!d)return{data:{user:null,session:null},error:g};const h=d.session,b=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:b,session:h},error:null}}catch(c){if(isAuthError(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithPassword(i){try{let s;if("email"in i){const{email:c,password:d,options:g}=i;s=await _request(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:d,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:_sessionResponsePassword})}else if("phone"in i){const{phone:c,password:d,options:g}=i;s=await _request(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:d,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:_sessionResponsePassword})}else throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a password");const{data:a,error:o}=s;return o?{data:{user:null,session:null},error:o}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new AuthInvalidTokenResponseError}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:o})}catch(s){if(isAuthError(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(i){var s,a,o,c;return await this._handleProviderSignIn(i.provider,{redirectTo:(s=i.options)===null||s===void 0?void 0:s.redirectTo,scopes:(a=i.options)===null||a===void 0?void 0:a.scopes,queryParams:(o=i.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(c=i.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(i){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(i))}async _exchangeCodeForSession(i){const s=await getItemAsync(this.storage,`${this.storageKey}-code-verifier`),[a,o]=(s??"").split("/");try{const{data:c,error:d}=await _request(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:i,code_verifier:a},xform:_sessionResponse});if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),d)throw d;return!c||!c.session||!c.user?{data:{user:null,session:null,redirectType:null},error:new AuthInvalidTokenResponseError}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign(Object.assign({},c),{redirectType:o??null}),error:d})}catch(c){if(isAuthError(c))return{data:{user:null,session:null,redirectType:null},error:c};throw c}}async signInWithIdToken(i){try{const{options:s,provider:a,token:o,access_token:c,nonce:d}=i,g=await _request(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:o,access_token:c,nonce:d,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:_sessionResponse}),{data:h,error:b}=g;return b?{data:{user:null,session:null},error:b}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new AuthInvalidTokenResponseError}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:b})}catch(s){if(isAuthError(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(i){var s,a,o,c,d;try{if("email"in i){const{email:g,options:h}=i;let b=null,_=null;this.flowType==="pkce"&&([b,_]=await getCodeChallengeAndMethod(this.storage,this.storageKey));const{error:$}=await _request(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:g,data:(s=h==null?void 0:h.data)!==null&&s!==void 0?s:{},create_user:(a=h==null?void 0:h.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:b,code_challenge_method:_},redirectTo:h==null?void 0:h.emailRedirectTo});return{data:{user:null,session:null},error:$}}if("phone"in i){const{phone:g,options:h}=i,{data:b,error:_}=await _request(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:g,data:(o=h==null?void 0:h.data)!==null&&o!==void 0?o:{},create_user:(c=h==null?void 0:h.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},channel:(d=h==null?void 0:h.channel)!==null&&d!==void 0?d:"sms"}});return{data:{user:null,session:null,messageId:b==null?void 0:b.message_id},error:_}}throw new AuthInvalidCredentialsError("You must provide either an email or phone number.")}catch(g){if(isAuthError(g))return{data:{user:null,session:null},error:g};throw g}}async verifyOtp(i){var s,a;try{let o,c;"options"in i&&(o=(s=i.options)===null||s===void 0?void 0:s.redirectTo,c=(a=i.options)===null||a===void 0?void 0:a.captchaToken);const{data:d,error:g}=await _request(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},i),{gotrue_meta_security:{captcha_token:c}}),redirectTo:o,xform:_sessionResponse});if(g)throw g;if(!d)throw new Error("An error occurred on token verification.");const h=d.session,b=d.user;return h!=null&&h.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(i.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:b,session:h},error:null}}catch(o){if(isAuthError(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(i){var s,a,o;try{let c=null,d=null;return this.flowType==="pkce"&&([c,d]=await getCodeChallengeAndMethod(this.storage,this.storageKey)),await _request(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in i?{provider_id:i.providerId}:null),"domain"in i?{domain:i.domain}:null),{redirect_to:(a=(s=i.options)===null||s===void 0?void 0:s.redirectTo)!==null&&a!==void 0?a:void 0}),!((o=i==null?void 0:i.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:i.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:d}),headers:this.headers,xform:_ssoResponse})}catch(c){if(isAuthError(c))return{data:null,error:c};throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async i=>{const{data:{session:s},error:a}=i;if(a)throw a;if(!s)throw new AuthSessionMissingError;const{error:o}=await _request(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:o}})}catch(i){if(isAuthError(i))return{data:{user:null,session:null},error:i};throw i}}async resend(i){try{const s=`${this.url}/resend`;if("email"in i){const{email:a,type:o,options:c}=i,{error:d}=await _request(this.fetch,"POST",s,{headers:this.headers,body:{email:a,type:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}else if("phone"in i){const{phone:a,type:o,options:c}=i,{data:d,error:g}=await _request(this.fetch,"POST",s,{headers:this.headers,body:{phone:a,type:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:g}}throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a type")}catch(s){if(isAuthError(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(i,s){this._debug("#_acquireLock","begin",i);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await a,await s()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,i,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=s();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(i){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await i(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let i=null;const s=await getItemAsync(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?i=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!i)return{data:{session:null},error:null};const a=i.expires_at?i.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",i.expires_at),!a){if(this.storage.isServer){let d=this.suppressGetSessionWarning;i=new Proxy(i,{get:(h,b,_)=>(!d&&b==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),d=!0,this.suppressGetSessionWarning=!0),Reflect.get(h,b,_))})}return{data:{session:i},error:null}}const{session:o,error:c}=await this._callRefreshToken(i.refresh_token);return c?{data:{session:null},error:c}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(i){return i?await this._getUser(i):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(i){try{return i?await _request(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:i,xform:_userResponse}):await this._useSession(async s=>{var a,o,c;const{data:d,error:g}=s;if(g)throw g;return!(!((a=d.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new AuthSessionMissingError}:await _request(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(o=d.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0,xform:_userResponse})})}catch(s){if(isAuthError(s))return isAuthSessionMissingError(s)&&(await this._removeSession(),await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(i,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(i,s))}async _updateUser(i,s={}){try{return await this._useSession(async a=>{const{data:o,error:c}=a;if(c)throw c;if(!o.session)throw new AuthSessionMissingError;const d=o.session;let g=null,h=null;this.flowType==="pkce"&&i.email!=null&&([g,h]=await getCodeChallengeAndMethod(this.storage,this.storageKey));const{data:b,error:_}=await _request(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},i),{code_challenge:g,code_challenge_method:h}),jwt:d.access_token,xform:_userResponse});if(_)throw _;return d.user=b.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),{data:{user:d.user},error:null}})}catch(a){if(isAuthError(a))return{data:{user:null},error:a};throw a}}_decodeJWT(i){return decodeJWTPayload(i)}async setSession(i){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(i))}async _setSession(i){try{if(!i.access_token||!i.refresh_token)throw new AuthSessionMissingError;const s=Date.now()/1e3;let a=s,o=!0,c=null;const d=decodeJWTPayload(i.access_token);if(d.exp&&(a=d.exp,o=a<=s),o){const{session:g,error:h}=await this._callRefreshToken(i.refresh_token);if(h)return{data:{user:null,session:null},error:h};if(!g)return{data:{user:null,session:null},error:null};c=g}else{const{data:g,error:h}=await this._getUser(i.access_token);if(h)throw h;c={access_token:i.access_token,refresh_token:i.refresh_token,user:g.user,token_type:"bearer",expires_in:a-s,expires_at:a},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(s){if(isAuthError(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(i){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(i))}async _refreshSession(i){try{return await this._useSession(async s=>{var a;if(!i){const{data:d,error:g}=s;if(g)throw g;i=(a=d.session)!==null&&a!==void 0?a:void 0}if(!(i!=null&&i.refresh_token))throw new AuthSessionMissingError;const{session:o,error:c}=await this._callRefreshToken(i.refresh_token);return c?{data:{user:null,session:null},error:c}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(isAuthError(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(i,s){try{if(!isBrowser$1())throw new AuthImplicitGrantRedirectError("No browser detected.");if(i.error||i.error_description||i.error_code)throw new AuthImplicitGrantRedirectError(i.error_description||"Error in URL with unspecified error_description",{error:i.error||"unspecified_error",code:i.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new AuthPKCEGrantCodeExchangeError("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new AuthImplicitGrantRedirectError("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!i.code)throw new AuthPKCEGrantCodeExchangeError("No code detected.");const{data:tt,error:ot}=await this._exchangeCodeForSession(i.code);if(ot)throw ot;const nt=new URL(window.location.href);return nt.searchParams.delete("code"),window.history.replaceState(window.history.state,"",nt.toString()),{data:{session:tt.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:o,access_token:c,refresh_token:d,expires_in:g,expires_at:h,token_type:b}=i;if(!c||!g||!d||!b)throw new AuthImplicitGrantRedirectError("No session defined in URL");const _=Math.round(Date.now()/1e3),$=parseInt(g);let j=_+$;h&&(j=parseInt(h));const _e=j-_;_e*1e3<=AUTO_REFRESH_TICK_DURATION&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_e}s, should have been closer to ${$}s`);const rt=j-$;_-rt>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",rt,j,_):_-rt<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",rt,j,_);const{data:it,error:st}=await this._getUser(c);if(st)throw st;const et={provider_token:a,provider_refresh_token:o,access_token:c,expires_in:$,expires_at:j,refresh_token:d,token_type:b,user:it.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:et,redirectType:i.type},error:null}}catch(a){if(isAuthError(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(i){return!!(i.access_token||i.error_description)}async _isPKCECallback(i){const s=await getItemAsync(this.storage,`${this.storageKey}-code-verifier`);return!!(i.code&&s)}async signOut(i={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(i))}async _signOut({scope:i}={scope:"global"}){return await this._useSession(async s=>{var a;const{data:o,error:c}=s;if(c)return{error:c};const d=(a=o.session)===null||a===void 0?void 0:a.access_token;if(d){const{error:g}=await this.admin.signOut(d,i);if(g&&!(isAuthApiError(g)&&(g.status===404||g.status===401||g.status===403)))return{error:g}}return i!=="others"&&(await this._removeSession(),await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(i){const s=uuid(),a={id:s,callback:i,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:a}}}async _emitInitialSession(i){return await this._useSession(async s=>{var a,o;try{const{data:{session:c},error:d}=s;if(d)throw d;await((a=this.stateChangeEmitters.get(i))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",i,"session",c)}catch(c){await((o=this.stateChangeEmitters.get(i))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",i,"error",c),console.error(c)}})}async resetPasswordForEmail(i,s={}){let a=null,o=null;this.flowType==="pkce"&&([a,o]=await getCodeChallengeAndMethod(this.storage,this.storageKey,!0));try{return await _request(this.fetch,"POST",`${this.url}/recover`,{body:{email:i,code_challenge:a,code_challenge_method:o,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(c){if(isAuthError(c))return{data:null,error:c};throw c}}async getUserIdentities(){var i;try{const{data:s,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(i=s.user.identities)!==null&&i!==void 0?i:[]},error:null}}catch(s){if(isAuthError(s))return{data:null,error:s};throw s}}async linkIdentity(i){var s;try{const{data:a,error:o}=await this._useSession(async c=>{var d,g,h,b,_;const{data:$,error:j}=c;if(j)throw j;const _e=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,i.provider,{redirectTo:(d=i.options)===null||d===void 0?void 0:d.redirectTo,scopes:(g=i.options)===null||g===void 0?void 0:g.scopes,queryParams:(h=i.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await _request(this.fetch,"GET",_e,{headers:this.headers,jwt:(_=(b=$.session)===null||b===void 0?void 0:b.access_token)!==null&&_!==void 0?_:void 0})});if(o)throw o;return isBrowser$1()&&!(!((s=i.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),{data:{provider:i.provider,url:a==null?void 0:a.url},error:null}}catch(a){if(isAuthError(a))return{data:{provider:i.provider,url:null},error:a};throw a}}async unlinkIdentity(i){try{return await this._useSession(async s=>{var a,o;const{data:c,error:d}=s;if(d)throw d;return await _request(this.fetch,"DELETE",`${this.url}/user/identities/${i.identity_id}`,{headers:this.headers,jwt:(o=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0})})}catch(s){if(isAuthError(s))return{data:null,error:s};throw s}}async _refreshAccessToken(i){const s=`#_refreshAccessToken(${i.substring(0,5)}...)`;this._debug(s,"begin");try{const a=Date.now();return await retryable(async o=>(o>0&&await sleep(200*Math.pow(2,o-1)),this._debug(s,"refreshing attempt",o),await _request(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:i},headers:this.headers,xform:_sessionResponse})),(o,c)=>{const d=200*Math.pow(2,o);return c&&isAuthRetryableFetchError(c)&&Date.now()+d-a<AUTO_REFRESH_TICK_DURATION})}catch(a){if(this._debug(s,"error",a),isAuthError(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(s,"end")}}_isValidSession(i){return typeof i=="object"&&i!==null&&"access_token"in i&&"refresh_token"in i&&"expires_at"in i}async _handleProviderSignIn(i,s){const a=await this._getUrlForProvider(`${this.url}/authorize`,i,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",i,"options",s,"url",a),isBrowser$1()&&!s.skipBrowserRedirect&&window.location.assign(a),{data:{provider:i,url:a},error:null}}async _recoverAndRefresh(){var i;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const a=await getItemAsync(this.storage,this.storageKey);if(this._debug(s,"session from storage",a),!this._isValidSession(a)){this._debug(s,"session is not valid"),a!==null&&await this._removeSession();return}const o=Math.round(Date.now()/1e3),c=((i=a.expires_at)!==null&&i!==void 0?i:1/0)<o+EXPIRY_MARGIN;if(this._debug(s,`session has${c?"":" not"} expired with margin of ${EXPIRY_MARGIN}s`),c){if(this.autoRefreshToken&&a.refresh_token){const{error:d}=await this._callRefreshToken(a.refresh_token);d&&(console.error(d),isAuthRetryableFetchError(d)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(s,"error",a),console.error(a);return}finally{this._debug(s,"end")}}async _callRefreshToken(i){var s,a;if(!i)throw new AuthSessionMissingError;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${i.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Deferred;const{data:c,error:d}=await this._refreshAccessToken(i);if(d)throw d;if(!c.session)throw new AuthSessionMissingError;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const g={session:c.session,error:null};return this.refreshingDeferred.resolve(g),g}catch(c){if(this._debug(o,"error",c),isAuthError(c)){const d={session:null,error:c};return isAuthRetryableFetchError(c)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(d),d}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(c),c}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(i,s,a=!0){const o=`#_notifyAllSubscribers(${i})`;this._debug(o,"begin",s,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:i,session:s});const c=[],d=Array.from(this.stateChangeEmitters.values()).map(async g=>{try{await g.callback(i,s)}catch(h){c.push(h)}});if(await Promise.all(d),c.length>0){for(let g=0;g<c.length;g+=1)console.error(c[g]);throw c[0]}}finally{this._debug(o,"end")}}async _saveSession(i){this._debug("#_saveSession()",i),this.suppressGetSessionWarning=!0,await setItemAsync(this.storage,this.storageKey,i)}async _removeSession(){this._debug("#_removeSession()"),await removeItemAsync(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const i=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{i&&isBrowser$1()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",i)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const i=setInterval(()=>this._autoRefreshTokenTick(),AUTO_REFRESH_TICK_DURATION);this.autoRefreshTicker=i,i&&typeof i=="object"&&typeof i.unref=="function"?i.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(i),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const i=this.autoRefreshTicker;this.autoRefreshTicker=null,i&&clearInterval(i)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const i=Date.now();try{return await this._useSession(async s=>{const{data:{session:a}}=s;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((a.expires_at*1e3-i)/AUTO_REFRESH_TICK_DURATION);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${AUTO_REFRESH_TICK_DURATION}ms, refresh threshold is ${AUTO_REFRESH_TICK_THRESHOLD} ticks`),o<=AUTO_REFRESH_TICK_THRESHOLD&&await this._callRefreshToken(a.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(i){if(i.isAcquireTimeout||i instanceof LockAcquireTimeoutError)this._debug("auto refresh token tick lock not available");else throw i}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!isBrowser$1()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(i){console.error("_handleVisibilityChange",i)}}async _onVisibilityChanged(i){const s=`#_onVisibilityChanged(${i})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),i||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(i,s,a){const o=[`provider=${encodeURIComponent(s)}`];if(a!=null&&a.redirectTo&&o.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&o.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[c,d]=await getCodeChallengeAndMethod(this.storage,this.storageKey),g=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(d)}`});o.push(g.toString())}if(a!=null&&a.queryParams){const c=new URLSearchParams(a.queryParams);o.push(c.toString())}return a!=null&&a.skipBrowserRedirect&&o.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${i}?${o.join("&")}`}async _unenroll(i){try{return await this._useSession(async s=>{var a;const{data:o,error:c}=s;return c?{data:null,error:c}:await _request(this.fetch,"DELETE",`${this.url}/factors/${i.factorId}`,{headers:this.headers,jwt:(a=o==null?void 0:o.session)===null||a===void 0?void 0:a.access_token})})}catch(s){if(isAuthError(s))return{data:null,error:s};throw s}}async _enroll(i){try{return await this._useSession(async s=>{var a,o;const{data:c,error:d}=s;if(d)return{data:null,error:d};const g=Object.assign({friendly_name:i.friendlyName,factor_type:i.factorType},i.factorType==="phone"?{phone:i.phone}:{issuer:i.issuer}),{data:h,error:b}=await _request(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:(a=c==null?void 0:c.session)===null||a===void 0?void 0:a.access_token});return b?{data:null,error:b}:(i.factorType==="totp"&&(!((o=h==null?void 0:h.totp)===null||o===void 0)&&o.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(s){if(isAuthError(s))return{data:null,error:s};throw s}}async _verify(i){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var a;const{data:o,error:c}=s;if(c)return{data:null,error:c};const{data:d,error:g}=await _request(this.fetch,"POST",`${this.url}/factors/${i.factorId}/verify`,{body:{code:i.code,challenge_id:i.challengeId},headers:this.headers,jwt:(a=o==null?void 0:o.session)===null||a===void 0?void 0:a.access_token});return g?{data:null,error:g}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:g})})}catch(s){if(isAuthError(s))return{data:null,error:s};throw s}})}async _challenge(i){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var a;const{data:o,error:c}=s;return c?{data:null,error:c}:await _request(this.fetch,"POST",`${this.url}/factors/${i.factorId}/challenge`,{body:{channel:i.channel},headers:this.headers,jwt:(a=o==null?void 0:o.session)===null||a===void 0?void 0:a.access_token})})}catch(s){if(isAuthError(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(i){const{data:s,error:a}=await this._challenge({factorId:i.factorId});return a?{data:null,error:a}:await this._verify({factorId:i.factorId,challengeId:s.id,code:i.code})}async _listFactors(){const{data:{user:i},error:s}=await this.getUser();if(s)return{data:null,error:s};const a=(i==null?void 0:i.factors)||[],o=a.filter(d=>d.factor_type==="totp"&&d.status==="verified"),c=a.filter(d=>d.factor_type==="phone"&&d.status==="verified");return{data:{all:a,totp:o,phone:c},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async i=>{var s,a;const{data:{session:o},error:c}=i;if(c)return{data:null,error:c};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const d=this._decodeJWT(o.access_token);let g=null;d.aal&&(g=d.aal);let h=g;((a=(s=o.user.factors)===null||s===void 0?void 0:s.filter($=>$.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(h="aal2");const _=d.amr||[];return{data:{currentLevel:g,nextLevel:h,currentAuthenticationMethods:_},error:null}}))}}GoTrueClient.nextInstanceID=0;const AuthClient=GoTrueClient;class SupabaseAuthClient extends AuthClient{constructor(i){super(i)}}var __awaiter$1=function(e,i,s,a){function o(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function g(_){try{b(a.next(_))}catch($){d($)}}function h(_){try{b(a.throw(_))}catch($){d($)}}function b(_){_.done?c(_.value):o(_.value).then(g,h)}b((a=a.apply(e,i||[])).next())})};class SupabaseClient{constructor(i,s,a){var o,c,d;if(this.supabaseUrl=i,this.supabaseKey=s,!i)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const g=stripTrailingSlash(i);this.realtimeUrl=`${g}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${g}/auth/v1`,this.storageUrl=`${g}/storage/v1`,this.functionsUrl=`${g}/functions/v1`;const h=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,b={db:DEFAULT_DB_OPTIONS,realtime:DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},DEFAULT_AUTH_OPTIONS),{storageKey:h}),global:DEFAULT_GLOBAL_OPTIONS},_=applySettingDefaults(a??{},b);this.storageKey=(o=_.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(c=_.global.headers)!==null&&c!==void 0?c:{},_.accessToken?(this.accessToken=_.accessToken,this.auth=new Proxy({},{get:($,j)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(j)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=_.auth)!==null&&d!==void 0?d:{},this.headers,_.global.fetch),this.fetch=fetchWithAuth(s,this._getAccessToken.bind(this),_.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},_.realtime)),this.rest=new PostgrestClient(`${g}/rest/v1`,{headers:this.headers,schema:_.db.schema,fetch:this.fetch}),_.accessToken||this._listenForAuthEvents()}get functions(){return new FunctionsClient(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new StorageClient(this.storageUrl,this.headers,this.fetch)}from(i){return this.rest.from(i)}schema(i){return this.rest.schema(i)}rpc(i,s={},a={}){return this.rest.rpc(i,s,a)}channel(i,s={config:{}}){return this.realtime.channel(i,s)}getChannels(){return this.realtime.getChannels()}removeChannel(i){return this.realtime.removeChannel(i)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var i,s;return __awaiter$1(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:a}=yield this.auth.getSession();return(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:i,persistSession:s,detectSessionInUrl:a,storage:o,storageKey:c,flowType:d,lock:g,debug:h},b,_){var $;const j={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new SupabaseAuthClient({url:this.authUrl,headers:Object.assign(Object.assign({},j),b),storageKey:c,autoRefreshToken:i,persistSession:s,detectSessionInUrl:a,storage:o,flowType:d,lock:g,debug:h,fetch:_,hasCustomAuthorizationHeader:($="Authorization"in this.headers)!==null&&$!==void 0?$:!1})}_initRealtimeClient(i){return new RealtimeClient(this.realtimeUrl,Object.assign(Object.assign({},i),{params:Object.assign({apikey:this.supabaseKey},i==null?void 0:i.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,a)=>{this._handleTokenChanged(s,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(i,s,a){(i==="TOKEN_REFRESHED"||i==="SIGNED_IN")&&this.changedAccessToken!==a?this.changedAccessToken=a:i==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const createClient=(e,i,s)=>new SupabaseClient(e,i,s),supabaseUrl=void 0,supabaseAnonKey=void 0;throw new Error("Please set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY environment variables");const supabase=createClient(supabaseUrl,supabaseAnonKey);function useAuth$1(){const[e,i]=reactExports.useState(!1),[s,a]=reactExports.useState(null);return{signIn:async(d,g)=>{i(!0),a(null);try{const{data:h,error:b}=await supabase.auth.signInWithPassword({email:d,password:g});if(b)throw b;return h}catch(h){throw a(h.message),h}finally{i(!1)}},signOut:async()=>{try{const{error:d}=await supabase.auth.signOut();if(d)throw d}catch(d){throw a(d.message),d}},loading:e,error:s}}function LoginForm({role:e}){const[i,s]=reactExports.useState(""),[a,o]=reactExports.useState(""),[c,d]=reactExports.useState(""),{signIn:g,loading:h}=useAuth$1(),b=useNavigate(),_=async $=>{$.preventDefault(),d("");try{await g(i,a),b(e==="admin"?"/admin":"/dashboard")}catch(j){d(j.message||"Failed to sign in")}};return jsxRuntimeExports.jsxs("form",{onSubmit:_,className:"space-y-4 w-full max-w-sm",children:[c&&jsxRuntimeExports.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded flex items-center gap-2",children:[jsxRuntimeExports.jsx(AlertCircle,{size:20}),jsxRuntimeExports.jsx("p",{children:c})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),jsxRuntimeExports.jsx("input",{id:"email",type:"email",value:i,onChange:$=>s($.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),jsxRuntimeExports.jsx("input",{id:"password",type:"password",value:a,onChange:$=>o($.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",required:!0})]}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:h,className:"w-full bg-purple-700 text-white py-2 px-4 rounded-md hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50",children:h?"Signing in...":"Sign In"})]})}function useAdminAuth(){const[e,i]=reactExports.useState(null),[s,a]=reactExports.useState(!0),[o,c]=reactExports.useState(null);reactExports.useEffect(()=>{d()},[]);const d=async()=>{try{const{count:h}=await supabase.from("admin_users").select("*",{count:"exact",head:!0});i(h?h>0:!1)}catch(h){c(h.message)}finally{a(!1)}};return{hasAdmin:e,loading:s,error:o,signUpAdmin:async(h,b)=>{try{const{data:_,error:$}=await supabase.auth.signUp({email:h,password:b});if($)throw $;if(!_.user)throw new Error("Failed to create user");const{error:j}=await supabase.from("admin_users").insert({id:_.user.id,username:h.split("@")[0],email:h,password_hash:"DEPRECATED"});if(j)throw await supabase.auth.admin.deleteUser(_.user.id),j;const{error:_e}=await supabase.auth.signInWithPassword({email:h,password:b});if(_e)throw _e;return _}catch(_){throw c(_.message),_}}}}function AdminLogin(){const{hasAdmin:e,loading:i}=useAdminAuth();return i?jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-700"})}):jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[jsxRuntimeExports.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-center",children:jsxRuntimeExports.jsx(Shield,{className:"w-12 h-12 text-purple-700"})}),jsxRuntimeExports.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:e?"Admin Login":"Create Admin Account"})]}),jsxRuntimeExports.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:jsxRuntimeExports.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:jsxRuntimeExports.jsx(LoginForm,{role:"admin"})})})]})}function UserLogin(){return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[jsxRuntimeExports.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-center",children:jsxRuntimeExports.jsx(CircleUser,{className:"w-12 h-12 text-purple-700"})}),jsxRuntimeExports.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Employee Portal"}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Access your data entry dashboard"})]}),jsxRuntimeExports.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:jsxRuntimeExports.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:jsxRuntimeExports.jsx(LoginForm,{role:"user"})})})]})}const AuthContext=reactExports.createContext(void 0);function AuthProvider({children:e}){const[i,s]=reactExports.useState(null),[a,o]=reactExports.useState(null),[c,d]=reactExports.useState(!0);reactExports.useEffect(()=>{g();const{data:{subscription:$}}=supabase.auth.onAuthStateChange((j,_e)=>{g()});return()=>{$.unsubscribe()}},[]);async function g(){try{const{data:{session:$}}=await supabase.auth.getSession();if($!=null&&$.user){s($.user);const{data:j}=await supabase.from("admin_users").select().eq("id",$.user.id).single();o(j?"admin":"user")}else s(null),o(null)}catch($){console.error("Error checking auth status:",$)}finally{d(!1)}}async function h($,j,_e){const{data:rt,error:it}=await supabase.auth.signInWithPassword({email:$,password:j});if(it)throw it;return rt}async function b(){const{error:$}=await supabase.auth.signOut();if($)throw $}const _={user:i,role:a,loading:c,signIn:h,signOut:b};return jsxRuntimeExports.jsx(AuthContext.Provider,{value:_,children:e})}function useAuth(){const e=reactExports.useContext(AuthContext);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function AdminLayout({children:e}){const i=useLocation(),s=useNavigate(),{signOut:a}=useAuth(),o=async()=>{await a(),s("/admin-login")},c=[{path:"/admin",icon:Home$1,label:"Overview"},{path:"/admin/users",icon:Users,label:"Users"},{path:"/admin/assignments",icon:FileText,label:"Assignments"},{path:"/admin/submissions",icon:CheckSquare,label:"Submissions"}];return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gray-100",children:jsxRuntimeExports.jsxs("div",{className:"flex h-screen",children:[jsxRuntimeExports.jsxs("div",{className:"w-64 bg-white shadow-lg",children:[jsxRuntimeExports.jsx("div",{className:"h-16 flex items-center px-6 border-b",children:jsxRuntimeExports.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Admin Portal"})}),jsxRuntimeExports.jsxs("nav",{className:"mt-6",children:[c.map(d=>{const g=d.icon,h=i.pathname===d.path;return jsxRuntimeExports.jsxs(Link,{to:d.path,className:`flex items-center px-6 py-3 text-sm ${h?"bg-purple-50 text-purple-700 border-r-4 border-purple-700":"text-gray-600 hover:bg-gray-50"}`,children:[jsxRuntimeExports.jsx(g,{size:20,className:"mr-3"}),d.label]},d.path)}),jsxRuntimeExports.jsxs("button",{onClick:o,className:"w-full flex items-center px-6 py-3 text-sm text-gray-600 hover:bg-gray-50",children:[jsxRuntimeExports.jsx(LogOut,{size:20,className:"mr-3"}),"Sign Out"]})]})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-auto",children:jsxRuntimeExports.jsx("div",{className:"p-8",children:e})})]})})}function useUsers(){const[e,i]=reactExports.useState([]),[s,a]=reactExports.useState(!0),[o,c]=reactExports.useState(null);return reactExports.useEffect(()=>{async function d(){try{const{data:g,error:h}=await supabase.from("regular_users").select("*").order("created_at",{ascending:!1});if(h)throw h;i(g||[])}catch(g){c(g.message)}finally{a(!1)}}d()},[]),{users:e,loading:s,error:o}}function useForm({initialValues:e,onSubmit:i,validate:s}){const[a,o]=reactExports.useState(e),[c,d]=reactExports.useState({}),[g,h]=reactExports.useState(!1);return{values:a,errors:c,isSubmitting:g,handleChange:$=>{const{name:j,value:_e}=$.target;o(rt=>({...rt,[j]:_e})),c[j]&&d(rt=>({...rt,[j]:void 0}))},handleSubmit:async $=>{if($.preventDefault(),s){const j=s(a);if(Object.keys(j).length>0){d(j);return}}h(!0);try{await i(a)}catch(j){d(j.errors||{form:j.message})}finally{h(!1)}}}}async function createUser(e){try{const{data:{user:i}}=await supabase.auth.getUser();if(!i)throw new Error("Not authenticated as admin");const{data:s}=await supabase.from("admin_users").select("id").eq("id",i.id).single();if(!s)throw new Error("Not authorized to create users");const{data:a,error:o}=await supabase.auth.admin.createUser({email:e.email,password:e.password,email_confirm:!0,user_metadata:{username:e.username,name:e.name}});if(o)throw o;if(!a.user)throw new Error("Failed to create user");const{error:c}=await supabase.from("regular_users").insert({id:a.user.id,username:e.username,name:e.name,email:e.email,phone:e.phone||"",date_of_birth:e.date_of_birth,password_hash:"DEPRECATED"});if(c)throw await supabase.auth.admin.deleteUser(a.user.id),new Error("Failed to create user account");return a.user}catch(i){throw console.error("Error creating user:",i),i}}function UserForm({user:e,onClose:i}){const s=h=>{const b={};return h.email?/\S+@\S+\.\S+/.test(h.email)||(b.email="Invalid email address"):b.email="Email is required",!e&&!h.password?b.password="Password is required":h.password&&h.password.length<6&&(b.password="Password must be at least 6 characters"),h.username||(b.username="Username is required"),h.name||(b.name="Name is required"),h.date_of_birth||(b.date_of_birth="Date of birth is required"),b},{values:a,errors:o,handleChange:c,handleSubmit:d,isSubmitting:g}=useForm({initialValues:e||{username:"",name:"",email:"",phone:"",date_of_birth:"",password:""},validate:s,onSubmit:async h=>{try{await createUser(h),i()}catch(b){throw new Error(b.message||"Failed to create user")}}});return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:e?"Edit User":"Create User"}),jsxRuntimeExports.jsx("button",{onClick:i,className:"text-gray-500 hover:text-gray-700",children:jsxRuntimeExports.jsx(X,{size:20})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:d,className:"space-y-4",children:[o.form&&jsxRuntimeExports.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded",children:o.form}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Username"}),jsxRuntimeExports.jsx("input",{type:"text",name:"username",value:a.username,onChange:c,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500"}),o.username&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.username})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),jsxRuntimeExports.jsx("input",{type:"text",name:"name",value:a.name,onChange:c,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500"}),o.name&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.name})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),jsxRuntimeExports.jsx("input",{type:"email",name:"email",value:a.email,onChange:c,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500"}),o.email&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.email})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),jsxRuntimeExports.jsx("input",{type:"tel",name:"phone",value:a.phone,onChange:c,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500"}),o.phone&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.phone})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date of Birth"}),jsxRuntimeExports.jsx("input",{type:"date",name:"date_of_birth",value:a.date_of_birth,onChange:c,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500"}),o.date_of_birth&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.date_of_birth})]}),!e&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),jsxRuntimeExports.jsx("input",{type:"password",name:"password",value:a.password,onChange:c,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500"}),o.password&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.password})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md",children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:g,className:"px-4 py-2 text-sm font-medium text-white bg-purple-700 hover:bg-purple-700 rounded-md disabled:opacity-50",children:g?"Saving...":e?"Update":"Create"})]})]})]})})}function UserListItem({user:e}){const[i,s]=reactExports.useState(!1);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.username}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.name}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.email}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.phone}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>s(!0),className:"text-purple-700 hover:text-purple-800",children:jsxRuntimeExports.jsx(Pen,{size:16})}),jsxRuntimeExports.jsx("button",{className:"text-red-600 hover:text-red-800",children:jsxRuntimeExports.jsx(Trash2,{size:16})})]})})]}),i&&jsxRuntimeExports.jsx(UserForm,{user:e,onClose:()=>s(!1)})]})}function UserList(){const{users:e,loading:i,error:s}=useUsers();return i?jsxRuntimeExports.jsx("div",{className:"flex justify-center p-8",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-700"})}):s?jsxRuntimeExports.jsxs("div",{className:"text-red-600 p-4 bg-red-50 rounded-lg",children:["Error loading users: ",s]}):jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Username"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(a=>jsxRuntimeExports.jsx(UserListItem,{user:a},a.id))})]})})}function UserManagement(){const[e,i]=reactExports.useState(!1);return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"User Management"}),jsxRuntimeExports.jsxs("button",{onClick:()=>i(!0),className:"bg-purple-700 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[jsxRuntimeExports.jsx(Plus,{size:20}),"Create User"]})]}),e&&jsxRuntimeExports.jsx(UserForm,{onClose:()=>i(!1)}),jsxRuntimeExports.jsx(UserList,{})]})}function useAssignments(){const[e,i]=reactExports.useState([]),[s,a]=reactExports.useState(!0),[o,c]=reactExports.useState(null);return reactExports.useEffect(()=>{async function d(){try{const{data:g,error:h}=await supabase.from("assignments").select("*").order("created_at",{ascending:!1});if(h)throw h;i(g||[])}catch(g){c(g.message)}finally{a(!1)}}d()},[]),{assignments:e,loading:s,error:o}}function toDate(e){const i=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&i==="[object Date]"?new e.constructor(+e):typeof e=="number"||i==="[object Number]"||typeof e=="string"||i==="[object String]"?new Date(e):new Date(NaN)}function constructFrom(e,i){return e instanceof Date?new e.constructor(i):new Date(i)}const millisecondsInWeek=6048e5,millisecondsInDay=864e5;let defaultOptions={};function getDefaultOptions(){return defaultOptions}function startOfWeek(e,i){var g,h,b,_;const s=getDefaultOptions(),a=(i==null?void 0:i.weekStartsOn)??((h=(g=i==null?void 0:i.locale)==null?void 0:g.options)==null?void 0:h.weekStartsOn)??s.weekStartsOn??((_=(b=s.locale)==null?void 0:b.options)==null?void 0:_.weekStartsOn)??0,o=toDate(e),c=o.getDay(),d=(c<a?7:0)+c-a;return o.setDate(o.getDate()-d),o.setHours(0,0,0,0),o}function startOfISOWeek(e){return startOfWeek(e,{weekStartsOn:1})}function getISOWeekYear(e){const i=toDate(e),s=i.getFullYear(),a=constructFrom(e,0);a.setFullYear(s+1,0,4),a.setHours(0,0,0,0);const o=startOfISOWeek(a),c=constructFrom(e,0);c.setFullYear(s,0,4),c.setHours(0,0,0,0);const d=startOfISOWeek(c);return i.getTime()>=o.getTime()?s+1:i.getTime()>=d.getTime()?s:s-1}function startOfDay(e){const i=toDate(e);return i.setHours(0,0,0,0),i}function getTimezoneOffsetInMilliseconds(e){const i=toDate(e),s=new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()));return s.setUTCFullYear(i.getFullYear()),+e-+s}function differenceInCalendarDays(e,i){const s=startOfDay(e),a=startOfDay(i),o=+s-getTimezoneOffsetInMilliseconds(s),c=+a-getTimezoneOffsetInMilliseconds(a);return Math.round((o-c)/millisecondsInDay)}function startOfISOWeekYear(e){const i=getISOWeekYear(e),s=constructFrom(e,0);return s.setFullYear(i,0,4),s.setHours(0,0,0,0),startOfISOWeek(s)}function isDate(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function isValid(e){if(!isDate(e)&&typeof e!="number")return!1;const i=toDate(e);return!isNaN(Number(i))}function startOfYear(e){const i=toDate(e),s=constructFrom(e,0);return s.setFullYear(i.getFullYear(),0,1),s.setHours(0,0,0,0),s}const formatDistanceLocale={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},formatDistance=(e,i,s)=>{let a;const o=formatDistanceLocale[e];return typeof o=="string"?a=o:i===1?a=o.one:a=o.other.replace("{{count}}",i.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+a:a+" ago":a};function buildFormatLongFn(e){return(i={})=>{const s=i.width?String(i.width):e.defaultWidth;return e.formats[s]||e.formats[e.defaultWidth]}}const dateFormats={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},timeFormats={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},formatLong={date:buildFormatLongFn({formats:dateFormats,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats,defaultWidth:"full"})},formatRelativeLocale={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},formatRelative=(e,i,s,a)=>formatRelativeLocale[e];function buildLocalizeFn(e){return(i,s)=>{const a=s!=null&&s.context?String(s.context):"standalone";let o;if(a==="formatting"&&e.formattingValues){const d=e.defaultFormattingWidth||e.defaultWidth,g=s!=null&&s.width?String(s.width):d;o=e.formattingValues[g]||e.formattingValues[d]}else{const d=e.defaultWidth,g=s!=null&&s.width?String(s.width):e.defaultWidth;o=e.values[g]||e.values[d]}const c=e.argumentCallback?e.argumentCallback(i):i;return o[c]}}const eraValues={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},quarterValues={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},monthValues={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dayValues={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},formattingDayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ordinalNumber=(e,i)=>{const s=Number(e),a=s%100;if(a>20||a<10)switch(a%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},localize={ordinalNumber,era:buildLocalizeFn({values:eraValues,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues,defaultWidth:"wide",argumentCallback:e=>e-1}),month:buildLocalizeFn({values:monthValues,defaultWidth:"wide"}),day:buildLocalizeFn({values:dayValues,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues,defaultWidth:"wide",formattingValues:formattingDayPeriodValues,defaultFormattingWidth:"wide"})};function buildMatchFn(e){return(i,s={})=>{const a=s.width,o=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],c=i.match(o);if(!c)return null;const d=c[0],g=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],h=Array.isArray(g)?findIndex(g,$=>$.test(d)):findKey(g,$=>$.test(d));let b;b=e.valueCallback?e.valueCallback(h):h,b=s.valueCallback?s.valueCallback(b):b;const _=i.slice(d.length);return{value:b,rest:_}}}function findKey(e,i){for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&i(e[s]))return s}function findIndex(e,i){for(let s=0;s<e.length;s++)if(i(e[s]))return s}function buildMatchPatternFn(e){return(i,s={})=>{const a=i.match(e.matchPattern);if(!a)return null;const o=a[0],c=i.match(e.parsePattern);if(!c)return null;let d=e.valueCallback?e.valueCallback(c[0]):c[0];d=s.valueCallback?s.valueCallback(d):d;const g=i.slice(o.length);return{value:d,rest:g}}}const matchOrdinalNumberPattern=/^(\d+)(th|st|nd|rd)?/i,parseOrdinalNumberPattern=/\d+/i,matchEraPatterns={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},parseEraPatterns={any:[/^b/i,/^(a|c)/i]},matchQuarterPatterns={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},parseQuarterPatterns={any:[/1/i,/2/i,/3/i,/4/i]},matchMonthPatterns={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},parseMonthPatterns={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},matchDayPatterns={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},parseDayPatterns={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},matchDayPeriodPatterns={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},parseDayPeriodPatterns={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},match={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern,parsePattern:parseOrdinalNumberPattern,valueCallback:e=>parseInt(e,10)}),era:buildMatchFn({matchPatterns:matchEraPatterns,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns,defaultParseWidth:"any",valueCallback:e=>e+1}),month:buildMatchFn({matchPatterns:matchMonthPatterns,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns,defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:matchDayPatterns,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns,defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns,defaultMatchWidth:"any",parsePatterns:parseDayPeriodPatterns,defaultParseWidth:"any"})},enUS={code:"en-US",formatDistance,formatLong,formatRelative,localize,match,options:{weekStartsOn:0,firstWeekContainsDate:1}};function getDayOfYear(e){const i=toDate(e);return differenceInCalendarDays(i,startOfYear(i))+1}function getISOWeek(e){const i=toDate(e),s=+startOfISOWeek(i)-+startOfISOWeekYear(i);return Math.round(s/millisecondsInWeek)+1}function getWeekYear(e,i){var _,$,j,_e;const s=toDate(e),a=s.getFullYear(),o=getDefaultOptions(),c=(i==null?void 0:i.firstWeekContainsDate)??(($=(_=i==null?void 0:i.locale)==null?void 0:_.options)==null?void 0:$.firstWeekContainsDate)??o.firstWeekContainsDate??((_e=(j=o.locale)==null?void 0:j.options)==null?void 0:_e.firstWeekContainsDate)??1,d=constructFrom(e,0);d.setFullYear(a+1,0,c),d.setHours(0,0,0,0);const g=startOfWeek(d,i),h=constructFrom(e,0);h.setFullYear(a,0,c),h.setHours(0,0,0,0);const b=startOfWeek(h,i);return s.getTime()>=g.getTime()?a+1:s.getTime()>=b.getTime()?a:a-1}function startOfWeekYear(e,i){var g,h,b,_;const s=getDefaultOptions(),a=(i==null?void 0:i.firstWeekContainsDate)??((h=(g=i==null?void 0:i.locale)==null?void 0:g.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((_=(b=s.locale)==null?void 0:b.options)==null?void 0:_.firstWeekContainsDate)??1,o=getWeekYear(e,i),c=constructFrom(e,0);return c.setFullYear(o,0,a),c.setHours(0,0,0,0),startOfWeek(c,i)}function getWeek(e,i){const s=toDate(e),a=+startOfWeek(s,i)-+startOfWeekYear(s,i);return Math.round(a/millisecondsInWeek)+1}function addLeadingZeros(e,i){const s=e<0?"-":"",a=Math.abs(e).toString().padStart(i,"0");return s+a}const lightFormatters={y(e,i){const s=e.getFullYear(),a=s>0?s:1-s;return addLeadingZeros(i==="yy"?a%100:a,i.length)},M(e,i){const s=e.getMonth();return i==="M"?String(s+1):addLeadingZeros(s+1,2)},d(e,i){return addLeadingZeros(e.getDate(),i.length)},a(e,i){const s=e.getHours()/12>=1?"pm":"am";switch(i){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(e,i){return addLeadingZeros(e.getHours()%12||12,i.length)},H(e,i){return addLeadingZeros(e.getHours(),i.length)},m(e,i){return addLeadingZeros(e.getMinutes(),i.length)},s(e,i){return addLeadingZeros(e.getSeconds(),i.length)},S(e,i){const s=i.length,a=e.getMilliseconds(),o=Math.trunc(a*Math.pow(10,s-3));return addLeadingZeros(o,i.length)}},dayPeriodEnum={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},formatters={G:function(e,i,s){const a=e.getFullYear()>0?1:0;switch(i){case"G":case"GG":case"GGG":return s.era(a,{width:"abbreviated"});case"GGGGG":return s.era(a,{width:"narrow"});case"GGGG":default:return s.era(a,{width:"wide"})}},y:function(e,i,s){if(i==="yo"){const a=e.getFullYear(),o=a>0?a:1-a;return s.ordinalNumber(o,{unit:"year"})}return lightFormatters.y(e,i)},Y:function(e,i,s,a){const o=getWeekYear(e,a),c=o>0?o:1-o;if(i==="YY"){const d=c%100;return addLeadingZeros(d,2)}return i==="Yo"?s.ordinalNumber(c,{unit:"year"}):addLeadingZeros(c,i.length)},R:function(e,i){const s=getISOWeekYear(e);return addLeadingZeros(s,i.length)},u:function(e,i){const s=e.getFullYear();return addLeadingZeros(s,i.length)},Q:function(e,i,s){const a=Math.ceil((e.getMonth()+1)/3);switch(i){case"Q":return String(a);case"QQ":return addLeadingZeros(a,2);case"Qo":return s.ordinalNumber(a,{unit:"quarter"});case"QQQ":return s.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,i,s){const a=Math.ceil((e.getMonth()+1)/3);switch(i){case"q":return String(a);case"qq":return addLeadingZeros(a,2);case"qo":return s.ordinalNumber(a,{unit:"quarter"});case"qqq":return s.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,i,s){const a=e.getMonth();switch(i){case"M":case"MM":return lightFormatters.M(e,i);case"Mo":return s.ordinalNumber(a+1,{unit:"month"});case"MMM":return s.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(a,{width:"wide",context:"formatting"})}},L:function(e,i,s){const a=e.getMonth();switch(i){case"L":return String(a+1);case"LL":return addLeadingZeros(a+1,2);case"Lo":return s.ordinalNumber(a+1,{unit:"month"});case"LLL":return s.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(a,{width:"wide",context:"standalone"})}},w:function(e,i,s,a){const o=getWeek(e,a);return i==="wo"?s.ordinalNumber(o,{unit:"week"}):addLeadingZeros(o,i.length)},I:function(e,i,s){const a=getISOWeek(e);return i==="Io"?s.ordinalNumber(a,{unit:"week"}):addLeadingZeros(a,i.length)},d:function(e,i,s){return i==="do"?s.ordinalNumber(e.getDate(),{unit:"date"}):lightFormatters.d(e,i)},D:function(e,i,s){const a=getDayOfYear(e);return i==="Do"?s.ordinalNumber(a,{unit:"dayOfYear"}):addLeadingZeros(a,i.length)},E:function(e,i,s){const a=e.getDay();switch(i){case"E":case"EE":case"EEE":return s.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(a,{width:"short",context:"formatting"});case"EEEE":default:return s.day(a,{width:"wide",context:"formatting"})}},e:function(e,i,s,a){const o=e.getDay(),c=(o-a.weekStartsOn+8)%7||7;switch(i){case"e":return String(c);case"ee":return addLeadingZeros(c,2);case"eo":return s.ordinalNumber(c,{unit:"day"});case"eee":return s.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(o,{width:"short",context:"formatting"});case"eeee":default:return s.day(o,{width:"wide",context:"formatting"})}},c:function(e,i,s,a){const o=e.getDay(),c=(o-a.weekStartsOn+8)%7||7;switch(i){case"c":return String(c);case"cc":return addLeadingZeros(c,i.length);case"co":return s.ordinalNumber(c,{unit:"day"});case"ccc":return s.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(o,{width:"narrow",context:"standalone"});case"cccccc":return s.day(o,{width:"short",context:"standalone"});case"cccc":default:return s.day(o,{width:"wide",context:"standalone"})}},i:function(e,i,s){const a=e.getDay(),o=a===0?7:a;switch(i){case"i":return String(o);case"ii":return addLeadingZeros(o,i.length);case"io":return s.ordinalNumber(o,{unit:"day"});case"iii":return s.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(a,{width:"short",context:"formatting"});case"iiii":default:return s.day(a,{width:"wide",context:"formatting"})}},a:function(e,i,s){const o=e.getHours()/12>=1?"pm":"am";switch(i){case"a":case"aa":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,i,s){const a=e.getHours();let o;switch(a===12?o=dayPeriodEnum.noon:a===0?o=dayPeriodEnum.midnight:o=a/12>=1?"pm":"am",i){case"b":case"bb":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,i,s){const a=e.getHours();let o;switch(a>=17?o=dayPeriodEnum.evening:a>=12?o=dayPeriodEnum.afternoon:a>=4?o=dayPeriodEnum.morning:o=dayPeriodEnum.night,i){case"B":case"BB":case"BBB":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,i,s){if(i==="ho"){let a=e.getHours()%12;return a===0&&(a=12),s.ordinalNumber(a,{unit:"hour"})}return lightFormatters.h(e,i)},H:function(e,i,s){return i==="Ho"?s.ordinalNumber(e.getHours(),{unit:"hour"}):lightFormatters.H(e,i)},K:function(e,i,s){const a=e.getHours()%12;return i==="Ko"?s.ordinalNumber(a,{unit:"hour"}):addLeadingZeros(a,i.length)},k:function(e,i,s){let a=e.getHours();return a===0&&(a=24),i==="ko"?s.ordinalNumber(a,{unit:"hour"}):addLeadingZeros(a,i.length)},m:function(e,i,s){return i==="mo"?s.ordinalNumber(e.getMinutes(),{unit:"minute"}):lightFormatters.m(e,i)},s:function(e,i,s){return i==="so"?s.ordinalNumber(e.getSeconds(),{unit:"second"}):lightFormatters.s(e,i)},S:function(e,i){return lightFormatters.S(e,i)},X:function(e,i,s){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(i){case"X":return formatTimezoneWithOptionalMinutes(a);case"XXXX":case"XX":return formatTimezone(a);case"XXXXX":case"XXX":default:return formatTimezone(a,":")}},x:function(e,i,s){const a=e.getTimezoneOffset();switch(i){case"x":return formatTimezoneWithOptionalMinutes(a);case"xxxx":case"xx":return formatTimezone(a);case"xxxxx":case"xxx":default:return formatTimezone(a,":")}},O:function(e,i,s){const a=e.getTimezoneOffset();switch(i){case"O":case"OO":case"OOO":return"GMT"+formatTimezoneShort(a,":");case"OOOO":default:return"GMT"+formatTimezone(a,":")}},z:function(e,i,s){const a=e.getTimezoneOffset();switch(i){case"z":case"zz":case"zzz":return"GMT"+formatTimezoneShort(a,":");case"zzzz":default:return"GMT"+formatTimezone(a,":")}},t:function(e,i,s){const a=Math.trunc(e.getTime()/1e3);return addLeadingZeros(a,i.length)},T:function(e,i,s){const a=e.getTime();return addLeadingZeros(a,i.length)}};function formatTimezoneShort(e,i=""){const s=e>0?"-":"+",a=Math.abs(e),o=Math.trunc(a/60),c=a%60;return c===0?s+String(o):s+String(o)+i+addLeadingZeros(c,2)}function formatTimezoneWithOptionalMinutes(e,i){return e%60===0?(e>0?"-":"+")+addLeadingZeros(Math.abs(e)/60,2):formatTimezone(e,i)}function formatTimezone(e,i=""){const s=e>0?"-":"+",a=Math.abs(e),o=addLeadingZeros(Math.trunc(a/60),2),c=addLeadingZeros(a%60,2);return s+o+i+c}const dateLongFormatter=(e,i)=>{switch(e){case"P":return i.date({width:"short"});case"PP":return i.date({width:"medium"});case"PPP":return i.date({width:"long"});case"PPPP":default:return i.date({width:"full"})}},timeLongFormatter=(e,i)=>{switch(e){case"p":return i.time({width:"short"});case"pp":return i.time({width:"medium"});case"ppp":return i.time({width:"long"});case"pppp":default:return i.time({width:"full"})}},dateTimeLongFormatter=(e,i)=>{const s=e.match(/(P+)(p+)?/)||[],a=s[1],o=s[2];if(!o)return dateLongFormatter(e,i);let c;switch(a){case"P":c=i.dateTime({width:"short"});break;case"PP":c=i.dateTime({width:"medium"});break;case"PPP":c=i.dateTime({width:"long"});break;case"PPPP":default:c=i.dateTime({width:"full"});break}return c.replace("{{date}}",dateLongFormatter(a,i)).replace("{{time}}",timeLongFormatter(o,i))},longFormatters={p:timeLongFormatter,P:dateTimeLongFormatter},dayOfYearTokenRE=/^D+$/,weekYearTokenRE=/^Y+$/,throwTokens=["D","DD","YY","YYYY"];function isProtectedDayOfYearToken(e){return dayOfYearTokenRE.test(e)}function isProtectedWeekYearToken(e){return weekYearTokenRE.test(e)}function warnOrThrowProtectedError(e,i,s){const a=message(e,i,s);if(console.warn(a),throwTokens.includes(e))throw new RangeError(a)}function message(e,i,s){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${i}\`) for formatting ${a} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const formattingTokensRegExp=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,longFormattingTokensRegExp=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,escapedStringRegExp=/^'([^]*?)'?$/,doubleQuoteRegExp=/''/g,unescapedLatinCharacterRegExp=/[a-zA-Z]/;function format(e,i,s){var _,$,j,_e;const a=getDefaultOptions(),o=a.locale??enUS,c=a.firstWeekContainsDate??(($=(_=a.locale)==null?void 0:_.options)==null?void 0:$.firstWeekContainsDate)??1,d=a.weekStartsOn??((_e=(j=a.locale)==null?void 0:j.options)==null?void 0:_e.weekStartsOn)??0,g=toDate(e);if(!isValid(g))throw new RangeError("Invalid time value");let h=i.match(longFormattingTokensRegExp).map(rt=>{const it=rt[0];if(it==="p"||it==="P"){const st=longFormatters[it];return st(rt,o.formatLong)}return rt}).join("").match(formattingTokensRegExp).map(rt=>{if(rt==="''")return{isToken:!1,value:"'"};const it=rt[0];if(it==="'")return{isToken:!1,value:cleanEscapedString(rt)};if(formatters[it])return{isToken:!0,value:rt};if(it.match(unescapedLatinCharacterRegExp))throw new RangeError("Format string contains an unescaped latin alphabet character `"+it+"`");return{isToken:!1,value:rt}});o.localize.preprocessor&&(h=o.localize.preprocessor(g,h));const b={firstWeekContainsDate:c,weekStartsOn:d,locale:o};return h.map(rt=>{if(!rt.isToken)return rt.value;const it=rt.value;(isProtectedWeekYearToken(it)||isProtectedDayOfYearToken(it))&&warnOrThrowProtectedError(it,i,String(e));const st=formatters[it[0]];return st(g,it,o.localize,b)}).join("")}function cleanEscapedString(e){const i=e.match(escapedStringRegExp);return i?i[1].replace(doubleQuoteRegExp,"'"):e}function useAssignUsers(e){const[i,s]=reactExports.useState(!1),[a,o]=reactExports.useState(null);return{assignUsers:async d=>{s(!0),o(null);try{const g=d.map(b=>({user_id:b,assignment_id:e,status:"pending",score_status:"pending"})),{error:h}=await supabase.from("user_assignments").upsert(g);if(h)throw h}catch(g){throw o(g.message),g}finally{s(!1)}},loading:i,error:a}}function AssignUserModal({assignment:e,onClose:i}){const{users:s,loading:a}=useUsers(),{assignUsers:o,loading:c}=useAssignUsers(e.id),[d,g]=reactExports.useState([]),h=async b=>{b.preventDefault(),await o(d),i()};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:"Assign Users"}),jsxRuntimeExports.jsx("button",{onClick:i,className:"text-gray-500 hover:text-gray-700",children:jsxRuntimeExports.jsx(X,{size:20})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:h,className:"space-y-4",children:[a?jsxRuntimeExports.jsx("div",{className:"flex justify-center p-4",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-purple-700"})}):jsxRuntimeExports.jsx("div",{className:"max-h-60 overflow-y-auto",children:s.map(b=>jsxRuntimeExports.jsxs("label",{className:"flex items-center space-x-3 py-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",value:b.id,checked:d.includes(b.id),onChange:_=>{_.target.checked?g([...d,b.id]):g(d.filter($=>$!==b.id))},className:"h-4 w-4 text-purple-700 focus:ring-purple-500 border-gray-300 rounded"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-900",children:b.name})]},b.id))}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md",children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:c||d.length===0,className:"px-4 py-2 text-sm font-medium text-white bg-purple-700 hover:bg-purple-700 rounded-md disabled:opacity-50",children:c?"Assigning...":"Assign Selected Users"})]})]})]})})}function AssignmentGrid({assignments:e}){const[i,s]=React.useState(null);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(a=>jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:a.name}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["ID: ",a.assignment_id]})]}),jsxRuntimeExports.jsx(FileText,{className:"text-purple-500",size:24})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center text-sm",children:[jsxRuntimeExports.jsx(Award,{className:"text-purple-500 mr-2",size:16}),jsxRuntimeExports.jsxs("span",{children:["Points: ",a.points]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center text-sm",children:[jsxRuntimeExports.jsx(Calendar,{className:"text-fuchsia-500 mr-2",size:16}),jsxRuntimeExports.jsxs("span",{children:["Deadline: ",format(new Date(a.deadline),"PPp")]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center text-sm",children:[jsxRuntimeExports.jsx(Clock,{className:"text-orange-500 mr-2",size:16}),jsxRuntimeExports.jsxs("span",{children:["Duration: ",a.duration_hours," hours"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[jsxRuntimeExports.jsx("a",{href:a.pdf_path,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-purple-700 hover:text-purple-800",children:"View PDF"}),jsxRuntimeExports.jsx("button",{onClick:()=>s(a),className:"px-4 py-2 bg-purple-700 text-white text-sm rounded-md hover:bg-purple-700",children:"Assign Users"})]})]})},a.id))}),i&&jsxRuntimeExports.jsx(AssignUserModal,{assignment:i,onClose:()=>s(null)})]})}function AssignmentList$1(){const{assignments:e,loading:i,error:s}=useAssignments();return i?jsxRuntimeExports.jsx("div",{className:"flex justify-center p-8",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-700"})}):s?jsxRuntimeExports.jsxs("div",{className:"text-red-600 p-4 bg-red-50 rounded-lg",children:["Error loading assignments: ",s]}):e.length===0?jsxRuntimeExports.jsx("div",{className:"text-center py-12",children:jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"No assignments found. Create one to get started."})}):jsxRuntimeExports.jsx(AssignmentGrid,{assignments:e})}function useAssignmentUpload(){const[e,i]=reactExports.useState(!1),[s,a]=reactExports.useState(null);return{createAssignment:async c=>{i(!0),a(null);try{const{error:d}=await supabase.from("assignments").insert({assignment_id:c.assignment_id,name:c.name,points:c.points,deadline:c.deadline,duration_hours:c.duration_hours,pdf_path:c.pdf_path});if(d)throw d}catch(d){throw a(d.message),d}finally{i(!1)}},loading:e,error:s}}function validateAssignment(e){const i={};return e.assignment_id||(i.assignment_id="Assignment ID is required"),e.name||(i.name="Assignment name is required"),e.points?(e.points<0||e.points>100)&&(i.points="Points must be between 0 and 100"):i.points="Points are required",e.deadline?new Date(e.deadline)<new Date&&(i.deadline="Deadline must be in the future"):i.deadline="Deadline is required",e.duration_hours?e.duration_hours<1&&(i.duration_hours="Duration must be at least 1 hour"):i.duration_hours="Duration is required",i}function FormField({label:e,error:i,children:s}){return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e}),s,i&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-600",children:i})]})}function PDFSelector({value:e,onChange:i,error:s}){return jsxRuntimeExports.jsxs(FormField,{label:"PDF URL",error:s,children:[jsxRuntimeExports.jsx("input",{type:"url",value:e,onChange:a=>i(a.target.value),placeholder:"Enter the URL of the PDF file",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500",required:!0}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Enter a publicly accessible URL for the PDF file"})]})}function AssignmentForm({onClose:e}){const{createAssignment:i,loading:s}=useAssignmentUpload(),[a,o]=reactExports.useState(""),[c,d]=reactExports.useState(""),{values:g,errors:h,handleChange:b,handleSubmit:_,isSubmitting:$}=useForm({initialValues:{assignment_id:"",name:"",points:100,deadline:"",duration_hours:24},validate:validateAssignment,onSubmit:async j=>{if(!a){d("Please enter a PDF URL");return}d(""),await i({...j,pdf_path:a}),e()}});return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:"Create Assignment"}),jsxRuntimeExports.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700",children:jsxRuntimeExports.jsx(X,{size:20})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:_,className:"space-y-4",children:[jsxRuntimeExports.jsx(FormField,{label:"Assignment ID",error:h.assignment_id,children:jsxRuntimeExports.jsx("input",{type:"text",name:"assignment_id",value:g.assignment_id,onChange:b,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500",required:!0})}),jsxRuntimeExports.jsx(FormField,{label:"Assignment Name",error:h.name,children:jsxRuntimeExports.jsx("input",{type:"text",name:"name",value:g.name,onChange:b,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500",required:!0})}),jsxRuntimeExports.jsx(FormField,{label:"Points",error:h.points,children:jsxRuntimeExports.jsx("input",{type:"number",name:"points",min:"0",max:"100",value:g.points,onChange:b,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500",required:!0})}),jsxRuntimeExports.jsx(FormField,{label:"Deadline",error:h.deadline,children:jsxRuntimeExports.jsx("input",{type:"datetime-local",name:"deadline",value:g.deadline,onChange:b,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500",required:!0})}),jsxRuntimeExports.jsx(FormField,{label:"Duration (hours)",error:h.duration_hours,children:jsxRuntimeExports.jsx("input",{type:"number",name:"duration_hours",min:"1",value:g.duration_hours,onChange:b,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500",required:!0})}),jsxRuntimeExports.jsx(PDFSelector,{value:a,onChange:o,error:c}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md",children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:$||s,className:"px-4 py-2 text-sm font-medium text-white bg-purple-700 hover:bg-purple-700 rounded-md disabled:opacity-50",children:$||s?"Creating...":"Create Assignment"})]})]})]})})}function AssignmentManagement(){const[e,i]=reactExports.useState(!1);return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Assignment Management"}),jsxRuntimeExports.jsxs("button",{onClick:()=>i(!0),className:"bg-purple-700 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[jsxRuntimeExports.jsx(Plus,{size:20}),"Create Assignment"]})]}),e&&jsxRuntimeExports.jsx(AssignmentForm,{onClose:()=>i(!1)}),jsxRuntimeExports.jsx(AssignmentList$1,{})]})}function useStats(){const[e,i]=reactExports.useState(null),[s,a]=reactExports.useState(!0),[o,c]=reactExports.useState(null);return reactExports.useEffect(()=>{async function d(){try{const[{count:g},{count:h},{count:b},{count:_}]=await Promise.all([supabase.from("regular_users").select("*",{count:"exact",head:!0}),supabase.from("assignments").select("*",{count:"exact",head:!0}),supabase.from("user_assignments").select("*",{count:"exact",head:!0}).eq("status","completed"),supabase.from("user_assignments").select("*",{count:"exact",head:!0}).eq("score_status","pending")]);i({totalUsers:g||0,totalAssignments:h||0,completedSubmissions:b||0,pendingReviews:_||0})}catch(g){c(g.message)}finally{a(!1)}}d()},[]),{stats:e,loading:s,error:o}}function AdminOverview(){const e=useNavigate(),{stats:i,loading:s}=useStats(),a=[{title:"Total Users",value:(i==null?void 0:i.totalUsers)||0,icon:Users,color:"bg-purple-500",onClick:()=>e("/admin/users")},{title:"Total Assignments",value:(i==null?void 0:i.totalAssignments)||0,icon:FileText,color:"bg-fuchsia-500",onClick:()=>e("/admin/assignments")},{title:"Completed Submissions",value:(i==null?void 0:i.completedSubmissions)||0,icon:CheckCircle,color:"bg-purple-500"},{title:"Pending Reviews",value:(i==null?void 0:i.pendingReviews)||0,icon:Clock,color:"bg-yellow-500"}];return s?jsxRuntimeExports.jsx("div",{className:"h-full flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-700"})}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Dashboard Overview"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:a.map(o=>{const c=o.icon;return jsxRuntimeExports.jsx("div",{onClick:o.onClick,className:`p-6 rounded-lg shadow-sm ${o.onClick?"cursor-pointer transform hover:scale-105 transition-transform":""}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:`p-3 rounded-full ${o.color}`,children:jsxRuntimeExports.jsx(c,{className:"w-6 h-6 text-white"})}),jsxRuntimeExports.jsxs("div",{className:"ml-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-medium text-gray-500",children:o.title}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:o.value})]})]})},o.title)})})]})}function useSubmissions(){const[e,i]=reactExports.useState([]),[s,a]=reactExports.useState(!0),[o,c]=reactExports.useState(null);return reactExports.useEffect(()=>{async function d(){try{const{data:g,error:h}=await supabase.from("user_assignments").select(`
            *,
            user:regular_users(name, email),
            assignment:assignments(name, assignment_id, pdf_path)
          `).eq("status","completed").order("submitted_at",{ascending:!1});if(h)throw h;i(g)}catch(g){c(g.message)}finally{a(!1)}}d()},[]),{submissions:e,loading:s,error:o}}function useSubmissionReview(e){const[i,s]=reactExports.useState(!1),[a,o]=reactExports.useState(null);return{submitReview:async d=>{s(!0);try{const{error:g}=await supabase.from("user_assignments").update({score:d,score_status:"scored"}).eq("id",e);if(g)throw g}catch(g){throw o(g.message),g}finally{s(!1)}},loading:i,error:a}}function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf$1={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(i,s){module.exports=i.pdfjsLib=s()})(globalThis,()=>(()=>{var __webpack_modules__=[,(e,i)=>{var Ln;Object.defineProperty(i,"__esModule",{value:!0}),i.VerbosityLevel=i.Util=i.UnknownErrorException=i.UnexpectedResponseException=i.TextRenderingMode=i.RenderingIntentFlag=i.PromiseCapability=i.PermissionFlag=i.PasswordResponses=i.PasswordException=i.PageActionEventType=i.OPS=i.MissingPDFException=i.MAX_IMAGE_SIZE_TO_CACHE=i.LINE_FACTOR=i.LINE_DESCENT_FACTOR=i.InvalidPDFException=i.ImageKind=i.IDENTITY_MATRIX=i.FormatError=i.FeatureTest=i.FONT_IDENTITY_MATRIX=i.DocumentActionEventType=i.CMapCompressionType=i.BaseException=i.BASELINE_FACTOR=i.AnnotationType=i.AnnotationReplyType=i.AnnotationPrefix=i.AnnotationMode=i.AnnotationFlag=i.AnnotationFieldFlag=i.AnnotationEditorType=i.AnnotationEditorPrefix=i.AnnotationEditorParamsType=i.AnnotationBorderStyleType=i.AnnotationActionEventType=i.AbortException=void 0,i.assert=wt,i.bytesToString=zt,i.createValidAbsoluteUrl=_t,i.getModificationDate=dn,i.getUuid=wn,i.getVerbosityLevel=jt,i.info=Ot,i.isArrayBuffer=qt,i.isArrayEqual=hn,i.isNodeJS=void 0,i.normalizeUnicode=mn,i.objectFromMap=nn,i.objectSize=Jt,i.setVerbosityLevel=kt,i.shadow=xt,i.string32=Xt,i.stringToBytes=Yt,i.stringToPDFString=Ut,i.stringToUTF8String=rn,i.unreachable=Lt,i.utf8StringToString=tn,i.warn=Pt;const s=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");i.isNodeJS=s;const a=[1,0,0,1,0,0];i.IDENTITY_MATRIX=a;const o=[.001,0,0,.001,0,0];i.FONT_IDENTITY_MATRIX=o;const c=1e7;i.MAX_IMAGE_SIZE_TO_CACHE=c;const d=1.35;i.LINE_FACTOR=d;const g=.35;i.LINE_DESCENT_FACTOR=g;const h=g/d;i.BASELINE_FACTOR=h;const b={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};i.RenderingIntentFlag=b;const _={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};i.AnnotationMode=_;const $="pdfjs_internal_editor_";i.AnnotationEditorPrefix=$;const j={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};i.AnnotationEditorType=j;const _e={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};i.AnnotationEditorParamsType=_e;const rt={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};i.PermissionFlag=rt;const it={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};i.TextRenderingMode=it;const st={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};i.ImageKind=st;const et={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};i.AnnotationType=et;const tt={GROUP:"Group",REPLY:"R"};i.AnnotationReplyType=tt;const ot={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};i.AnnotationFlag=ot;const nt={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};i.AnnotationFieldFlag=nt;const at={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};i.AnnotationBorderStyleType=at;const dt={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};i.AnnotationActionEventType=dt;const ut={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};i.DocumentActionEventType=ut;const ct={O:"PageOpen",C:"PageClose"};i.PageActionEventType=ct;const ht={ERRORS:0,WARNINGS:1,INFOS:5};i.VerbosityLevel=ht;const mt={NONE:0,BINARY:1};i.CMapCompressionType=mt;const lt={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};i.OPS=lt;const ft={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};i.PasswordResponses=ft;let vt=ht.WARNINGS;function kt(un){Number.isInteger(un)&&(vt=un)}function jt(){return vt}function Ot(un){vt>=ht.INFOS&&console.log(`Info: ${un}`)}function Pt(un){vt>=ht.WARNINGS&&console.log(`Warning: ${un}`)}function Lt(un){throw new Error(un)}function wt(un,Zt){un||Lt(Zt)}function St(un){switch(un==null?void 0:un.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function _t(un,Zt=null,en=null){if(!un)return null;try{if(en&&typeof un=="string"){if(en.addDefaultProtocol&&un.startsWith("www.")){const Nn=un.match(/\./g);(Nn==null?void 0:Nn.length)>=2&&(un=`http://${un}`)}if(en.tryConvertEncoding)try{un=rn(un)}catch{}}const vn=Zt?new URL(un,Zt):new URL(un);if(St(vn))return vn}catch{}return null}function xt(un,Zt,en,vn=!1){return Object.defineProperty(un,Zt,{value:en,enumerable:!vn,configurable:!0,writable:!1}),en}const pt=function(){function Zt(en,vn){this.constructor===Zt&&Lt("Cannot initialize BaseException."),this.message=en,this.name=vn}return Zt.prototype=new Error,Zt.constructor=Zt,Zt}();i.BaseException=pt;class gt extends pt{constructor(Zt,en){super(Zt,"PasswordException"),this.code=en}}i.PasswordException=gt;class Et extends pt{constructor(Zt,en){super(Zt,"UnknownErrorException"),this.details=en}}i.UnknownErrorException=Et;class bt extends pt{constructor(Zt){super(Zt,"InvalidPDFException")}}i.InvalidPDFException=bt;class At extends pt{constructor(Zt){super(Zt,"MissingPDFException")}}i.MissingPDFException=At;class Tt extends pt{constructor(Zt,en){super(Zt,"UnexpectedResponseException"),this.status=en}}i.UnexpectedResponseException=Tt;class Nt extends pt{constructor(Zt){super(Zt,"FormatError")}}i.FormatError=Nt;class Dt extends pt{constructor(Zt){super(Zt,"AbortException")}}i.AbortException=Dt;function zt(un){(typeof un!="object"||(un==null?void 0:un.length)===void 0)&&Lt("Invalid argument for bytesToString");const Zt=un.length,en=8192;if(Zt<en)return String.fromCharCode.apply(null,un);const vn=[];for(let Nn=0;Nn<Zt;Nn+=en){const On=Math.min(Nn+en,Zt),$t=un.subarray(Nn,On);vn.push(String.fromCharCode.apply(null,$t))}return vn.join("")}function Yt(un){typeof un!="string"&&Lt("Invalid argument for stringToBytes");const Zt=un.length,en=new Uint8Array(Zt);for(let vn=0;vn<Zt;++vn)en[vn]=un.charCodeAt(vn)&255;return en}function Xt(un){return String.fromCharCode(un>>24&255,un>>16&255,un>>8&255,un&255)}function Jt(un){return Object.keys(un).length}function nn(un){const Zt=Object.create(null);for(const[en,vn]of un)Zt[en]=vn;return Zt}function Wt(){const un=new Uint8Array(4);return un[0]=1,new Uint32Array(un.buffer,0,1)[0]===1}function Ht(){try{return new Function(""),!0}catch{return!1}}class Rt{static get isLittleEndian(){return xt(this,"isLittleEndian",Wt())}static get isEvalSupported(){return xt(this,"isEvalSupported",Ht())}static get isOffscreenCanvasSupported(){return xt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?xt(this,"platform",{isWin:!1,isMac:!1}):xt(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var Zt,en;return xt(this,"isCSSRoundSupported",(en=(Zt=globalThis.CSS)==null?void 0:Zt.supports)==null?void 0:en.call(Zt,"width: round(1.5px, 1px)"))}}i.FeatureTest=Rt;const Ct=[...Array(256).keys()].map(un=>un.toString(16).padStart(2,"0"));class Ft{static makeHexColor(Zt,en,vn){return`#${Ct[Zt]}${Ct[en]}${Ct[vn]}`}static scaleMinMax(Zt,en){let vn;Zt[0]?(Zt[0]<0&&(vn=en[0],en[0]=en[1],en[1]=vn),en[0]*=Zt[0],en[1]*=Zt[0],Zt[3]<0&&(vn=en[2],en[2]=en[3],en[3]=vn),en[2]*=Zt[3],en[3]*=Zt[3]):(vn=en[0],en[0]=en[2],en[2]=vn,vn=en[1],en[1]=en[3],en[3]=vn,Zt[1]<0&&(vn=en[2],en[2]=en[3],en[3]=vn),en[2]*=Zt[1],en[3]*=Zt[1],Zt[2]<0&&(vn=en[0],en[0]=en[1],en[1]=vn),en[0]*=Zt[2],en[1]*=Zt[2]),en[0]+=Zt[4],en[1]+=Zt[4],en[2]+=Zt[5],en[3]+=Zt[5]}static transform(Zt,en){return[Zt[0]*en[0]+Zt[2]*en[1],Zt[1]*en[0]+Zt[3]*en[1],Zt[0]*en[2]+Zt[2]*en[3],Zt[1]*en[2]+Zt[3]*en[3],Zt[0]*en[4]+Zt[2]*en[5]+Zt[4],Zt[1]*en[4]+Zt[3]*en[5]+Zt[5]]}static applyTransform(Zt,en){const vn=Zt[0]*en[0]+Zt[1]*en[2]+en[4],Nn=Zt[0]*en[1]+Zt[1]*en[3]+en[5];return[vn,Nn]}static applyInverseTransform(Zt,en){const vn=en[0]*en[3]-en[1]*en[2],Nn=(Zt[0]*en[3]-Zt[1]*en[2]+en[2]*en[5]-en[4]*en[3])/vn,On=(-Zt[0]*en[1]+Zt[1]*en[0]+en[4]*en[1]-en[5]*en[0])/vn;return[Nn,On]}static getAxialAlignedBoundingBox(Zt,en){const vn=this.applyTransform(Zt,en),Nn=this.applyTransform(Zt.slice(2,4),en),On=this.applyTransform([Zt[0],Zt[3]],en),$t=this.applyTransform([Zt[2],Zt[1]],en);return[Math.min(vn[0],Nn[0],On[0],$t[0]),Math.min(vn[1],Nn[1],On[1],$t[1]),Math.max(vn[0],Nn[0],On[0],$t[0]),Math.max(vn[1],Nn[1],On[1],$t[1])]}static inverseTransform(Zt){const en=Zt[0]*Zt[3]-Zt[1]*Zt[2];return[Zt[3]/en,-Zt[1]/en,-Zt[2]/en,Zt[0]/en,(Zt[2]*Zt[5]-Zt[4]*Zt[3])/en,(Zt[4]*Zt[1]-Zt[5]*Zt[0])/en]}static singularValueDecompose2dScale(Zt){const en=[Zt[0],Zt[2],Zt[1],Zt[3]],vn=Zt[0]*en[0]+Zt[1]*en[2],Nn=Zt[0]*en[1]+Zt[1]*en[3],On=Zt[2]*en[0]+Zt[3]*en[2],$t=Zt[2]*en[1]+Zt[3]*en[3],on=(vn+$t)/2,fn=Math.sqrt((vn+$t)**2-4*(vn*$t-On*Nn))/2,_n=on+fn||1,An=on-fn||1;return[Math.sqrt(_n),Math.sqrt(An)]}static normalizeRect(Zt){const en=Zt.slice(0);return Zt[0]>Zt[2]&&(en[0]=Zt[2],en[2]=Zt[0]),Zt[1]>Zt[3]&&(en[1]=Zt[3],en[3]=Zt[1]),en}static intersect(Zt,en){const vn=Math.max(Math.min(Zt[0],Zt[2]),Math.min(en[0],en[2])),Nn=Math.min(Math.max(Zt[0],Zt[2]),Math.max(en[0],en[2]));if(vn>Nn)return null;const On=Math.max(Math.min(Zt[1],Zt[3]),Math.min(en[1],en[3])),$t=Math.min(Math.max(Zt[1],Zt[3]),Math.max(en[1],en[3]));return On>$t?null:[vn,On,Nn,$t]}static bezierBoundingBox(Zt,en,vn,Nn,On,$t,on,fn){const _n=[],An=[[],[]];let gn,It,Mt,Vt,sn,an,ln,cn;for(let Tn=0;Tn<2;++Tn){if(Tn===0?(It=6*Zt-12*vn+6*On,gn=-3*Zt+9*vn-9*On+3*on,Mt=3*vn-3*Zt):(It=6*en-12*Nn+6*$t,gn=-3*en+9*Nn-9*$t+3*fn,Mt=3*Nn-3*en),Math.abs(gn)<1e-12){if(Math.abs(It)<1e-12)continue;Vt=-Mt/It,0<Vt&&Vt<1&&_n.push(Vt);continue}ln=It*It-4*Mt*gn,cn=Math.sqrt(ln),!(ln<0)&&(sn=(-It+cn)/(2*gn),0<sn&&sn<1&&_n.push(sn),an=(-It-cn)/(2*gn),0<an&&an<1&&_n.push(an))}let En=_n.length,xn;const pn=En;for(;En--;)Vt=_n[En],xn=1-Vt,An[0][En]=xn*xn*xn*Zt+3*xn*xn*Vt*vn+3*xn*Vt*Vt*On+Vt*Vt*Vt*on,An[1][En]=xn*xn*xn*en+3*xn*xn*Vt*Nn+3*xn*Vt*Vt*$t+Vt*Vt*Vt*fn;return An[0][pn]=Zt,An[1][pn]=en,An[0][pn+1]=on,An[1][pn+1]=fn,An[0].length=An[1].length=pn+2,[Math.min(...An[0]),Math.min(...An[1]),Math.max(...An[0]),Math.max(...An[1])]}}i.Util=Ft;const Bt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Ut(un){if(un[0]>=""){let en;if(un[0]===""&&un[1]===""?en="utf-16be":un[0]===""&&un[1]===""?en="utf-16le":un[0]===""&&un[1]===""&&un[2]===""&&(en="utf-8"),en)try{const vn=new TextDecoder(en,{fatal:!0}),Nn=Yt(un);return vn.decode(Nn)}catch(vn){Pt(`stringToPDFString: "${vn}".`)}}const Zt=[];for(let en=0,vn=un.length;en<vn;en++){const Nn=Bt[un.charCodeAt(en)];Zt.push(Nn?String.fromCharCode(Nn):un.charAt(en))}return Zt.join("")}function rn(un){return decodeURIComponent(escape(un))}function tn(un){return unescape(encodeURIComponent(un))}function qt(un){return typeof un=="object"&&(un==null?void 0:un.byteLength)!==void 0}function hn(un,Zt){if(un.length!==Zt.length)return!1;for(let en=0,vn=un.length;en<vn;en++)if(un[en]!==Zt[en])return!1;return!0}function dn(un=new Date){return[un.getUTCFullYear().toString(),(un.getUTCMonth()+1).toString().padStart(2,"0"),un.getUTCDate().toString().padStart(2,"0"),un.getUTCHours().toString().padStart(2,"0"),un.getUTCMinutes().toString().padStart(2,"0"),un.getUTCSeconds().toString().padStart(2,"0")].join("")}class yn{constructor(){Kt(this,Ln,!1);this.promise=new Promise((Zt,en)=>{this.resolve=vn=>{Qt(this,Ln,!0),Zt(vn)},this.reject=vn=>{Qt(this,Ln,!0),en(vn)}})}get settled(){return yt(this,Ln)}}Ln=new WeakMap,i.PromiseCapability=yn;let jn=null,kn=null;function mn(un){return jn||(jn=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,kn=new Map([["","t"]])),un.replaceAll(jn,(Zt,en,vn)=>en?en.normalize("NFKC"):kn.get(vn))}function wn(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const un=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(un);else for(let Zt=0;Zt<32;Zt++)un[Zt]=Math.floor(Math.random()*255);return zt(un)}const Pn="pdfjs_internal_id_";i.AnnotationPrefix=Pn},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var e,s,a,o,Vn,sr,g,h,b,_,$,j,_e,rt,it,ar,et,tt,br,nt,at;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(ut){if(typeof ut=="string"||ut instanceof URL?ut={url:ut}:(0,_util.isArrayBuffer)(ut)&&(ut={data:ut}),typeof ut!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!ut.url&&!ut.data&&!ut.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const ct=new PDFDocumentLoadingTask,{docId:ht}=ct,mt=ut.url?getUrlProp(ut.url):null,lt=ut.data?getDataProp(ut.data):null,ft=ut.httpHeaders||null,vt=ut.withCredentials===!0,kt=ut.password??null,jt=ut.range instanceof PDFDataRangeTransport?ut.range:null,Ot=Number.isInteger(ut.rangeChunkSize)&&ut.rangeChunkSize>0?ut.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let Pt=ut.worker instanceof PDFWorker?ut.worker:null;const Lt=ut.verbosity,wt=typeof ut.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(ut.docBaseUrl)?ut.docBaseUrl:null,St=typeof ut.cMapUrl=="string"?ut.cMapUrl:null,_t=ut.cMapPacked!==!1,xt=ut.CMapReaderFactory||DefaultCMapReaderFactory,pt=typeof ut.standardFontDataUrl=="string"?ut.standardFontDataUrl:null,gt=ut.StandardFontDataFactory||DefaultStandardFontDataFactory,Et=ut.stopAtErrors!==!0,bt=Number.isInteger(ut.maxImageSize)&&ut.maxImageSize>-1?ut.maxImageSize:-1,At=ut.isEvalSupported!==!1,Tt=typeof ut.isOffscreenCanvasSupported=="boolean"?ut.isOffscreenCanvasSupported:!_util.isNodeJS,Nt=Number.isInteger(ut.canvasMaxAreaInBytes)?ut.canvasMaxAreaInBytes:-1,Dt=typeof ut.disableFontFace=="boolean"?ut.disableFontFace:_util.isNodeJS,zt=ut.fontExtraProperties===!0,Yt=ut.enableXfa===!0,Xt=ut.ownerDocument||globalThis.document,Jt=ut.disableRange===!0,nn=ut.disableStream===!0,Wt=ut.disableAutoFetch===!0,Ht=ut.pdfBug===!0,Rt=jt?jt.length:ut.length??NaN,Ct=typeof ut.useSystemFonts=="boolean"?ut.useSystemFonts:!_util.isNodeJS&&!Dt,Ft=typeof ut.useWorkerFetch=="boolean"?ut.useWorkerFetch:xt===_display_utils.DOMCMapReaderFactory&&gt===_display_utils.DOMStandardFontDataFactory&&St&&pt&&(0,_display_utils.isValidFetchUrl)(St,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(pt,document.baseURI),Bt=ut.canvasFactory||new DefaultCanvasFactory({ownerDocument:Xt}),Ut=ut.filterFactory||new DefaultFilterFactory({docId:ht,ownerDocument:Xt}),rn=null;(0,_util.setVerbosityLevel)(Lt);const tn={canvasFactory:Bt,filterFactory:Ut};if(Ft||(tn.cMapReaderFactory=new xt({baseUrl:St,isCompressed:_t}),tn.standardFontDataFactory=new gt({baseUrl:pt})),!Pt){const dn={verbosity:Lt,port:_worker_options.GlobalWorkerOptions.workerPort};Pt=dn.port?PDFWorker.fromPort(dn):new PDFWorker(dn),ct._worker=Pt}const qt={docId:ht,apiVersion:"3.11.174",data:lt,password:kt,disableAutoFetch:Wt,rangeChunkSize:Ot,length:Rt,docBaseUrl:wt,enableXfa:Yt,evaluatorOptions:{maxImageSize:bt,disableFontFace:Dt,ignoreErrors:Et,isEvalSupported:At,isOffscreenCanvasSupported:Tt,canvasMaxAreaInBytes:Nt,fontExtraProperties:zt,useSystemFonts:Ct,cMapUrl:Ft?St:null,standardFontDataUrl:Ft?pt:null}},hn={ignoreErrors:Et,isEvalSupported:At,disableFontFace:Dt,fontExtraProperties:zt,enableXfa:Yt,ownerDocument:Xt,disableAutoFetch:Wt,pdfBug:Ht,styleElement:rn};return Pt.promise.then(function(){if(ct.destroyed)throw new Error("Loading aborted");const dn=_fetchDocument(Pt,qt),yn=new Promise(function(jn){let kn;jt?kn=new _transport_stream.PDFDataTransportStream({length:Rt,initialData:jt.initialData,progressiveDone:jt.progressiveDone,contentDispositionFilename:jt.contentDispositionFilename,disableRange:Jt,disableStream:nn},jt):lt||(kn=(wn=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(wn):(0,_display_utils.isValidFetchUrl)(wn.url)?new _displayFetch_stream.PDFFetchStream(wn):new _displayNetwork.PDFNetworkStream(wn))({url:mt,length:Rt,httpHeaders:ft,withCredentials:vt,rangeChunkSize:Ot,disableRange:Jt,disableStream:nn})),jn(kn)});return Promise.all([dn,yn]).then(function([jn,kn]){if(ct.destroyed)throw new Error("Loading aborted");const mn=new _message_handler.MessageHandler(ht,jn,Pt.port),wn=new WorkerTransport(mn,ct,kn,hn,tn);ct._transport=wn,mn.send("Ready",null)})}).catch(ct._capability.reject),ct}async function _fetchDocument(ut,ct){if(ut.destroyed)throw new Error("Worker was destroyed");const ht=await ut.messageHandler.sendWithPromise("GetDocRequest",ct,ct.data?[ct.data.buffer]:null);if(ut.destroyed)throw new Error("Worker was destroyed");return ht}function getUrlProp(ut){if(ut instanceof URL)return ut.href;try{return new URL(ut,window.location).href}catch{if(_util.isNodeJS&&typeof ut=="string")return ut}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(ut){if(_util.isNodeJS&&typeof Buffer<"u"&&ut instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(ut instanceof Uint8Array&&ut.byteLength===ut.buffer.byteLength)return ut;if(typeof ut=="string")return(0,_util.stringToBytes)(ut);if(typeof ut=="object"&&!isNaN(ut==null?void 0:ut.length)||(0,_util.isArrayBuffer)(ut))return new Uint8Array(ut);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const i=class i{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${Zn(i,e)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var ct,ht,mt;this.destroyed=!0;try{(ct=this._worker)!=null&&ct.port&&(this._worker._pendingDestroy=!0),await((ht=this._transport)==null?void 0:ht.destroy())}catch(lt){throw(mt=this._worker)!=null&&mt.port&&delete this._worker._pendingDestroy,lt}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};e=new WeakMap,Kt(i,e,0);let PDFDocumentLoadingTask=i;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(ct,ht,mt=!1,lt=null){this.length=ct,this.initialData=ht,this.progressiveDone=mt,this.contentDispositionFilename=lt,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(ct){this._rangeListeners.push(ct)}addProgressListener(ct){this._progressListeners.push(ct)}addProgressiveReadListener(ct){this._progressiveReadListeners.push(ct)}addProgressiveDoneListener(ct){this._progressiveDoneListeners.push(ct)}onDataRange(ct,ht){for(const mt of this._rangeListeners)mt(ct,ht)}onDataProgress(ct,ht){this._readyCapability.promise.then(()=>{for(const mt of this._progressListeners)mt(ct,ht)})}onDataProgressiveRead(ct){this._readyCapability.promise.then(()=>{for(const ht of this._progressiveReadListeners)ht(ct)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const ct of this._progressiveDoneListeners)ct()})}transportReady(){this._readyCapability.resolve()}requestDataRange(ct,ht){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(ct,ht){this._pdfInfo=ct,this._transport=ht,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(mt=>{if(!mt)return mt;const lt=[];for(const ft in mt)lt.push(...mt[ft]);return lt}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(ct){return this._transport.getPage(ct)}getPageIndex(ct){return this._transport.getPageIndex(ct)}getDestinations(){return this._transport.getDestinations()}getDestination(ct){return this._transport.getDestination(ct)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(ct=!1){return this._transport.startCleanup(ct||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(ct,ht,mt,lt=!1){Kt(this,o);Kt(this,s,null);Kt(this,a,!1);this._pageIndex=ct,this._pageInfo=ht,this._transport=mt,this._stats=lt?new _display_utils.StatTimer:null,this._pdfBug=lt,this.commonObjs=mt.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:ct,rotation:ht=this.rotate,offsetX:mt=0,offsetY:lt=0,dontFlip:ft=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:ct,rotation:ht,offsetX:mt,offsetY:lt,dontFlip:ft})}getAnnotations({intent:ct="display"}={}){const ht=this._transport.getRenderingIntent(ct);return this._transport.getAnnotations(this._pageIndex,ht.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var ct;return((ct=this._transport._htmlForXfa)==null?void 0:ct.children[this._pageIndex])||null}render({canvasContext:ct,viewport:ht,intent:mt="display",annotationMode:lt=_util.AnnotationMode.ENABLE,transform:ft=null,background:vt=null,optionalContentConfigPromise:kt=null,annotationCanvasMap:jt=null,pageColors:Ot=null,printAnnotationStorage:Pt=null}){var gt,Et;(gt=this._stats)==null||gt.time("Overall");const Lt=this._transport.getRenderingIntent(mt,lt,Pt);Qt(this,a,!1),Gt(this,o,sr).call(this),kt||(kt=this._transport.getOptionalContentConfig());let wt=this._intentStates.get(Lt.cacheKey);wt||(wt=Object.create(null),this._intentStates.set(Lt.cacheKey,wt)),wt.streamReaderCancelTimeout&&(clearTimeout(wt.streamReaderCancelTimeout),wt.streamReaderCancelTimeout=null);const St=!!(Lt.renderingIntent&_util.RenderingIntentFlag.PRINT);wt.displayReadyCapability||(wt.displayReadyCapability=new _util.PromiseCapability,wt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Et=this._stats)==null||Et.time("Page Request"),this._pumpOperatorList(Lt));const _t=bt=>{var At,Tt;wt.renderTasks.delete(xt),(this._maybeCleanupAfterRender||St)&&Qt(this,a,!0),Gt(this,o,Vn).call(this,!St),bt?(xt.capability.reject(bt),this._abortOperatorList({intentState:wt,reason:bt instanceof Error?bt:new Error(bt)})):xt.capability.resolve(),(At=this._stats)==null||At.timeEnd("Rendering"),(Tt=this._stats)==null||Tt.timeEnd("Overall")},xt=new InternalRenderTask({callback:_t,params:{canvasContext:ct,viewport:ht,transform:ft,background:vt},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:jt,operatorList:wt.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!St,pdfBug:this._pdfBug,pageColors:Ot});(wt.renderTasks||(wt.renderTasks=new Set)).add(xt);const pt=xt.task;return Promise.all([wt.displayReadyCapability.promise,kt]).then(([bt,At])=>{var Tt;if(this.destroyed){_t();return}(Tt=this._stats)==null||Tt.time("Rendering"),xt.initializeGraphics({transparency:bt,optionalContentConfig:At}),xt.operatorListChanged()}).catch(_t),pt}getOperatorList({intent:ct="display",annotationMode:ht=_util.AnnotationMode.ENABLE,printAnnotationStorage:mt=null}={}){var jt;function lt(){vt.operatorList.lastChunk&&(vt.opListReadCapability.resolve(vt.operatorList),vt.renderTasks.delete(kt))}const ft=this._transport.getRenderingIntent(ct,ht,mt,!0);let vt=this._intentStates.get(ft.cacheKey);vt||(vt=Object.create(null),this._intentStates.set(ft.cacheKey,vt));let kt;return vt.opListReadCapability||(kt=Object.create(null),kt.operatorListChanged=lt,vt.opListReadCapability=new _util.PromiseCapability,(vt.renderTasks||(vt.renderTasks=new Set)).add(kt),vt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(jt=this._stats)==null||jt.time("Page Request"),this._pumpOperatorList(ft)),vt.opListReadCapability.promise}streamTextContent({includeMarkedContent:ct=!1,disableNormalization:ht=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:ct===!0,disableNormalization:ht===!0},{highWaterMark:100,size(lt){return lt.items.length}})}getTextContent(ct={}){if(this._transport._htmlForXfa)return this.getXfa().then(mt=>_xfa_text.XfaText.textContent(mt));const ht=this.streamTextContent(ct);return new Promise(function(mt,lt){function ft(){vt.read().then(function({value:jt,done:Ot}){if(Ot){mt(kt);return}Object.assign(kt.styles,jt.styles),kt.items.push(...jt.items),ft()},lt)}const vt=ht.getReader(),kt={items:[],styles:Object.create(null)};ft()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const ct=[];for(const ht of this._intentStates.values())if(this._abortOperatorList({intentState:ht,reason:new Error("Page was destroyed."),force:!0}),!ht.opListReadCapability)for(const mt of ht.renderTasks)ct.push(mt.completed),mt.cancel();return this.objs.clear(),Qt(this,a,!1),Gt(this,o,sr).call(this),Promise.all(ct)}cleanup(ct=!1){Qt(this,a,!0);const ht=Gt(this,o,Vn).call(this,!1);return ct&&ht&&this._stats&&(this._stats=new _display_utils.StatTimer),ht}_startRenderPage(ct,ht){var lt,ft;const mt=this._intentStates.get(ht);mt&&((lt=this._stats)==null||lt.timeEnd("Page Request"),(ft=mt.displayReadyCapability)==null||ft.resolve(ct))}_renderPageChunk(ct,ht){for(let mt=0,lt=ct.length;mt<lt;mt++)ht.operatorList.fnArray.push(ct.fnArray[mt]),ht.operatorList.argsArray.push(ct.argsArray[mt]);ht.operatorList.lastChunk=ct.lastChunk,ht.operatorList.separateAnnots=ct.separateAnnots;for(const mt of ht.renderTasks)mt.operatorListChanged();ct.lastChunk&&Gt(this,o,Vn).call(this,!0)}_pumpOperatorList({renderingIntent:ct,cacheKey:ht,annotationStorageSerializable:mt}){const{map:lt,transfers:ft}=mt,kt=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:ct,cacheKey:ht,annotationStorage:lt},ft).getReader(),jt=this._intentStates.get(ht);jt.streamReader=kt;const Ot=()=>{kt.read().then(({value:Pt,done:Lt})=>{if(Lt){jt.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(Pt,jt),Ot())},Pt=>{if(jt.streamReader=null,!this._transport.destroyed){if(jt.operatorList){jt.operatorList.lastChunk=!0;for(const Lt of jt.renderTasks)Lt.operatorListChanged();Gt(this,o,Vn).call(this,!0)}if(jt.displayReadyCapability)jt.displayReadyCapability.reject(Pt);else if(jt.opListReadCapability)jt.opListReadCapability.reject(Pt);else throw Pt}})};Ot()}_abortOperatorList({intentState:ct,reason:ht,force:mt=!1}){if(ct.streamReader){if(ct.streamReaderCancelTimeout&&(clearTimeout(ct.streamReaderCancelTimeout),ct.streamReaderCancelTimeout=null),!mt){if(ct.renderTasks.size>0)return;if(ht instanceof _display_utils.RenderingCancelledException){let lt=RENDERING_CANCELLED_TIMEOUT;ht.extraDelay>0&&ht.extraDelay<1e3&&(lt+=ht.extraDelay),ct.streamReaderCancelTimeout=setTimeout(()=>{ct.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:ct,reason:ht,force:!0})},lt);return}}if(ct.streamReader.cancel(new _util.AbortException(ht.message)).catch(()=>{}),ct.streamReader=null,!this._transport.destroyed){for(const[lt,ft]of this._intentStates)if(ft===ct){this._intentStates.delete(lt);break}this.cleanup()}}}get stats(){return this._stats}}s=new WeakMap,a=new WeakMap,o=new WeakSet,Vn=function(ct=!1){if(Gt(this,o,sr).call(this),!yt(this,a)||this.destroyed)return!1;if(ct)return Qt(this,s,setTimeout(()=>{Qt(this,s,null),Gt(this,o,Vn).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:ht,operatorList:mt}of this._intentStates.values())if(ht.size>0||!mt.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Qt(this,a,!1),!0},sr=function(){yt(this,s)&&(clearTimeout(yt(this,s)),Qt(this,s,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){Kt(this,g,new Set);Kt(this,h,Promise.resolve())}postMessage(ct,ht){const mt={data:structuredClone(ct,ht?{transfer:ht}:null)};yt(this,h).then(()=>{for(const lt of yt(this,g))lt.call(this,mt)})}addEventListener(ct,ht){yt(this,g).add(ht)}removeEventListener(ct,ht){yt(this,g).delete(ht)}terminate(){yt(this,g).clear()}}g=new WeakMap,h=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const ut=(b=document==null?void 0:document.currentScript)==null?void 0:b.src;ut&&(PDFWorkerUtil.fallbackWorkerSrc=ut.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(ut,ct){let ht;try{if(ht=new URL(ut),!ht.origin||ht.origin==="null")return!1}catch{return!1}const mt=new URL(ct,ht);return ht.origin===mt.origin},PDFWorkerUtil.createCDNWrapper=function(ut){const ct=`importScripts("${ut}");`;return URL.createObjectURL(new Blob([ct]))}}const _PDFWorker=class _PDFWorker{constructor({name:ut=null,port:ct=null,verbosity:ht=(0,_util.getVerbosityLevel)()}={}){var mt;if(this.name=ut,this.destroyed=!1,this.verbosity=ht,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,ct){if((mt=yt(_PDFWorker,_))!=null&&mt.has(ct))throw new Error("Cannot use more than one PDFWorker per port.");(yt(_PDFWorker,_)||Qt(_PDFWorker,_,new WeakMap)).set(ct,this),this._initializeFromPort(ct);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(ut){this._port=ut,this._messageHandler=new _message_handler.MessageHandler("main","worker",ut),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:ut}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,ut)||(ut=PDFWorkerUtil.createCDNWrapper(new URL(ut,window.location).href));const ct=new Worker(ut),ht=new _message_handler.MessageHandler("main","worker",ct),mt=()=>{ct.removeEventListener("error",lt),ht.destroy(),ct.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},lt=()=>{this._webWorker||mt()};ct.addEventListener("error",lt),ht.on("test",vt=>{if(ct.removeEventListener("error",lt),this.destroyed){mt();return}vt?(this._messageHandler=ht,this._port=ct,this._webWorker=ct,this._readyCapability.resolve(),ht.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),ht.destroy(),ct.terminate())}),ht.on("ready",vt=>{if(ct.removeEventListener("error",lt),this.destroyed){mt();return}try{ft()}catch{this._setupFakeWorker()}});const ft=()=>{const vt=new Uint8Array;ht.send("test",vt,[vt.buffer])};ft();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(ut=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const ct=new LoopbackPort;this._port=ct;const ht=`fake${PDFWorkerUtil.fakeWorkerId++}`,mt=new _message_handler.MessageHandler(ht+"_worker",ht,ct);ut.setup(mt,ct);const lt=new _message_handler.MessageHandler(ht,ht+"_worker",ct);this._messageHandler=lt,this._readyCapability.resolve(),lt.send("configure",{verbosity:this.verbosity})}).catch(ut=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${ut.message}".`))})}destroy(){var ut;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(ut=yt(_PDFWorker,_))==null||ut.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(ut){var ht;if(!(ut!=null&&ut.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const ct=(ht=yt(this,_))==null?void 0:ht.get(ut.port);if(ct){if(ct._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return ct}return new _PDFWorker(ut)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var ut;try{return((ut=globalThis.pdfjsWorker)==null?void 0:ut.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};_=new WeakMap,Kt(_PDFWorker,_);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(ct,ht,mt,lt,ft){Kt(this,it);Kt(this,$,new Map);Kt(this,j,new Map);Kt(this,_e,new Map);Kt(this,rt,null);this.messageHandler=ct,this.loadingTask=ht,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:lt.ownerDocument,styleElement:lt.styleElement}),this._params=lt,this.canvasFactory=ft.canvasFactory,this.filterFactory=ft.filterFactory,this.cMapReaderFactory=ft.cMapReaderFactory,this.standardFontDataFactory=ft.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=mt,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(ct,ht=_util.AnnotationMode.ENABLE,mt=null,lt=!1){let ft=_util.RenderingIntentFlag.DISPLAY,vt=_annotation_storage.SerializableEmpty;switch(ct){case"any":ft=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":ft=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${ct}`)}switch(ht){case _util.AnnotationMode.DISABLE:ft+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:ft+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:ft+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,vt=(ft&_util.RenderingIntentFlag.PRINT&&mt instanceof _annotation_storage.PrintAnnotationStorage?mt:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${ht}`)}return lt&&(ft+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:ft,cacheKey:`${ft}_${vt.hash}`,annotationStorageSerializable:vt}}destroy(){var mt;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(mt=yt(this,rt))==null||mt.reject(new Error("Worker was destroyed during onPassword callback"));const ct=[];for(const lt of yt(this,j).values())ct.push(lt._destroy());yt(this,j).clear(),yt(this,_e).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const ht=this.messageHandler.sendWithPromise("Terminate",null);return ct.push(ht),Promise.all(ct).then(()=>{var lt;this.commonObjs.clear(),this.fontLoader.clear(),yt(this,$).clear(),this.filterFactory.destroy(),(lt=this._networkStream)==null||lt.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:ct,loadingTask:ht}=this;ct.on("GetReader",(mt,lt)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=ft=>{this._lastProgress={loaded:ft.loaded,total:ft.total}},lt.onPull=()=>{this._fullReader.read().then(function({value:ft,done:vt}){if(vt){lt.close();return}(0,_util.assert)(ft instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),lt.enqueue(new Uint8Array(ft),1,[ft])}).catch(ft=>{lt.error(ft)})},lt.onCancel=ft=>{this._fullReader.cancel(ft),lt.ready.catch(vt=>{if(!this.destroyed)throw vt})}}),ct.on("ReaderHeadersReady",mt=>{const lt=new _util.PromiseCapability,ft=this._fullReader;return ft.headersReady.then(()=>{var vt;(!ft.isStreamingSupported||!ft.isRangeSupported)&&(this._lastProgress&&((vt=ht.onProgress)==null||vt.call(ht,this._lastProgress)),ft.onProgress=kt=>{var jt;(jt=ht.onProgress)==null||jt.call(ht,{loaded:kt.loaded,total:kt.total})}),lt.resolve({isStreamingSupported:ft.isStreamingSupported,isRangeSupported:ft.isRangeSupported,contentLength:ft.contentLength})},lt.reject),lt.promise}),ct.on("GetRangeReader",(mt,lt)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const ft=this._networkStream.getRangeReader(mt.begin,mt.end);if(!ft){lt.close();return}lt.onPull=()=>{ft.read().then(function({value:vt,done:kt}){if(kt){lt.close();return}(0,_util.assert)(vt instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),lt.enqueue(new Uint8Array(vt),1,[vt])}).catch(vt=>{lt.error(vt)})},lt.onCancel=vt=>{ft.cancel(vt),lt.ready.catch(kt=>{if(!this.destroyed)throw kt})}}),ct.on("GetDoc",({pdfInfo:mt})=>{this._numPages=mt.numPages,this._htmlForXfa=mt.htmlForXfa,delete mt.htmlForXfa,ht._capability.resolve(new PDFDocumentProxy(mt,this))}),ct.on("DocException",function(mt){let lt;switch(mt.name){case"PasswordException":lt=new _util.PasswordException(mt.message,mt.code);break;case"InvalidPDFException":lt=new _util.InvalidPDFException(mt.message);break;case"MissingPDFException":lt=new _util.MissingPDFException(mt.message);break;case"UnexpectedResponseException":lt=new _util.UnexpectedResponseException(mt.message,mt.status);break;case"UnknownErrorException":lt=new _util.UnknownErrorException(mt.message,mt.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}ht._capability.reject(lt)}),ct.on("PasswordRequest",mt=>{if(Qt(this,rt,new _util.PromiseCapability),ht.onPassword){const lt=ft=>{ft instanceof Error?yt(this,rt).reject(ft):yt(this,rt).resolve({password:ft})};try{ht.onPassword(lt,mt.code)}catch(ft){yt(this,rt).reject(ft)}}else yt(this,rt).reject(new _util.PasswordException(mt.message,mt.code));return yt(this,rt).promise}),ct.on("DataLoaded",mt=>{var lt;(lt=ht.onProgress)==null||lt.call(ht,{loaded:mt.length,total:mt.length}),this.downloadInfoCapability.resolve(mt)}),ct.on("StartRenderPage",mt=>{if(this.destroyed)return;yt(this,j).get(mt.pageIndex)._startRenderPage(mt.transparency,mt.cacheKey)}),ct.on("commonobj",([mt,lt,ft])=>{var vt;if(!this.destroyed&&!this.commonObjs.has(mt))switch(lt){case"Font":const kt=this._params;if("error"in ft){const Pt=ft.error;(0,_util.warn)(`Error during font loading: ${Pt}`),this.commonObjs.resolve(mt,Pt);break}const jt=kt.pdfBug&&((vt=globalThis.FontInspector)!=null&&vt.enabled)?(Pt,Lt)=>globalThis.FontInspector.fontAdded(Pt,Lt):null,Ot=new _font_loader.FontFaceObject(ft,{isEvalSupported:kt.isEvalSupported,disableFontFace:kt.disableFontFace,ignoreErrors:kt.ignoreErrors,inspectFont:jt});this.fontLoader.bind(Ot).catch(Pt=>ct.sendWithPromise("FontFallback",{id:mt})).finally(()=>{!kt.fontExtraProperties&&Ot.data&&(Ot.data=null),this.commonObjs.resolve(mt,Ot)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(mt,ft);break;default:throw new Error(`Got unknown common object type ${lt}`)}}),ct.on("obj",([mt,lt,ft,vt])=>{var jt;if(this.destroyed)return;const kt=yt(this,j).get(lt);if(!kt.objs.has(mt))switch(ft){case"Image":if(kt.objs.resolve(mt,vt),vt){let Ot;if(vt.bitmap){const{width:Pt,height:Lt}=vt;Ot=Pt*Lt*4}else Ot=((jt=vt.data)==null?void 0:jt.length)||0;Ot>_util.MAX_IMAGE_SIZE_TO_CACHE&&(kt._maybeCleanupAfterRender=!0)}break;case"Pattern":kt.objs.resolve(mt,vt);break;default:throw new Error(`Got unknown object type ${ft}`)}}),ct.on("DocProgress",mt=>{var lt;this.destroyed||(lt=ht.onProgress)==null||lt.call(ht,{loaded:mt.loaded,total:mt.total})}),ct.on("FetchBuiltInCMap",mt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(mt):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),ct.on("FetchStandardFontData",mt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(mt):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var mt;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:ct,transfers:ht}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:ct,filename:((mt=this._fullReader)==null?void 0:mt.filename)??null},ht).finally(()=>{this.annotationStorage.resetModified()})}getPage(ct){if(!Number.isInteger(ct)||ct<=0||ct>this._numPages)return Promise.reject(new Error("Invalid page request."));const ht=ct-1,mt=yt(this,_e).get(ht);if(mt)return mt;const lt=this.messageHandler.sendWithPromise("GetPage",{pageIndex:ht}).then(ft=>{if(this.destroyed)throw new Error("Transport destroyed");const vt=new PDFPageProxy(ht,ft,this,this._params.pdfBug);return yt(this,j).set(ht,vt),vt});return yt(this,_e).set(ht,lt),lt}getPageIndex(ct){return typeof ct!="object"||ct===null||!Number.isInteger(ct.num)||ct.num<0||!Number.isInteger(ct.gen)||ct.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:ct.num,gen:ct.gen})}getAnnotations(ct,ht){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:ct,intent:ht})}getFieldObjects(){return Gt(this,it,ar).call(this,"GetFieldObjects")}hasJSActions(){return Gt(this,it,ar).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(ct){return typeof ct!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:ct})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Gt(this,it,ar).call(this,"GetDocJSActions")}getPageJSActions(ct){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:ct})}getStructTree(ct){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:ct})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(ct=>new _optional_content_config.OptionalContentConfig(ct))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const ct="GetMetadata",ht=yt(this,$).get(ct);if(ht)return ht;const mt=this.messageHandler.sendWithPromise(ct,null).then(lt=>{var ft,vt;return{info:lt[0],metadata:lt[1]?new _metadata.Metadata(lt[1]):null,contentDispositionFilename:((ft=this._fullReader)==null?void 0:ft.filename)??null,contentLength:((vt=this._fullReader)==null?void 0:vt.contentLength)??null}});return yt(this,$).set(ct,mt),mt}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(ct=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const ht of yt(this,j).values())if(!ht.cleanup())throw new Error(`startCleanup: Page ${ht.pageNumber} is currently rendering.`);this.commonObjs.clear(),ct||this.fontLoader.clear(),yt(this,$).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:ct,enableXfa:ht}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:ct,enableXfa:ht})}}$=new WeakMap,j=new WeakMap,_e=new WeakMap,rt=new WeakMap,it=new WeakSet,ar=function(ct,ht=null){const mt=yt(this,$).get(ct);if(mt)return mt;const lt=this.messageHandler.sendWithPromise(ct,ht);return yt(this,$).set(ct,lt),lt};class PDFObjects{constructor(){Kt(this,tt);Kt(this,et,Object.create(null))}get(ct,ht=null){if(ht){const lt=Gt(this,tt,br).call(this,ct);return lt.capability.promise.then(()=>ht(lt.data)),null}const mt=yt(this,et)[ct];if(!(mt!=null&&mt.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${ct}.`);return mt.data}has(ct){const ht=yt(this,et)[ct];return(ht==null?void 0:ht.capability.settled)||!1}resolve(ct,ht=null){const mt=Gt(this,tt,br).call(this,ct);mt.data=ht,mt.capability.resolve()}clear(){var ct;for(const ht in yt(this,et)){const{data:mt}=yt(this,et)[ht];(ct=mt==null?void 0:mt.bitmap)==null||ct.close()}Qt(this,et,Object.create(null))}}et=new WeakMap,tt=new WeakSet,br=function(ct){var ht;return(ht=yt(this,et))[ct]||(ht[ct]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(ct){Kt(this,nt,null);Qt(this,nt,ct),this.onContinue=null}get promise(){return yt(this,nt).capability.promise}cancel(ct=0){yt(this,nt).cancel(null,ct)}get separateAnnots(){const{separateAnnots:ct}=yt(this,nt).operatorList;if(!ct)return!1;const{annotationCanvasMap:ht}=yt(this,nt);return ct.form||ct.canvas&&(ht==null?void 0:ht.size)>0}}nt=new WeakMap,exports.RenderTask=RenderTask;const dt=class dt{constructor({callback:ct,params:ht,objs:mt,commonObjs:lt,annotationCanvasMap:ft,operatorList:vt,pageIndex:kt,canvasFactory:jt,filterFactory:Ot,useRequestAnimationFrame:Pt=!1,pdfBug:Lt=!1,pageColors:wt=null}){this.callback=ct,this.params=ht,this.objs=mt,this.commonObjs=lt,this.annotationCanvasMap=ft,this.operatorListIdx=null,this.operatorList=vt,this._pageIndex=kt,this.canvasFactory=jt,this.filterFactory=Ot,this._pdfBug=Lt,this.pageColors=wt,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=Pt===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=ht.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:ct=!1,optionalContentConfig:ht}){var kt,jt;if(this.cancelled)return;if(this._canvas){if(yt(dt,at).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");yt(dt,at).add(this._canvas)}this._pdfBug&&((kt=globalThis.StepperManager)!=null&&kt.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:mt,viewport:lt,transform:ft,background:vt}=this.params;this.gfx=new _canvas.CanvasGraphics(mt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:ht},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:ft,viewport:lt,transparency:ct,background:vt}),this.operatorListIdx=0,this.graphicsReady=!0,(jt=this.graphicsReadyCallback)==null||jt.call(this)}cancel(ct=null,ht=0){var mt;this.running=!1,this.cancelled=!0,(mt=this.gfx)==null||mt.endDrawing(),yt(dt,at).delete(this._canvas),this.callback(ct||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,ht))}operatorListChanged(){var ct;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(ct=this.stepper)==null||ct.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),yt(dt,at).delete(this._canvas),this.callback())))}};at=new WeakMap,Kt(dt,at,new WeakSet);let InternalRenderTask=dt;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(e,i,s)=>{var b,_,$,ns,_e;Object.defineProperty(i,"__esModule",{value:!0}),i.SerializableEmpty=i.PrintAnnotationStorage=i.AnnotationStorage=void 0;var a=s(1),o=s(4),c=s(8);const d=Object.freeze({map:null,hash:"",transfers:void 0});i.SerializableEmpty=d;class g{constructor(){Kt(this,$);Kt(this,b,!1);Kt(this,_,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(it,st){const et=yt(this,_).get(it);return et===void 0?st:Object.assign(st,et)}getRawValue(it){return yt(this,_).get(it)}remove(it){if(yt(this,_).delete(it),yt(this,_).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const st of yt(this,_).values())if(st instanceof o.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(it,st){const et=yt(this,_).get(it);let tt=!1;if(et!==void 0)for(const[ot,nt]of Object.entries(st))et[ot]!==nt&&(tt=!0,et[ot]=nt);else tt=!0,yt(this,_).set(it,st);tt&&Gt(this,$,ns).call(this),st instanceof o.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(st.constructor._type)}has(it){return yt(this,_).has(it)}getAll(){return yt(this,_).size>0?(0,a.objectFromMap)(yt(this,_)):null}setAll(it){for(const[st,et]of Object.entries(it))this.setValue(st,et)}get size(){return yt(this,_).size}resetModified(){yt(this,b)&&(Qt(this,b,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new h(this)}get serializable(){if(yt(this,_).size===0)return d;const it=new Map,st=new c.MurmurHash3_64,et=[],tt=Object.create(null);let ot=!1;for(const[nt,at]of yt(this,_)){const dt=at instanceof o.AnnotationEditor?at.serialize(!1,tt):at;dt&&(it.set(nt,dt),st.update(`${nt}:${JSON.stringify(dt)}`),ot||(ot=!!dt.bitmap))}if(ot)for(const nt of it.values())nt.bitmap&&et.push(nt.bitmap);return it.size>0?{map:it,hash:st.hexdigest(),transfers:et}:d}}b=new WeakMap,_=new WeakMap,$=new WeakSet,ns=function(){yt(this,b)||(Qt(this,b,!0),typeof this.onSetModified=="function"&&this.onSetModified())},i.AnnotationStorage=g;class h extends g{constructor(st){super();Kt(this,_e);const{map:et,hash:tt,transfers:ot}=st.serializable,nt=structuredClone(et,ot?{transfer:ot}:null);Qt(this,_e,{map:nt,hash:tt,transfers:ot})}get print(){(0,a.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return yt(this,_e)}}_e=new WeakMap,i.PrintAnnotationStorage=h},(e,i,s)=>{var h,b,_,$,j,_e,rt,it,st,et,tt,ot,nt,at,dt,_r,Er,ht,wr,Sr,rs,is,ss,Ar,as;Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationEditor=void 0;var a=s(5),o=s(1),c=s(6);const Pt=class Pt{constructor(wt){Kt(this,dt);Kt(this,h,"");Kt(this,b,!1);Kt(this,_,null);Kt(this,$,null);Kt(this,j,null);Kt(this,_e,!1);Kt(this,rt,null);Kt(this,it,this.focusin.bind(this));Kt(this,st,this.focusout.bind(this));Kt(this,et,!1);Kt(this,tt,!1);Kt(this,ot,!1);In(this,"_initialOptions",Object.create(null));In(this,"_uiManager",null);In(this,"_focusEventsAllowed",!0);In(this,"_l10nPromise",null);Kt(this,nt,!1);Kt(this,at,Pt._zIndex++);this.constructor===Pt&&(0,o.unreachable)("Cannot initialize AnnotationEditor."),this.parent=wt.parent,this.id=wt.id,this.width=this.height=null,this.pageIndex=wt.parent.pageIndex,this.name=wt.name,this.div=null,this._uiManager=wt.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=wt.isCentered,this._structTreeParentId=null;const{rotation:St,rawDims:{pageWidth:_t,pageHeight:xt,pageX:pt,pageY:gt}}=this.parent.viewport;this.rotation=St,this.pageRotation=(360+St-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[_t,xt],this.pageTranslation=[pt,gt];const[Et,bt]=this.parentDimensions;this.x=wt.x/Et,this.y=wt.y/bt,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,o.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(wt){const St=new g({id:wt.parent.getNextId(),parent:wt.parent,uiManager:wt._uiManager});St.annotationElementId=wt.annotationElementId,St.deleted=!0,St._uiManager.addToAnnotationStorage(St)}static initialize(wt,St=null){if(Pt._l10nPromise||(Pt._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(xt=>[xt,wt.get(xt)]))),St!=null&&St.strings)for(const xt of St.strings)Pt._l10nPromise.set(xt,wt.get(xt));if(Pt._borderLineWidth!==-1)return;const _t=getComputedStyle(document.documentElement);Pt._borderLineWidth=parseFloat(_t.getPropertyValue("--outline-width"))||0}static updateDefaultParams(wt,St){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(wt){return!1}static paste(wt,St){(0,o.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return yt(this,nt)}set _isDraggable(wt){var St;Qt(this,nt,wt),(St=this.div)==null||St.classList.toggle("draggable",wt)}center(){const[wt,St]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*St/(wt*2),this.y+=this.width*wt/(St*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*St/(wt*2),this.y-=this.width*wt/(St*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(wt){this._uiManager.addCommands(wt)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=yt(this,at)}setParent(wt){wt!==null&&(this.pageIndex=wt.pageIndex,this.pageDimensions=wt.pageDimensions),this.parent=wt}focusin(wt){this._focusEventsAllowed&&(yt(this,et)?Qt(this,et,!1):this.parent.setSelected(this))}focusout(wt){var _t;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const St=wt.relatedTarget;St!=null&&St.closest(`#${this.id}`)||(wt.preventDefault(),(_t=this.parent)!=null&&_t.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(wt,St,_t,xt){const[pt,gt]=this.parentDimensions;[_t,xt]=this.screenToPageTranslation(_t,xt),this.x=(wt+_t)/pt,this.y=(St+xt)/gt,this.fixAndSetPosition()}translate(wt,St){Gt(this,dt,_r).call(this,this.parentDimensions,wt,St)}translateInPage(wt,St){Gt(this,dt,_r).call(this,this.pageDimensions,wt,St),this.div.scrollIntoView({block:"nearest"})}drag(wt,St){const[_t,xt]=this.parentDimensions;if(this.x+=wt/_t,this.y+=St/xt,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:At,y:Tt}=this.div.getBoundingClientRect();this.parent.findNewParent(this,At,Tt)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:pt,y:gt}=this;const[Et,bt]=Gt(this,dt,Er).call(this);pt+=Et,gt+=bt,this.div.style.left=`${(100*pt).toFixed(2)}%`,this.div.style.top=`${(100*gt).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[wt,St]=this.pageDimensions;let{x:_t,y:xt,width:pt,height:gt}=this;switch(pt*=wt,gt*=St,_t*=wt,xt*=St,this.rotation){case 0:_t=Math.max(0,Math.min(wt-pt,_t)),xt=Math.max(0,Math.min(St-gt,xt));break;case 90:_t=Math.max(0,Math.min(wt-gt,_t)),xt=Math.min(St,Math.max(pt,xt));break;case 180:_t=Math.min(wt,Math.max(pt,_t)),xt=Math.min(St,Math.max(gt,xt));break;case 270:_t=Math.min(wt,Math.max(gt,_t)),xt=Math.max(0,Math.min(St-pt,xt));break}this.x=_t/=wt,this.y=xt/=St;const[Et,bt]=Gt(this,dt,Er).call(this);_t+=Et,xt+=bt;const{style:At}=this.div;At.left=`${(100*_t).toFixed(2)}%`,At.top=`${(100*xt).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(wt,St){var _t;return Gt(_t=Pt,ht,wr).call(_t,wt,St,this.parentRotation)}pageTranslationToScreen(wt,St){var _t;return Gt(_t=Pt,ht,wr).call(_t,wt,St,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:wt,pageDimensions:[St,_t]}=this,xt=St*wt,pt=_t*wt;return o.FeatureTest.isCSSRoundSupported?[Math.round(xt),Math.round(pt)]:[xt,pt]}setDims(wt,St){var pt;const[_t,xt]=this.parentDimensions;this.div.style.width=`${(100*wt/_t).toFixed(2)}%`,yt(this,_e)||(this.div.style.height=`${(100*St/xt).toFixed(2)}%`),(pt=yt(this,_))==null||pt.classList.toggle("small",wt<Pt.SMALL_EDITOR_SIZE||St<Pt.SMALL_EDITOR_SIZE)}fixDims(){const{style:wt}=this.div,{height:St,width:_t}=wt,xt=_t.endsWith("%"),pt=!yt(this,_e)&&St.endsWith("%");if(xt&&pt)return;const[gt,Et]=this.parentDimensions;xt||(wt.width=`${(100*parseFloat(_t)/gt).toFixed(2)}%`),!yt(this,_e)&&!pt&&(wt.height=`${(100*parseFloat(St)/Et).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(yt(this,_))return;const wt=Qt(this,_,document.createElement("button"));wt.className="altText";const St=await Pt._l10nPromise.get("editor_alt_text_button_label");wt.textContent=St,wt.setAttribute("aria-label",St),wt.tabIndex="0",wt.addEventListener("contextmenu",c.noContextMenu),wt.addEventListener("pointerdown",_t=>_t.stopPropagation()),wt.addEventListener("click",_t=>{_t.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),wt.addEventListener("keydown",_t=>{_t.target===wt&&_t.key==="Enter"&&(_t.preventDefault(),this._uiManager.editAltText(this))}),Gt(this,dt,Ar).call(this),this.div.append(wt),Pt.SMALL_EDITOR_SIZE||(Pt.SMALL_EDITOR_SIZE=Math.min(128,Math.round(wt.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:yt(this,h),decorative:yt(this,b)}}set altTextData({altText:wt,decorative:St}){yt(this,h)===wt&&yt(this,b)===St||(Qt(this,h,wt),Qt(this,b,St),Gt(this,dt,Ar).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",yt(this,it)),this.div.addEventListener("focusout",yt(this,st));const[wt,St]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*St/wt).toFixed(2)}%`,this.div.style.maxHeight=`${(100*wt/St).toFixed(2)}%`);const[_t,xt]=this.getInitialTranslation();return this.translate(_t,xt),(0,a.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(wt){const{isMac:St}=o.FeatureTest.platform;if(wt.button!==0||wt.ctrlKey&&St){wt.preventDefault();return}Qt(this,et,!0),Gt(this,dt,as).call(this,wt)}moveInDOM(){var wt;(wt=this.parent)==null||wt.moveEditorInDOM(this)}_setParentAndPosition(wt,St,_t){wt.changeParent(this),this.x=St,this.y=_t,this.fixAndSetPosition()}getRect(wt,St){const _t=this.parentScale,[xt,pt]=this.pageDimensions,[gt,Et]=this.pageTranslation,bt=wt/_t,At=St/_t,Tt=this.x*xt,Nt=this.y*pt,Dt=this.width*xt,zt=this.height*pt;switch(this.rotation){case 0:return[Tt+bt+gt,pt-Nt-At-zt+Et,Tt+bt+Dt+gt,pt-Nt-At+Et];case 90:return[Tt+At+gt,pt-Nt+bt+Et,Tt+At+zt+gt,pt-Nt+bt+Dt+Et];case 180:return[Tt-bt-Dt+gt,pt-Nt+At+Et,Tt-bt+gt,pt-Nt+At+zt+Et];case 270:return[Tt-At-zt+gt,pt-Nt-bt-Dt+Et,Tt-At+gt,pt-Nt-bt+Et];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(wt,St){const[_t,xt,pt,gt]=wt,Et=pt-_t,bt=gt-xt;switch(this.rotation){case 0:return[_t,St-gt,Et,bt];case 90:return[_t,St-xt,bt,Et];case 180:return[pt,St-xt,Et,bt];case 270:return[pt,St-gt,bt,Et];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Qt(this,ot,!0)}disableEditMode(){Qt(this,ot,!1)}isInEditMode(){return yt(this,ot)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var wt,St;(wt=this.div)==null||wt.addEventListener("focusin",yt(this,it)),(St=this.div)==null||St.addEventListener("focusout",yt(this,st))}serialize(wt=!1,St=null){(0,o.unreachable)("An editor must be serializable")}static deserialize(wt,St,_t){const xt=new this.prototype.constructor({parent:St,id:St.getNextId(),uiManager:_t});xt.rotation=wt.rotation;const[pt,gt]=xt.pageDimensions,[Et,bt,At,Tt]=xt.getRectInCurrentCoords(wt.rect,gt);return xt.x=Et/pt,xt.y=bt/gt,xt.width=At/pt,xt.height=Tt/gt,xt}remove(){var wt;this.div.removeEventListener("focusin",yt(this,it)),this.div.removeEventListener("focusout",yt(this,st)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(wt=yt(this,_))==null||wt.remove(),Qt(this,_,null),Qt(this,$,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(Gt(this,dt,rs).call(this),yt(this,rt).classList.remove("hidden"))}select(){var wt;this.makeResizable(),(wt=this.div)==null||wt.classList.add("selectedEditor")}unselect(){var wt,St,_t;(wt=yt(this,rt))==null||wt.classList.add("hidden"),(St=this.div)==null||St.classList.remove("selectedEditor"),(_t=this.div)!=null&&_t.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(wt,St){}disableEditing(){yt(this,_)&&(yt(this,_).hidden=!0)}enableEditing(){yt(this,_)&&(yt(this,_).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return yt(this,tt)}set isEditing(wt){Qt(this,tt,wt),this.parent&&(wt?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(wt,St){Qt(this,_e,!0);const _t=wt/St,{style:xt}=this.div;xt.aspectRatio=_t,xt.height="auto"}static get MIN_SIZE(){return 16}};h=new WeakMap,b=new WeakMap,_=new WeakMap,$=new WeakMap,j=new WeakMap,_e=new WeakMap,rt=new WeakMap,it=new WeakMap,st=new WeakMap,et=new WeakMap,tt=new WeakMap,ot=new WeakMap,nt=new WeakMap,at=new WeakMap,dt=new WeakSet,_r=function([wt,St],_t,xt){[_t,xt]=this.screenToPageTranslation(_t,xt),this.x+=_t/wt,this.y+=xt/St,this.fixAndSetPosition()},Er=function(){const[wt,St]=this.parentDimensions,{_borderLineWidth:_t}=Pt,xt=_t/wt,pt=_t/St;switch(this.rotation){case 90:return[-xt,pt];case 180:return[xt,pt];case 270:return[xt,-pt];default:return[-xt,-pt]}},ht=new WeakSet,wr=function(wt,St,_t){switch(_t){case 90:return[St,-wt];case 180:return[-wt,-St];case 270:return[-St,wt];default:return[wt,St]}},Sr=function(wt){switch(wt){case 90:{const[St,_t]=this.pageDimensions;return[0,-St/_t,_t/St,0]}case 180:return[-1,0,0,-1];case 270:{const[St,_t]=this.pageDimensions;return[0,St/_t,-_t/St,0]}default:return[1,0,0,1]}},rs=function(){if(yt(this,rt))return;Qt(this,rt,document.createElement("div")),yt(this,rt).classList.add("resizers");const wt=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||wt.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const St of wt){const _t=document.createElement("div");yt(this,rt).append(_t),_t.classList.add("resizer",St),_t.addEventListener("pointerdown",Gt(this,dt,is).bind(this,St)),_t.addEventListener("contextmenu",c.noContextMenu)}this.div.prepend(yt(this,rt))},is=function(wt,St){St.preventDefault();const{isMac:_t}=o.FeatureTest.platform;if(St.button!==0||St.ctrlKey&&_t)return;const xt=Gt(this,dt,ss).bind(this,wt),pt=this._isDraggable;this._isDraggable=!1;const gt={passive:!0,capture:!0};window.addEventListener("pointermove",xt,gt);const Et=this.x,bt=this.y,At=this.width,Tt=this.height,Nt=this.parent.div.style.cursor,Dt=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(St.target).cursor;const zt=()=>{this._isDraggable=pt,window.removeEventListener("pointerup",zt),window.removeEventListener("blur",zt),window.removeEventListener("pointermove",xt,gt),this.parent.div.style.cursor=Nt,this.div.style.cursor=Dt;const Yt=this.x,Xt=this.y,Jt=this.width,nn=this.height;Yt===Et&&Xt===bt&&Jt===At&&nn===Tt||this.addCommands({cmd:()=>{this.width=Jt,this.height=nn,this.x=Yt,this.y=Xt;const[Wt,Ht]=this.parentDimensions;this.setDims(Wt*Jt,Ht*nn),this.fixAndSetPosition()},undo:()=>{this.width=At,this.height=Tt,this.x=Et,this.y=bt;const[Wt,Ht]=this.parentDimensions;this.setDims(Wt*At,Ht*Tt),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",zt),window.addEventListener("blur",zt)},ss=function(wt,St){const[_t,xt]=this.parentDimensions,pt=this.x,gt=this.y,Et=this.width,bt=this.height,At=Pt.MIN_SIZE/_t,Tt=Pt.MIN_SIZE/xt,Nt=mn=>Math.round(mn*1e4)/1e4,Dt=Gt(this,dt,Sr).call(this,this.rotation),zt=(mn,wn)=>[Dt[0]*mn+Dt[2]*wn,Dt[1]*mn+Dt[3]*wn],Yt=Gt(this,dt,Sr).call(this,360-this.rotation),Xt=(mn,wn)=>[Yt[0]*mn+Yt[2]*wn,Yt[1]*mn+Yt[3]*wn];let Jt,nn,Wt=!1,Ht=!1;switch(wt){case"topLeft":Wt=!0,Jt=(mn,wn)=>[0,0],nn=(mn,wn)=>[mn,wn];break;case"topMiddle":Jt=(mn,wn)=>[mn/2,0],nn=(mn,wn)=>[mn/2,wn];break;case"topRight":Wt=!0,Jt=(mn,wn)=>[mn,0],nn=(mn,wn)=>[0,wn];break;case"middleRight":Ht=!0,Jt=(mn,wn)=>[mn,wn/2],nn=(mn,wn)=>[0,wn/2];break;case"bottomRight":Wt=!0,Jt=(mn,wn)=>[mn,wn],nn=(mn,wn)=>[0,0];break;case"bottomMiddle":Jt=(mn,wn)=>[mn/2,wn],nn=(mn,wn)=>[mn/2,0];break;case"bottomLeft":Wt=!0,Jt=(mn,wn)=>[0,wn],nn=(mn,wn)=>[mn,0];break;case"middleLeft":Ht=!0,Jt=(mn,wn)=>[0,wn/2],nn=(mn,wn)=>[mn,wn/2];break}const Rt=Jt(Et,bt),Ct=nn(Et,bt);let Ft=zt(...Ct);const Bt=Nt(pt+Ft[0]),Ut=Nt(gt+Ft[1]);let rn=1,tn=1,[qt,hn]=this.screenToPageTranslation(St.movementX,St.movementY);if([qt,hn]=Xt(qt/_t,hn/xt),Wt){const mn=Math.hypot(Et,bt);rn=tn=Math.max(Math.min(Math.hypot(Ct[0]-Rt[0]-qt,Ct[1]-Rt[1]-hn)/mn,1/Et,1/bt),At/Et,Tt/bt)}else Ht?rn=Math.max(At,Math.min(1,Math.abs(Ct[0]-Rt[0]-qt)))/Et:tn=Math.max(Tt,Math.min(1,Math.abs(Ct[1]-Rt[1]-hn)))/bt;const dn=Nt(Et*rn),yn=Nt(bt*tn);Ft=zt(...nn(dn,yn));const jn=Bt-Ft[0],kn=Ut-Ft[1];this.width=dn,this.height=yn,this.x=jn,this.y=kn,this.setDims(_t*dn,xt*yn),this.fixAndSetPosition()},Ar=async function(){var _t;const wt=yt(this,_);if(!wt)return;if(!yt(this,h)&&!yt(this,b)){wt.classList.remove("done"),(_t=yt(this,$))==null||_t.remove();return}Pt._l10nPromise.get("editor_alt_text_edit_button_label").then(xt=>{wt.setAttribute("aria-label",xt)});let St=yt(this,$);if(!St){Qt(this,$,St=document.createElement("span")),St.className="tooltip",St.setAttribute("role","tooltip");const xt=St.id=`alt-text-tooltip-${this.id}`;wt.setAttribute("aria-describedby",xt);const pt=100;wt.addEventListener("mouseenter",()=>{Qt(this,j,setTimeout(()=>{Qt(this,j,null),yt(this,$).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},pt))}),wt.addEventListener("mouseleave",()=>{var gt;clearTimeout(yt(this,j)),Qt(this,j,null),(gt=yt(this,$))==null||gt.classList.remove("show")})}wt.classList.add("done"),St.innerText=yt(this,b)?await Pt._l10nPromise.get("editor_alt_text_decorative_tooltip"):yt(this,h),St.parentNode||wt.append(St)},as=function(wt){if(!this._isDraggable)return;const St=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let _t,xt;St&&(_t={passive:!0,capture:!0},xt=gt=>{const[Et,bt]=this.screenToPageTranslation(gt.movementX,gt.movementY);this._uiManager.dragSelectedEditors(Et,bt)},window.addEventListener("pointermove",xt,_t));const pt=()=>{if(window.removeEventListener("pointerup",pt),window.removeEventListener("blur",pt),St&&window.removeEventListener("pointermove",xt,_t),Qt(this,et,!1),!this._uiManager.endDragSession()){const{isMac:gt}=o.FeatureTest.platform;wt.ctrlKey&&!gt||wt.shiftKey||wt.metaKey&&gt?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",pt),window.addEventListener("blur",pt)},Kt(Pt,ht),In(Pt,"_borderLineWidth",-1),In(Pt,"_colorManager",new a.ColorManager),In(Pt,"_zIndex",1),In(Pt,"SMALL_EDITOR_SIZE",0);let d=Pt;i.AnnotationEditor=d;class g extends d{constructor(wt){super(wt),this.annotationElementId=wt.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(e,i,s)=>{var _e,rt,it,st,et,kr,nt,at,dt,ut,ct,os,lt,ft,vt,kt,jt,Ot,Pt,Lt,wt,St,_t,xt,pt,gt,Et,bt,At,Tt,Nt,Dt,zt,Yt,Xt,Jt,nn,Wt,Ht,Rt,Ct,Ft,Bt,Ut,rn,tn,qt,ls,jr,Rr,or,Tr,Pr,Bn,Qn,us,cs,Cr,Jn,Or;Object.defineProperty(i,"__esModule",{value:!0}),i.KeyboardManager=i.CommandManager=i.ColorManager=i.AnnotationEditorUIManager=void 0,i.bindEvents=c,i.opacityToHex=d;var a=s(1),o=s(6);function c(On,$t,on){for(const fn of on)$t.addEventListener(fn,On[fn].bind(On))}function d(On){return Math.round(Math.min(255,Math.max(1,255*On))).toString(16).padStart(2,"0")}class g{constructor(){Kt(this,_e,0)}getId(){return`${a.AnnotationEditorPrefix}${Zn(this,_e)._++}`}}_e=new WeakMap;const ot=class ot{constructor(){Kt(this,et);Kt(this,rt,(0,a.getUuid)());Kt(this,it,0);Kt(this,st,null)}static get _isSVGFittingCanvas(){const $t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',fn=new OffscreenCanvas(1,3).getContext("2d"),_n=new Image;_n.src=$t;const An=_n.decode().then(()=>(fn.drawImage(_n,0,0,1,1,0,0,1,3),new Uint32Array(fn.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,a.shadow)(this,"_isSVGFittingCanvas",An)}async getFromFile($t){const{lastModified:on,name:fn,size:_n,type:An}=$t;return Gt(this,et,kr).call(this,`${on}_${fn}_${_n}_${An}`,$t)}async getFromUrl($t){return Gt(this,et,kr).call(this,$t,$t)}async getFromId($t){yt(this,st)||Qt(this,st,new Map);const on=yt(this,st).get($t);return on?on.bitmap?(on.refCounter+=1,on):on.file?this.getFromFile(on.file):this.getFromUrl(on.url):null}getSvgUrl($t){const on=yt(this,st).get($t);return on!=null&&on.isSvg?on.svgUrl:null}deleteId($t){yt(this,st)||Qt(this,st,new Map);const on=yt(this,st).get($t);on&&(on.refCounter-=1,on.refCounter===0&&(on.bitmap=null))}isValidId($t){return $t.startsWith(`image_${yt(this,rt)}_`)}};rt=new WeakMap,it=new WeakMap,st=new WeakMap,et=new WeakSet,kr=async function($t,on){yt(this,st)||Qt(this,st,new Map);let fn=yt(this,st).get($t);if(fn===null)return null;if(fn!=null&&fn.bitmap)return fn.refCounter+=1,fn;try{fn||(fn={bitmap:null,id:`image_${yt(this,rt)}_${Zn(this,it)._++}`,refCounter:0,isSvg:!1});let _n;if(typeof on=="string"){fn.url=on;const An=await fetch(on);if(!An.ok)throw new Error(An.statusText);_n=await An.blob()}else _n=fn.file=on;if(_n.type==="image/svg+xml"){const An=ot._isSVGFittingCanvas,gn=new FileReader,It=new Image,Mt=new Promise((Vt,sn)=>{It.onload=()=>{fn.bitmap=It,fn.isSvg=!0,Vt()},gn.onload=async()=>{const an=fn.svgUrl=gn.result;It.src=await An?`${an}#svgView(preserveAspectRatio(none))`:an},It.onerror=gn.onerror=sn});gn.readAsDataURL(_n),await Mt}else fn.bitmap=await createImageBitmap(_n);fn.refCounter=1}catch(_n){console.error(_n),fn=null}return yt(this,st).set($t,fn),fn&&yt(this,st).set(fn.id,fn),fn};let h=ot;class b{constructor($t=128){Kt(this,nt,[]);Kt(this,at,!1);Kt(this,dt);Kt(this,ut,-1);Qt(this,dt,$t)}add({cmd:$t,undo:on,mustExec:fn,type:_n=NaN,overwriteIfSameType:An=!1,keepUndo:gn=!1}){if(fn&&$t(),yt(this,at))return;const It={cmd:$t,undo:on,type:_n};if(yt(this,ut)===-1){yt(this,nt).length>0&&(yt(this,nt).length=0),Qt(this,ut,0),yt(this,nt).push(It);return}if(An&&yt(this,nt)[yt(this,ut)].type===_n){gn&&(It.undo=yt(this,nt)[yt(this,ut)].undo),yt(this,nt)[yt(this,ut)]=It;return}const Mt=yt(this,ut)+1;Mt===yt(this,dt)?yt(this,nt).splice(0,1):(Qt(this,ut,Mt),Mt<yt(this,nt).length&&yt(this,nt).splice(Mt)),yt(this,nt).push(It)}undo(){yt(this,ut)!==-1&&(Qt(this,at,!0),yt(this,nt)[yt(this,ut)].undo(),Qt(this,at,!1),Qt(this,ut,yt(this,ut)-1))}redo(){yt(this,ut)<yt(this,nt).length-1&&(Qt(this,ut,yt(this,ut)+1),Qt(this,at,!0),yt(this,nt)[yt(this,ut)].cmd(),Qt(this,at,!1))}hasSomethingToUndo(){return yt(this,ut)!==-1}hasSomethingToRedo(){return yt(this,ut)<yt(this,nt).length-1}destroy(){Qt(this,nt,null)}}nt=new WeakMap,at=new WeakMap,dt=new WeakMap,ut=new WeakMap,i.CommandManager=b;class _{constructor($t){Kt(this,ct);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:on}=a.FeatureTest.platform;for(const[fn,_n,An={}]of $t)for(const gn of fn){const It=gn.startsWith("mac+");on&&It?(this.callbacks.set(gn.slice(4),{callback:_n,options:An}),this.allKeys.add(gn.split("+").at(-1))):!on&&!It&&(this.callbacks.set(gn,{callback:_n,options:An}),this.allKeys.add(gn.split("+").at(-1)))}}exec($t,on){if(!this.allKeys.has(on.key))return;const fn=this.callbacks.get(Gt(this,ct,os).call(this,on));if(!fn)return;const{callback:_n,options:{bubbles:An=!1,args:gn=[],checker:It=null}}=fn;It&&!It($t,on)||(_n.bind($t,...gn)(),An||(on.stopPropagation(),on.preventDefault()))}}ct=new WeakSet,os=function($t){$t.altKey&&this.buffer.push("alt"),$t.ctrlKey&&this.buffer.push("ctrl"),$t.metaKey&&this.buffer.push("meta"),$t.shiftKey&&this.buffer.push("shift"),this.buffer.push($t.key);const on=this.buffer.join("+");return this.buffer.length=0,on},i.KeyboardManager=_;const mt=class mt{get _colors(){const $t=new Map([["CanvasText",null],["Canvas",null]]);return(0,o.getColorValues)($t),(0,a.shadow)(this,"_colors",$t)}convert($t){const on=(0,o.getRGB)($t);if(!window.matchMedia("(forced-colors: active)").matches)return on;for(const[fn,_n]of this._colors)if(_n.every((An,gn)=>An===on[gn]))return mt._colorsMapping.get(fn);return on}getHexCode($t){const on=this._colors.get($t);return on?a.Util.makeHexColor(...on):$t}};In(mt,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let $=mt;i.ColorManager=$;const Nn=class Nn{constructor($t,on,fn,_n,An,gn){Kt(this,qt);Kt(this,lt,null);Kt(this,ft,new Map);Kt(this,vt,new Map);Kt(this,kt,null);Kt(this,jt,null);Kt(this,Ot,new b);Kt(this,Pt,0);Kt(this,Lt,new Set);Kt(this,wt,null);Kt(this,St,null);Kt(this,_t,new Set);Kt(this,xt,null);Kt(this,pt,new g);Kt(this,gt,!1);Kt(this,Et,!1);Kt(this,bt,null);Kt(this,At,a.AnnotationEditorType.NONE);Kt(this,Tt,new Set);Kt(this,Nt,null);Kt(this,Dt,this.blur.bind(this));Kt(this,zt,this.focus.bind(this));Kt(this,Yt,this.copy.bind(this));Kt(this,Xt,this.cut.bind(this));Kt(this,Jt,this.paste.bind(this));Kt(this,nn,this.keydown.bind(this));Kt(this,Wt,this.onEditingAction.bind(this));Kt(this,Ht,this.onPageChanging.bind(this));Kt(this,Rt,this.onScaleChanging.bind(this));Kt(this,Ct,this.onRotationChanging.bind(this));Kt(this,Ft,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});Kt(this,Bt,[0,0]);Kt(this,Ut,null);Kt(this,rn,null);Kt(this,tn,null);Qt(this,rn,$t),Qt(this,tn,on),Qt(this,kt,fn),this._eventBus=_n,this._eventBus._on("editingaction",yt(this,Wt)),this._eventBus._on("pagechanging",yt(this,Ht)),this._eventBus._on("scalechanging",yt(this,Rt)),this._eventBus._on("rotationchanging",yt(this,Ct)),Qt(this,jt,An.annotationStorage),Qt(this,xt,An.filterFactory),Qt(this,Nt,gn),this.viewParameters={realScale:o.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const $t=Nn.prototype,on=An=>{const{activeElement:gn}=document;return gn&&yt(An,rn).contains(gn)&&An.hasSomethingToControl()},fn=this.TRANSLATE_SMALL,_n=this.TRANSLATE_BIG;return(0,a.shadow)(this,"_keyboardManager",new _([[["ctrl+a","mac+meta+a"],$t.selectAll],[["ctrl+z","mac+meta+z"],$t.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],$t.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],$t.delete],[["Escape","mac+Escape"],$t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],$t.translateSelectedEditors,{args:[-fn,0],checker:on}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],$t.translateSelectedEditors,{args:[-_n,0],checker:on}],[["ArrowRight","mac+ArrowRight"],$t.translateSelectedEditors,{args:[fn,0],checker:on}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],$t.translateSelectedEditors,{args:[_n,0],checker:on}],[["ArrowUp","mac+ArrowUp"],$t.translateSelectedEditors,{args:[0,-fn],checker:on}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],$t.translateSelectedEditors,{args:[0,-_n],checker:on}],[["ArrowDown","mac+ArrowDown"],$t.translateSelectedEditors,{args:[0,fn],checker:on}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],$t.translateSelectedEditors,{args:[0,_n],checker:on}]]))}destroy(){Gt(this,qt,or).call(this),Gt(this,qt,jr).call(this),this._eventBus._off("editingaction",yt(this,Wt)),this._eventBus._off("pagechanging",yt(this,Ht)),this._eventBus._off("scalechanging",yt(this,Rt)),this._eventBus._off("rotationchanging",yt(this,Ct));for(const $t of yt(this,vt).values())$t.destroy();yt(this,vt).clear(),yt(this,ft).clear(),yt(this,_t).clear(),Qt(this,lt,null),yt(this,Tt).clear(),yt(this,Ot).destroy(),yt(this,kt).destroy()}get hcmFilter(){return(0,a.shadow)(this,"hcmFilter",yt(this,Nt)?yt(this,xt).addHCMFilter(yt(this,Nt).foreground,yt(this,Nt).background):"none")}get direction(){return(0,a.shadow)(this,"direction",getComputedStyle(yt(this,rn)).direction)}editAltText($t){var on;(on=yt(this,kt))==null||on.editAltText(this,$t)}onPageChanging({pageNumber:$t}){Qt(this,Pt,$t-1)}focusMainContainer(){yt(this,rn).focus()}findParent($t,on){for(const fn of yt(this,vt).values()){const{x:_n,y:An,width:gn,height:It}=fn.div.getBoundingClientRect();if($t>=_n&&$t<=_n+gn&&on>=An&&on<=An+It)return fn}return null}disableUserSelect($t=!1){yt(this,tn).classList.toggle("noUserSelect",$t)}addShouldRescale($t){yt(this,_t).add($t)}removeShouldRescale($t){yt(this,_t).delete($t)}onScaleChanging({scale:$t}){this.commitOrRemove(),this.viewParameters.realScale=$t*o.PixelsPerInch.PDF_TO_CSS_UNITS;for(const on of yt(this,_t))on.onScaleChanging()}onRotationChanging({pagesRotation:$t}){this.commitOrRemove(),this.viewParameters.rotation=$t}addToAnnotationStorage($t){!$t.isEmpty()&&yt(this,jt)&&!yt(this,jt).has($t.id)&&yt(this,jt).setValue($t.id,$t)}blur(){if(!this.hasSelection)return;const{activeElement:$t}=document;for(const on of yt(this,Tt))if(on.div.contains($t)){Qt(this,bt,[on,$t]),on._focusEventsAllowed=!1;break}}focus(){if(!yt(this,bt))return;const[$t,on]=yt(this,bt);Qt(this,bt,null),on.addEventListener("focusin",()=>{$t._focusEventsAllowed=!0},{once:!0}),on.focus()}addEditListeners(){Gt(this,qt,Rr).call(this),Gt(this,qt,Tr).call(this)}removeEditListeners(){Gt(this,qt,or).call(this),Gt(this,qt,Pr).call(this)}copy($t){var fn;if($t.preventDefault(),(fn=yt(this,lt))==null||fn.commitOrRemove(),!this.hasSelection)return;const on=[];for(const _n of yt(this,Tt)){const An=_n.serialize(!0);An&&on.push(An)}on.length!==0&&$t.clipboardData.setData("application/pdfjs",JSON.stringify(on))}cut($t){this.copy($t),this.delete()}paste($t){$t.preventDefault();const{clipboardData:on}=$t;for(const An of on.items)for(const gn of yt(this,St))if(gn.isHandlingMimeForPasting(An.type)){gn.paste(An,this.currentLayer);return}let fn=on.getData("application/pdfjs");if(!fn)return;try{fn=JSON.parse(fn)}catch(An){(0,a.warn)(`paste: "${An.message}".`);return}if(!Array.isArray(fn))return;this.unselectAll();const _n=this.currentLayer;try{const An=[];for(const Mt of fn){const Vt=_n.deserialize(Mt);if(!Vt)return;An.push(Vt)}const gn=()=>{for(const Mt of An)Gt(this,qt,Cr).call(this,Mt);Gt(this,qt,Or).call(this,An)},It=()=>{for(const Mt of An)Mt.remove()};this.addCommands({cmd:gn,undo:It,mustExec:!0})}catch(An){(0,a.warn)(`paste: "${An.message}".`)}}keydown($t){var on;(on=this.getActive())!=null&&on.shouldGetKeyboardEvents()||Nn._keyboardManager.exec(this,$t)}onEditingAction($t){["undo","redo","delete","selectAll"].includes($t.name)&&this[$t.name]()}setEditingState($t){$t?(Gt(this,qt,ls).call(this),Gt(this,qt,Rr).call(this),Gt(this,qt,Tr).call(this),Gt(this,qt,Bn).call(this,{isEditing:yt(this,At)!==a.AnnotationEditorType.NONE,isEmpty:Gt(this,qt,Jn).call(this),hasSomethingToUndo:yt(this,Ot).hasSomethingToUndo(),hasSomethingToRedo:yt(this,Ot).hasSomethingToRedo(),hasSelectedEditor:!1})):(Gt(this,qt,jr).call(this),Gt(this,qt,or).call(this),Gt(this,qt,Pr).call(this),Gt(this,qt,Bn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes($t){if(!yt(this,St)){Qt(this,St,$t);for(const on of yt(this,St))Gt(this,qt,Qn).call(this,on.defaultPropertiesToUpdate)}}getId(){return yt(this,pt).getId()}get currentLayer(){return yt(this,vt).get(yt(this,Pt))}getLayer($t){return yt(this,vt).get($t)}get currentPageIndex(){return yt(this,Pt)}addLayer($t){yt(this,vt).set($t.pageIndex,$t),yt(this,gt)?$t.enable():$t.disable()}removeLayer($t){yt(this,vt).delete($t.pageIndex)}updateMode($t,on=null){if(yt(this,At)!==$t){if(Qt(this,At,$t),$t===a.AnnotationEditorType.NONE){this.setEditingState(!1),Gt(this,qt,cs).call(this);return}this.setEditingState(!0),Gt(this,qt,us).call(this),this.unselectAll();for(const fn of yt(this,vt).values())fn.updateMode($t);if(on){for(const fn of yt(this,ft).values())if(fn.annotationElementId===on){this.setSelected(fn),fn.enterInEditMode();break}}}}updateToolbar($t){$t!==yt(this,At)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:$t})}updateParams($t,on){if(yt(this,St)){if($t===a.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor($t);return}for(const fn of yt(this,Tt))fn.updateParams($t,on);for(const fn of yt(this,St))fn.updateDefaultParams($t,on)}}enableWaiting($t=!1){if(yt(this,Et)!==$t){Qt(this,Et,$t);for(const on of yt(this,vt).values())$t?on.disableClick():on.enableClick(),on.div.classList.toggle("waiting",$t)}}getEditors($t){const on=[];for(const fn of yt(this,ft).values())fn.pageIndex===$t&&on.push(fn);return on}getEditor($t){return yt(this,ft).get($t)}addEditor($t){yt(this,ft).set($t.id,$t)}removeEditor($t){var on;yt(this,ft).delete($t.id),this.unselect($t),(!$t.annotationElementId||!yt(this,Lt).has($t.annotationElementId))&&((on=yt(this,jt))==null||on.remove($t.id))}addDeletedAnnotationElement($t){yt(this,Lt).add($t.annotationElementId),$t.deleted=!0}isDeletedAnnotationElement($t){return yt(this,Lt).has($t)}removeDeletedAnnotationElement($t){yt(this,Lt).delete($t.annotationElementId),$t.deleted=!1}setActiveEditor($t){yt(this,lt)!==$t&&(Qt(this,lt,$t),$t&&Gt(this,qt,Qn).call(this,$t.propertiesToUpdate))}toggleSelected($t){if(yt(this,Tt).has($t)){yt(this,Tt).delete($t),$t.unselect(),Gt(this,qt,Bn).call(this,{hasSelectedEditor:this.hasSelection});return}yt(this,Tt).add($t),$t.select(),Gt(this,qt,Qn).call(this,$t.propertiesToUpdate),Gt(this,qt,Bn).call(this,{hasSelectedEditor:!0})}setSelected($t){for(const on of yt(this,Tt))on!==$t&&on.unselect();yt(this,Tt).clear(),yt(this,Tt).add($t),$t.select(),Gt(this,qt,Qn).call(this,$t.propertiesToUpdate),Gt(this,qt,Bn).call(this,{hasSelectedEditor:!0})}isSelected($t){return yt(this,Tt).has($t)}unselect($t){$t.unselect(),yt(this,Tt).delete($t),Gt(this,qt,Bn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return yt(this,Tt).size!==0}undo(){yt(this,Ot).undo(),Gt(this,qt,Bn).call(this,{hasSomethingToUndo:yt(this,Ot).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Gt(this,qt,Jn).call(this)})}redo(){yt(this,Ot).redo(),Gt(this,qt,Bn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:yt(this,Ot).hasSomethingToRedo(),isEmpty:Gt(this,qt,Jn).call(this)})}addCommands($t){yt(this,Ot).add($t),Gt(this,qt,Bn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Gt(this,qt,Jn).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const $t=[...yt(this,Tt)],on=()=>{for(const _n of $t)_n.remove()},fn=()=>{for(const _n of $t)Gt(this,qt,Cr).call(this,_n)};this.addCommands({cmd:on,undo:fn,mustExec:!0})}commitOrRemove(){var $t;($t=yt(this,lt))==null||$t.commitOrRemove()}hasSomethingToControl(){return yt(this,lt)||this.hasSelection}selectAll(){for(const $t of yt(this,Tt))$t.commit();Gt(this,qt,Or).call(this,yt(this,ft).values())}unselectAll(){if(yt(this,lt)){yt(this,lt).commitOrRemove();return}if(this.hasSelection){for(const $t of yt(this,Tt))$t.unselect();yt(this,Tt).clear(),Gt(this,qt,Bn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors($t,on,fn=!1){if(fn||this.commitOrRemove(),!this.hasSelection)return;yt(this,Bt)[0]+=$t,yt(this,Bt)[1]+=on;const[_n,An]=yt(this,Bt),gn=[...yt(this,Tt)],It=1e3;yt(this,Ut)&&clearTimeout(yt(this,Ut)),Qt(this,Ut,setTimeout(()=>{Qt(this,Ut,null),yt(this,Bt)[0]=yt(this,Bt)[1]=0,this.addCommands({cmd:()=>{for(const Mt of gn)yt(this,ft).has(Mt.id)&&Mt.translateInPage(_n,An)},undo:()=>{for(const Mt of gn)yt(this,ft).has(Mt.id)&&Mt.translateInPage(-_n,-An)},mustExec:!1})},It));for(const Mt of gn)Mt.translateInPage($t,on)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),Qt(this,wt,new Map);for(const $t of yt(this,Tt))yt(this,wt).set($t,{savedX:$t.x,savedY:$t.y,savedPageIndex:$t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!yt(this,wt))return!1;this.disableUserSelect(!1);const $t=yt(this,wt);Qt(this,wt,null);let on=!1;for(const[{x:_n,y:An,pageIndex:gn},It]of $t)It.newX=_n,It.newY=An,It.newPageIndex=gn,on||(on=_n!==It.savedX||An!==It.savedY||gn!==It.savedPageIndex);if(!on)return!1;const fn=(_n,An,gn,It)=>{if(yt(this,ft).has(_n.id)){const Mt=yt(this,vt).get(It);Mt?_n._setParentAndPosition(Mt,An,gn):(_n.pageIndex=It,_n.x=An,_n.y=gn)}};return this.addCommands({cmd:()=>{for(const[_n,{newX:An,newY:gn,newPageIndex:It}]of $t)fn(_n,An,gn,It)},undo:()=>{for(const[_n,{savedX:An,savedY:gn,savedPageIndex:It}]of $t)fn(_n,An,gn,It)},mustExec:!0}),!0}dragSelectedEditors($t,on){if(yt(this,wt))for(const fn of yt(this,wt).keys())fn.drag($t,on)}rebuild($t){if($t.parent===null){const on=this.getLayer($t.pageIndex);on?(on.changeParent($t),on.addOrRebuild($t)):(this.addEditor($t),this.addToAnnotationStorage($t),$t.rebuild())}else $t.parent.addOrRebuild($t)}isActive($t){return yt(this,lt)===$t}getActive(){return yt(this,lt)}getMode(){return yt(this,At)}get imageManager(){return(0,a.shadow)(this,"imageManager",new h)}};lt=new WeakMap,ft=new WeakMap,vt=new WeakMap,kt=new WeakMap,jt=new WeakMap,Ot=new WeakMap,Pt=new WeakMap,Lt=new WeakMap,wt=new WeakMap,St=new WeakMap,_t=new WeakMap,xt=new WeakMap,pt=new WeakMap,gt=new WeakMap,Et=new WeakMap,bt=new WeakMap,At=new WeakMap,Tt=new WeakMap,Nt=new WeakMap,Dt=new WeakMap,zt=new WeakMap,Yt=new WeakMap,Xt=new WeakMap,Jt=new WeakMap,nn=new WeakMap,Wt=new WeakMap,Ht=new WeakMap,Rt=new WeakMap,Ct=new WeakMap,Ft=new WeakMap,Bt=new WeakMap,Ut=new WeakMap,rn=new WeakMap,tn=new WeakMap,qt=new WeakSet,ls=function(){window.addEventListener("focus",yt(this,zt)),window.addEventListener("blur",yt(this,Dt))},jr=function(){window.removeEventListener("focus",yt(this,zt)),window.removeEventListener("blur",yt(this,Dt))},Rr=function(){window.addEventListener("keydown",yt(this,nn),{capture:!0})},or=function(){window.removeEventListener("keydown",yt(this,nn),{capture:!0})},Tr=function(){document.addEventListener("copy",yt(this,Yt)),document.addEventListener("cut",yt(this,Xt)),document.addEventListener("paste",yt(this,Jt))},Pr=function(){document.removeEventListener("copy",yt(this,Yt)),document.removeEventListener("cut",yt(this,Xt)),document.removeEventListener("paste",yt(this,Jt))},Bn=function($t){Object.entries($t).some(([fn,_n])=>yt(this,Ft)[fn]!==_n)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(yt(this,Ft),$t)})},Qn=function($t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:$t})},us=function(){if(!yt(this,gt)){Qt(this,gt,!0);for(const $t of yt(this,vt).values())$t.enable()}},cs=function(){if(this.unselectAll(),yt(this,gt)){Qt(this,gt,!1);for(const $t of yt(this,vt).values())$t.disable()}},Cr=function($t){const on=yt(this,vt).get($t.pageIndex);on?on.addOrRebuild($t):this.addEditor($t)},Jn=function(){if(yt(this,ft).size===0)return!0;if(yt(this,ft).size===1)for(const $t of yt(this,ft).values())return $t.isEmpty();return!1},Or=function($t){yt(this,Tt).clear();for(const on of $t)on.isEmpty()||(yt(this,Tt).add(on),on.select());Gt(this,qt,Bn).call(this,{hasSelectedEditor:!0})},In(Nn,"TRANSLATE_SMALL",1),In(Nn,"TRANSLATE_BIG",10);let j=Nn;i.AnnotationEditorUIManager=j},(e,i,s)=>{var Pt,Lt,wt,St,_t,xt,pt,gt,Et,bt,At,Tt,Gn,Yn,Nr,lr,ur,er,tr;Object.defineProperty(i,"__esModule",{value:!0}),i.StatTimer=i.RenderingCancelledException=i.PixelsPerInch=i.PageViewport=i.PDFDateString=i.DOMStandardFontDataFactory=i.DOMSVGFactory=i.DOMFilterFactory=i.DOMCanvasFactory=i.DOMCMapReaderFactory=void 0,i.deprecated=ut,i.getColorValues=ft,i.getCurrentTransform=vt,i.getCurrentTransformInverse=kt,i.getFilenameFromUrl=et,i.getPdfFilenameFromUrl=tt,i.getRGB=lt,i.getXfaPageViewport=mt,i.isDataScheme=it,i.isPdfFile=st,i.isValidFetchUrl=nt,i.loadScript=dt,i.noContextMenu=at,i.setLayerDimensions=jt;var a=s(7),o=s(1);const c="http://www.w3.org/2000/svg",Ot=class Ot{};In(Ot,"CSS",96),In(Ot,"PDF",72),In(Ot,"PDF_TO_CSS_UNITS",Ot.CSS/Ot.PDF);let d=Ot;i.PixelsPerInch=d;class g extends a.BaseFilterFactory{constructor({docId:Rt,ownerDocument:Ct=globalThis.document}={}){super();Kt(this,Tt);Kt(this,Pt);Kt(this,Lt);Kt(this,wt);Kt(this,St);Kt(this,_t);Kt(this,xt);Kt(this,pt);Kt(this,gt);Kt(this,Et);Kt(this,bt);Kt(this,At,0);Qt(this,wt,Rt),Qt(this,St,Ct)}addFilter(Rt){if(!Rt)return"none";let Ct=yt(this,Tt,Gn).get(Rt);if(Ct)return Ct;let Ft,Bt,Ut,rn;if(Rt.length===1){const dn=Rt[0],yn=new Array(256);for(let jn=0;jn<256;jn++)yn[jn]=dn[jn]/255;rn=Ft=Bt=Ut=yn.join(",")}else{const[dn,yn,jn]=Rt,kn=new Array(256),mn=new Array(256),wn=new Array(256);for(let Pn=0;Pn<256;Pn++)kn[Pn]=dn[Pn]/255,mn[Pn]=yn[Pn]/255,wn[Pn]=jn[Pn]/255;Ft=kn.join(","),Bt=mn.join(","),Ut=wn.join(","),rn=`${Ft}${Bt}${Ut}`}if(Ct=yt(this,Tt,Gn).get(rn),Ct)return yt(this,Tt,Gn).set(Rt,Ct),Ct;const tn=`g_${yt(this,wt)}_transfer_map_${Zn(this,At)._++}`,qt=`url(#${tn})`;yt(this,Tt,Gn).set(Rt,qt),yt(this,Tt,Gn).set(rn,qt);const hn=Gt(this,Tt,lr).call(this,tn);return Gt(this,Tt,er).call(this,Ft,Bt,Ut,hn),qt}addHCMFilter(Rt,Ct){var yn;const Ft=`${Rt}-${Ct}`;if(yt(this,xt)===Ft)return yt(this,pt);if(Qt(this,xt,Ft),Qt(this,pt,"none"),(yn=yt(this,_t))==null||yn.remove(),!Rt||!Ct)return yt(this,pt);const Bt=Gt(this,Tt,tr).call(this,Rt);Rt=o.Util.makeHexColor(...Bt);const Ut=Gt(this,Tt,tr).call(this,Ct);if(Ct=o.Util.makeHexColor(...Ut),yt(this,Tt,Yn).style.color="",Rt==="#000000"&&Ct==="#ffffff"||Rt===Ct)return yt(this,pt);const rn=new Array(256);for(let jn=0;jn<=255;jn++){const kn=jn/255;rn[jn]=kn<=.03928?kn/12.92:((kn+.055)/1.055)**2.4}const tn=rn.join(","),qt=`g_${yt(this,wt)}_hcm_filter`,hn=Qt(this,gt,Gt(this,Tt,lr).call(this,qt));Gt(this,Tt,er).call(this,tn,tn,tn,hn),Gt(this,Tt,Nr).call(this,hn);const dn=(jn,kn)=>{const mn=Bt[jn]/255,wn=Ut[jn]/255,Pn=new Array(kn+1);for(let Ln=0;Ln<=kn;Ln++)Pn[Ln]=mn+Ln/kn*(wn-mn);return Pn.join(",")};return Gt(this,Tt,er).call(this,dn(0,5),dn(1,5),dn(2,5),hn),Qt(this,pt,`url(#${qt})`),yt(this,pt)}addHighlightHCMFilter(Rt,Ct,Ft,Bt){var wn;const Ut=`${Rt}-${Ct}-${Ft}-${Bt}`;if(yt(this,Et)===Ut)return yt(this,bt);if(Qt(this,Et,Ut),Qt(this,bt,"none"),(wn=yt(this,gt))==null||wn.remove(),!Rt||!Ct)return yt(this,bt);const[rn,tn]=[Rt,Ct].map(Gt(this,Tt,tr).bind(this));let qt=Math.round(.2126*rn[0]+.7152*rn[1]+.0722*rn[2]),hn=Math.round(.2126*tn[0]+.7152*tn[1]+.0722*tn[2]),[dn,yn]=[Ft,Bt].map(Gt(this,Tt,tr).bind(this));hn<qt&&([qt,hn,dn,yn]=[hn,qt,yn,dn]),yt(this,Tt,Yn).style.color="";const jn=(Pn,Ln,un)=>{const Zt=new Array(256),en=(hn-qt)/un,vn=Pn/255,Nn=(Ln-Pn)/(255*un);let On=0;for(let $t=0;$t<=un;$t++){const on=Math.round(qt+$t*en),fn=vn+$t*Nn;for(let _n=On;_n<=on;_n++)Zt[_n]=fn;On=on+1}for(let $t=On;$t<256;$t++)Zt[$t]=Zt[On-1];return Zt.join(",")},kn=`g_${yt(this,wt)}_hcm_highlight_filter`,mn=Qt(this,gt,Gt(this,Tt,lr).call(this,kn));return Gt(this,Tt,Nr).call(this,mn),Gt(this,Tt,er).call(this,jn(dn[0],yn[0],5),jn(dn[1],yn[1],5),jn(dn[2],yn[2],5),mn),Qt(this,bt,`url(#${kn})`),yt(this,bt)}destroy(Rt=!1){Rt&&(yt(this,pt)||yt(this,bt))||(yt(this,Lt)&&(yt(this,Lt).parentNode.parentNode.remove(),Qt(this,Lt,null)),yt(this,Pt)&&(yt(this,Pt).clear(),Qt(this,Pt,null)),Qt(this,At,0))}}Pt=new WeakMap,Lt=new WeakMap,wt=new WeakMap,St=new WeakMap,_t=new WeakMap,xt=new WeakMap,pt=new WeakMap,gt=new WeakMap,Et=new WeakMap,bt=new WeakMap,At=new WeakMap,Tt=new WeakSet,Gn=function(){return yt(this,Pt)||Qt(this,Pt,new Map)},Yn=function(){if(!yt(this,Lt)){const Rt=yt(this,St).createElement("div"),{style:Ct}=Rt;Ct.visibility="hidden",Ct.contain="strict",Ct.width=Ct.height=0,Ct.position="absolute",Ct.top=Ct.left=0,Ct.zIndex=-1;const Ft=yt(this,St).createElementNS(c,"svg");Ft.setAttribute("width",0),Ft.setAttribute("height",0),Qt(this,Lt,yt(this,St).createElementNS(c,"defs")),Rt.append(Ft),Ft.append(yt(this,Lt)),yt(this,St).body.append(Rt)}return yt(this,Lt)},Nr=function(Rt){const Ct=yt(this,St).createElementNS(c,"feColorMatrix");Ct.setAttribute("type","matrix"),Ct.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),Rt.append(Ct)},lr=function(Rt){const Ct=yt(this,St).createElementNS(c,"filter");return Ct.setAttribute("color-interpolation-filters","sRGB"),Ct.setAttribute("id",Rt),yt(this,Tt,Yn).append(Ct),Ct},ur=function(Rt,Ct,Ft){const Bt=yt(this,St).createElementNS(c,Ct);Bt.setAttribute("type","discrete"),Bt.setAttribute("tableValues",Ft),Rt.append(Bt)},er=function(Rt,Ct,Ft,Bt){const Ut=yt(this,St).createElementNS(c,"feComponentTransfer");Bt.append(Ut),Gt(this,Tt,ur).call(this,Ut,"feFuncR",Rt),Gt(this,Tt,ur).call(this,Ut,"feFuncG",Ct),Gt(this,Tt,ur).call(this,Ut,"feFuncB",Ft)},tr=function(Rt){return yt(this,Tt,Yn).style.color=Rt,lt(getComputedStyle(yt(this,Tt,Yn)).getPropertyValue("color"))},i.DOMFilterFactory=g;class h extends a.BaseCanvasFactory{constructor({ownerDocument:Ht=globalThis.document}={}){super(),this._document=Ht}_createCanvas(Ht,Rt){const Ct=this._document.createElement("canvas");return Ct.width=Ht,Ct.height=Rt,Ct}}i.DOMCanvasFactory=h;async function b(Wt,Ht=!1){if(nt(Wt,document.baseURI)){const Rt=await fetch(Wt);if(!Rt.ok)throw new Error(Rt.statusText);return Ht?new Uint8Array(await Rt.arrayBuffer()):(0,o.stringToBytes)(await Rt.text())}return new Promise((Rt,Ct)=>{const Ft=new XMLHttpRequest;Ft.open("GET",Wt,!0),Ht&&(Ft.responseType="arraybuffer"),Ft.onreadystatechange=()=>{if(Ft.readyState===XMLHttpRequest.DONE){if(Ft.status===200||Ft.status===0){let Bt;if(Ht&&Ft.response?Bt=new Uint8Array(Ft.response):!Ht&&Ft.responseText&&(Bt=(0,o.stringToBytes)(Ft.responseText)),Bt){Rt(Bt);return}}Ct(new Error(Ft.statusText))}},Ft.send(null)})}class _ extends a.BaseCMapReaderFactory{_fetchData(Ht,Rt){return b(Ht,this.isCompressed).then(Ct=>({cMapData:Ct,compressionType:Rt}))}}i.DOMCMapReaderFactory=_;class $ extends a.BaseStandardFontDataFactory{_fetchData(Ht){return b(Ht,!0)}}i.DOMStandardFontDataFactory=$;class j extends a.BaseSVGFactory{_createSVG(Ht){return document.createElementNS(c,Ht)}}i.DOMSVGFactory=j;class _e{constructor({viewBox:Ht,scale:Rt,rotation:Ct,offsetX:Ft=0,offsetY:Bt=0,dontFlip:Ut=!1}){this.viewBox=Ht,this.scale=Rt,this.rotation=Ct,this.offsetX=Ft,this.offsetY=Bt;const rn=(Ht[2]+Ht[0])/2,tn=(Ht[3]+Ht[1])/2;let qt,hn,dn,yn;switch(Ct%=360,Ct<0&&(Ct+=360),Ct){case 180:qt=-1,hn=0,dn=0,yn=1;break;case 90:qt=0,hn=1,dn=1,yn=0;break;case 270:qt=0,hn=-1,dn=-1,yn=0;break;case 0:qt=1,hn=0,dn=0,yn=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Ut&&(dn=-dn,yn=-yn);let jn,kn,mn,wn;qt===0?(jn=Math.abs(tn-Ht[1])*Rt+Ft,kn=Math.abs(rn-Ht[0])*Rt+Bt,mn=(Ht[3]-Ht[1])*Rt,wn=(Ht[2]-Ht[0])*Rt):(jn=Math.abs(rn-Ht[0])*Rt+Ft,kn=Math.abs(tn-Ht[1])*Rt+Bt,mn=(Ht[2]-Ht[0])*Rt,wn=(Ht[3]-Ht[1])*Rt),this.transform=[qt*Rt,hn*Rt,dn*Rt,yn*Rt,jn-qt*Rt*rn-dn*Rt*tn,kn-hn*Rt*rn-yn*Rt*tn],this.width=mn,this.height=wn}get rawDims(){const{viewBox:Ht}=this;return(0,o.shadow)(this,"rawDims",{pageWidth:Ht[2]-Ht[0],pageHeight:Ht[3]-Ht[1],pageX:Ht[0],pageY:Ht[1]})}clone({scale:Ht=this.scale,rotation:Rt=this.rotation,offsetX:Ct=this.offsetX,offsetY:Ft=this.offsetY,dontFlip:Bt=!1}={}){return new _e({viewBox:this.viewBox.slice(),scale:Ht,rotation:Rt,offsetX:Ct,offsetY:Ft,dontFlip:Bt})}convertToViewportPoint(Ht,Rt){return o.Util.applyTransform([Ht,Rt],this.transform)}convertToViewportRectangle(Ht){const Rt=o.Util.applyTransform([Ht[0],Ht[1]],this.transform),Ct=o.Util.applyTransform([Ht[2],Ht[3]],this.transform);return[Rt[0],Rt[1],Ct[0],Ct[1]]}convertToPdfPoint(Ht,Rt){return o.Util.applyInverseTransform([Ht,Rt],this.transform)}}i.PageViewport=_e;class rt extends o.BaseException{constructor(Ht,Rt=0){super(Ht,"RenderingCancelledException"),this.extraDelay=Rt}}i.RenderingCancelledException=rt;function it(Wt){const Ht=Wt.length;let Rt=0;for(;Rt<Ht&&Wt[Rt].trim()==="";)Rt++;return Wt.substring(Rt,Rt+5).toLowerCase()==="data:"}function st(Wt){return typeof Wt=="string"&&/\.pdf$/i.test(Wt)}function et(Wt,Ht=!1){return Ht||([Wt]=Wt.split(/[#?]/,1)),Wt.substring(Wt.lastIndexOf("/")+1)}function tt(Wt,Ht="document.pdf"){if(typeof Wt!="string")return Ht;if(it(Wt))return(0,o.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Ht;const Rt=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Ct=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Ft=Rt.exec(Wt);let Bt=Ct.exec(Ft[1])||Ct.exec(Ft[2])||Ct.exec(Ft[3]);if(Bt&&(Bt=Bt[0],Bt.includes("%")))try{Bt=Ct.exec(decodeURIComponent(Bt))[0]}catch{}return Bt||Ht}class ot{constructor(){In(this,"started",Object.create(null));In(this,"times",[])}time(Ht){Ht in this.started&&(0,o.warn)(`Timer is already running for ${Ht}`),this.started[Ht]=Date.now()}timeEnd(Ht){Ht in this.started||(0,o.warn)(`Timer has not been started for ${Ht}`),this.times.push({name:Ht,start:this.started[Ht],end:Date.now()}),delete this.started[Ht]}toString(){const Ht=[];let Rt=0;for(const{name:Ct}of this.times)Rt=Math.max(Ct.length,Rt);for(const{name:Ct,start:Ft,end:Bt}of this.times)Ht.push(`${Ct.padEnd(Rt)} ${Bt-Ft}ms
`);return Ht.join("")}}i.StatTimer=ot;function nt(Wt,Ht){try{const{protocol:Rt}=Ht?new URL(Wt,Ht):new URL(Wt);return Rt==="http:"||Rt==="https:"}catch{return!1}}function at(Wt){Wt.preventDefault()}function dt(Wt,Ht=!1){return new Promise((Rt,Ct)=>{const Ft=document.createElement("script");Ft.src=Wt,Ft.onload=function(Bt){Ht&&Ft.remove(),Rt(Bt)},Ft.onerror=function(){Ct(new Error(`Cannot load script at: ${Ft.src}`))},(document.head||document.documentElement).append(Ft)})}function ut(Wt){console.log("Deprecated API usage: "+Wt)}let ct;class ht{static toDateObject(Ht){if(!Ht||typeof Ht!="string")return null;ct||(ct=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Rt=ct.exec(Ht);if(!Rt)return null;const Ct=parseInt(Rt[1],10);let Ft=parseInt(Rt[2],10);Ft=Ft>=1&&Ft<=12?Ft-1:0;let Bt=parseInt(Rt[3],10);Bt=Bt>=1&&Bt<=31?Bt:1;let Ut=parseInt(Rt[4],10);Ut=Ut>=0&&Ut<=23?Ut:0;let rn=parseInt(Rt[5],10);rn=rn>=0&&rn<=59?rn:0;let tn=parseInt(Rt[6],10);tn=tn>=0&&tn<=59?tn:0;const qt=Rt[7]||"Z";let hn=parseInt(Rt[8],10);hn=hn>=0&&hn<=23?hn:0;let dn=parseInt(Rt[9],10)||0;return dn=dn>=0&&dn<=59?dn:0,qt==="-"?(Ut+=hn,rn+=dn):qt==="+"&&(Ut-=hn,rn-=dn),new Date(Date.UTC(Ct,Ft,Bt,Ut,rn,tn))}}i.PDFDateString=ht;function mt(Wt,{scale:Ht=1,rotation:Rt=0}){const{width:Ct,height:Ft}=Wt.attributes.style,Bt=[0,0,parseInt(Ct),parseInt(Ft)];return new _e({viewBox:Bt,scale:Ht,rotation:Rt})}function lt(Wt){if(Wt.startsWith("#")){const Ht=parseInt(Wt.slice(1),16);return[(Ht&16711680)>>16,(Ht&65280)>>8,Ht&255]}return Wt.startsWith("rgb(")?Wt.slice(4,-1).split(",").map(Ht=>parseInt(Ht)):Wt.startsWith("rgba(")?Wt.slice(5,-1).split(",").map(Ht=>parseInt(Ht)).slice(0,3):((0,o.warn)(`Not a valid color format: "${Wt}"`),[0,0,0])}function ft(Wt){const Ht=document.createElement("span");Ht.style.visibility="hidden",document.body.append(Ht);for(const Rt of Wt.keys()){Ht.style.color=Rt;const Ct=window.getComputedStyle(Ht).color;Wt.set(Rt,lt(Ct))}Ht.remove()}function vt(Wt){const{a:Ht,b:Rt,c:Ct,d:Ft,e:Bt,f:Ut}=Wt.getTransform();return[Ht,Rt,Ct,Ft,Bt,Ut]}function kt(Wt){const{a:Ht,b:Rt,c:Ct,d:Ft,e:Bt,f:Ut}=Wt.getTransform().invertSelf();return[Ht,Rt,Ct,Ft,Bt,Ut]}function jt(Wt,Ht,Rt=!1,Ct=!0){if(Ht instanceof _e){const{pageWidth:Ft,pageHeight:Bt}=Ht.rawDims,{style:Ut}=Wt,rn=o.FeatureTest.isCSSRoundSupported,tn=`var(--scale-factor) * ${Ft}px`,qt=`var(--scale-factor) * ${Bt}px`,hn=rn?`round(${tn}, 1px)`:`calc(${tn})`,dn=rn?`round(${qt}, 1px)`:`calc(${qt})`;!Rt||Ht.rotation%180===0?(Ut.width=hn,Ut.height=dn):(Ut.width=dn,Ut.height=hn)}Ct&&Wt.setAttribute("data-main-rotation",Ht.rotation)}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BaseStandardFontDataFactory=i.BaseSVGFactory=i.BaseFilterFactory=i.BaseCanvasFactory=i.BaseCMapReaderFactory=void 0;var a=s(1);class o{constructor(){this.constructor===o&&(0,a.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(_){return"none"}addHCMFilter(_,$){return"none"}addHighlightHCMFilter(_,$,j,_e){return"none"}destroy(_=!1){}}i.BaseFilterFactory=o;class c{constructor(){this.constructor===c&&(0,a.unreachable)("Cannot initialize BaseCanvasFactory.")}create(_,$){if(_<=0||$<=0)throw new Error("Invalid canvas size");const j=this._createCanvas(_,$);return{canvas:j,context:j.getContext("2d")}}reset(_,$,j){if(!_.canvas)throw new Error("Canvas is not specified");if($<=0||j<=0)throw new Error("Invalid canvas size");_.canvas.width=$,_.canvas.height=j}destroy(_){if(!_.canvas)throw new Error("Canvas is not specified");_.canvas.width=0,_.canvas.height=0,_.canvas=null,_.context=null}_createCanvas(_,$){(0,a.unreachable)("Abstract method `_createCanvas` called.")}}i.BaseCanvasFactory=c;class d{constructor({baseUrl:_=null,isCompressed:$=!0}){this.constructor===d&&(0,a.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=_,this.isCompressed=$}async fetch({name:_}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!_)throw new Error("CMap name must be specified.");const $=this.baseUrl+_+(this.isCompressed?".bcmap":""),j=this.isCompressed?a.CMapCompressionType.BINARY:a.CMapCompressionType.NONE;return this._fetchData($,j).catch(_e=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${$}`)})}_fetchData(_,$){(0,a.unreachable)("Abstract method `_fetchData` called.")}}i.BaseCMapReaderFactory=d;class g{constructor({baseUrl:_=null}){this.constructor===g&&(0,a.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=_}async fetch({filename:_}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!_)throw new Error("Font filename must be specified.");const $=`${this.baseUrl}${_}`;return this._fetchData($).catch(j=>{throw new Error(`Unable to load font data at: ${$}`)})}_fetchData(_){(0,a.unreachable)("Abstract method `_fetchData` called.")}}i.BaseStandardFontDataFactory=g;class h{constructor(){this.constructor===h&&(0,a.unreachable)("Cannot initialize BaseSVGFactory.")}create(_,$,j=!1){if(_<=0||$<=0)throw new Error("Invalid SVG dimensions");const _e=this._createSVG("svg:svg");return _e.setAttribute("version","1.1"),j||(_e.setAttribute("width",`${_}px`),_e.setAttribute("height",`${$}px`)),_e.setAttribute("preserveAspectRatio","none"),_e.setAttribute("viewBox",`0 0 ${_} ${$}`),_e}createElement(_){if(typeof _!="string")throw new Error("Invalid SVG element type");return this._createSVG(_)}_createSVG(_){(0,a.unreachable)("Abstract method `_createSVG` called.")}}i.BaseSVGFactory=h},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.MurmurHash3_64=void 0;var a=s(1);const o=3285377520,c=4294901760,d=65535;class g{constructor(b){this.h1=b?b&4294967295:o,this.h2=b?b&4294967295:o}update(b){let _,$;if(typeof b=="string"){_=new Uint8Array(b.length*2),$=0;for(let ut=0,ct=b.length;ut<ct;ut++){const ht=b.charCodeAt(ut);ht<=255?_[$++]=ht:(_[$++]=ht>>>8,_[$++]=ht&255)}}else if((0,a.isArrayBuffer)(b))_=b.slice(),$=_.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const j=$>>2,_e=$-j*4,rt=new Uint32Array(_.buffer,0,j);let it=0,st=0,et=this.h1,tt=this.h2;const ot=3432918353,nt=461845907,at=ot&d,dt=nt&d;for(let ut=0;ut<j;ut++)ut&1?(it=rt[ut],it=it*ot&c|it*at&d,it=it<<15|it>>>17,it=it*nt&c|it*dt&d,et^=it,et=et<<13|et>>>19,et=et*5+3864292196):(st=rt[ut],st=st*ot&c|st*at&d,st=st<<15|st>>>17,st=st*nt&c|st*dt&d,tt^=st,tt=tt<<13|tt>>>19,tt=tt*5+3864292196);switch(it=0,_e){case 3:it^=_[j*4+2]<<16;case 2:it^=_[j*4+1]<<8;case 1:it^=_[j*4],it=it*ot&c|it*at&d,it=it<<15|it>>>17,it=it*nt&c|it*dt&d,j&1?et^=it:tt^=it}this.h1=et,this.h2=tt}hexdigest(){let b=this.h1,_=this.h2;return b^=_>>>1,b=b*3981806797&c|b*36045&d,_=_*4283543511&c|((_<<16|b>>>16)*2950163797&c)>>>16,b^=_>>>1,b=b*444984403&c|b*60499&d,_=_*3301882366&c|((_<<16|b>>>16)*3120437893&c)>>>16,b^=_>>>1,(b>>>0).toString(16).padStart(8,"0")+(_>>>0).toString(16).padStart(8,"0")}}i.MurmurHash3_64=g},(e,i,s)=>{var d;Object.defineProperty(i,"__esModule",{value:!0}),i.FontLoader=i.FontFaceObject=void 0;var a=s(1);class o{constructor({ownerDocument:h=globalThis.document,styleElement:b=null}){Kt(this,d,new Set);this._document=h,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(h){this.nativeFontFaces.add(h),this._document.fonts.add(h)}removeNativeFontFace(h){this.nativeFontFaces.delete(h),this._document.fonts.delete(h)}insertRule(h){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const b=this.styleElement.sheet;b.insertRule(h,b.cssRules.length)}clear(){for(const h of this.nativeFontFaces)this._document.fonts.delete(h);this.nativeFontFaces.clear(),yt(this,d).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(h){if(!(!h||yt(this,d).has(h.loadedName))){if((0,a.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:b,src:_,style:$}=h,j=new FontFace(b,_,$);this.addNativeFontFace(j);try{await j.load(),yt(this,d).add(b)}catch{(0,a.warn)(`Cannot load system font: ${h.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(j)}return}(0,a.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(h){if(h.attached||h.missingFile&&!h.systemFontInfo)return;if(h.attached=!0,h.systemFontInfo){await this.loadSystemFont(h.systemFontInfo);return}if(this.isFontLoadingAPISupported){const _=h.createNativeFontFace();if(_){this.addNativeFontFace(_);try{await _.loaded}catch($){throw(0,a.warn)(`Failed to load font '${_.family}': '${$}'.`),h.disableFontFace=!0,$}}return}const b=h.createFontFaceRule();if(b){if(this.insertRule(b),this.isSyncFontLoadingSupported)return;await new Promise(_=>{const $=this._queueLoadingCallback(_);this._prepareFontLoadEvent(h,$)})}}get isFontLoadingAPISupported(){var b;const h=!!((b=this._document)!=null&&b.fonts);return(0,a.shadow)(this,"isFontLoadingAPISupported",h)}get isSyncFontLoadingSupported(){let h=!1;return(a.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(h=!0),(0,a.shadow)(this,"isSyncFontLoadingSupported",h)}_queueLoadingCallback(h){function b(){for((0,a.assert)(!$.done,"completeRequest() cannot be called twice."),$.done=!0;_.length>0&&_[0].done;){const j=_.shift();setTimeout(j.callback,0)}}const{loadingRequests:_}=this,$={done:!1,complete:b,callback:h};return _.push($),$}get _loadTestFont(){const h=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,a.shadow)(this,"_loadTestFont",h)}_prepareFontLoadEvent(h,b){function _(lt,ft){return lt.charCodeAt(ft)<<24|lt.charCodeAt(ft+1)<<16|lt.charCodeAt(ft+2)<<8|lt.charCodeAt(ft+3)&255}function $(lt,ft,vt,kt){const jt=lt.substring(0,ft),Ot=lt.substring(ft+vt);return jt+kt+Ot}let j,_e;const rt=this._document.createElement("canvas");rt.width=1,rt.height=1;const it=rt.getContext("2d");let st=0;function et(lt,ft){if(++st>30){(0,a.warn)("Load test font never loaded."),ft();return}if(it.font="30px "+lt,it.fillText(".",0,20),it.getImageData(0,0,1,1).data[3]>0){ft();return}setTimeout(et.bind(null,lt,ft))}const tt=`lt${Date.now()}${this.loadTestFontId++}`;let ot=this._loadTestFont;ot=$(ot,976,tt.length,tt);const at=16,dt=1482184792;let ut=_(ot,at);for(j=0,_e=tt.length-3;j<_e;j+=4)ut=ut-dt+_(tt,j)|0;j<tt.length&&(ut=ut-dt+_(tt+"XXX",j)|0),ot=$(ot,at,4,(0,a.string32)(ut));const ct=`url(data:font/opentype;base64,${btoa(ot)});`,ht=`@font-face {font-family:"${tt}";src:${ct}}`;this.insertRule(ht);const mt=this._document.createElement("div");mt.style.visibility="hidden",mt.style.width=mt.style.height="10px",mt.style.position="absolute",mt.style.top=mt.style.left="0px";for(const lt of[h.loadedName,tt]){const ft=this._document.createElement("span");ft.textContent="Hi",ft.style.fontFamily=lt,mt.append(ft)}this._document.body.append(mt),et(tt,()=>{mt.remove(),b.complete()})}}d=new WeakMap,i.FontLoader=o;class c{constructor(h,{isEvalSupported:b=!0,disableFontFace:_=!1,ignoreErrors:$=!1,inspectFont:j=null}){this.compiledGlyphs=Object.create(null);for(const _e in h)this[_e]=h[_e];this.isEvalSupported=b!==!1,this.disableFontFace=_===!0,this.ignoreErrors=$===!0,this._inspectFont=j}createNativeFontFace(){var b;if(!this.data||this.disableFontFace)return null;let h;if(!this.cssFontInfo)h=new FontFace(this.loadedName,this.data,{});else{const _={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(_.style=`oblique ${this.cssFontInfo.italicAngle}deg`),h=new FontFace(this.cssFontInfo.fontFamily,this.data,_)}return(b=this._inspectFont)==null||b.call(this,this),h}createFontFaceRule(){var $;if(!this.data||this.disableFontFace)return null;const h=(0,a.bytesToString)(this.data),b=`url(data:${this.mimetype};base64,${btoa(h)});`;let _;if(!this.cssFontInfo)_=`@font-face {font-family:"${this.loadedName}";src:${b}}`;else{let j=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(j+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),_=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${j}src:${b}}`}return($=this._inspectFont)==null||$.call(this,this,b),_}getPathGenerator(h,b){if(this.compiledGlyphs[b]!==void 0)return this.compiledGlyphs[b];let _;try{_=h.get(this.loadedName+"_path_"+b)}catch($){if(!this.ignoreErrors)throw $;return(0,a.warn)(`getPathGenerator - ignoring character: "${$}".`),this.compiledGlyphs[b]=function(j,_e){}}if(this.isEvalSupported&&a.FeatureTest.isEvalSupported){const $=[];for(const j of _){const _e=j.args!==void 0?j.args.join(","):"";$.push("c.",j.cmd,"(",_e,`);
`)}return this.compiledGlyphs[b]=new Function("c","size",$.join(""))}return this.compiledGlyphs[b]=function($,j){for(const _e of _)_e.cmd==="scale"&&(_e.args=[j,-j]),$[_e.cmd].apply($,_e.args)}}}i.FontFaceObject=c},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.NodeStandardFontDataFactory=i.NodeFilterFactory=i.NodeCanvasFactory=i.NodeCMapReaderFactory=void 0;var a=s(7);s(1);const o=function(b){return new Promise((_,$)=>{require$$5.readFile(b,(_e,rt)=>{if(_e||!rt){$(new Error(_e));return}_(new Uint8Array(rt))})})};class c extends a.BaseFilterFactory{}i.NodeFilterFactory=c;class d extends a.BaseCanvasFactory{_createCanvas(_,$){return require$$5.createCanvas(_,$)}}i.NodeCanvasFactory=d;class g extends a.BaseCMapReaderFactory{_fetchData(_,$){return o(_).then(j=>({cMapData:j,compressionType:$}))}}i.NodeCMapReaderFactory=g;class h extends a.BaseStandardFontDataFactory{_fetchData(_){return o(_)}}i.NodeStandardFontDataFactory=h},(e,i,s)=>{var Lt,Lr,Mr;Object.defineProperty(i,"__esModule",{value:!0}),i.CanvasGraphics=void 0;var a=s(1),o=s(6),c=s(12),d=s(13);const g=16,h=100,b=4096,_=15,$=10,j=1e3,_e=16;function rt(xt,pt){if(xt._removeMirroring)throw new Error("Context is already forwarding operations.");xt.__originalSave=xt.save,xt.__originalRestore=xt.restore,xt.__originalRotate=xt.rotate,xt.__originalScale=xt.scale,xt.__originalTranslate=xt.translate,xt.__originalTransform=xt.transform,xt.__originalSetTransform=xt.setTransform,xt.__originalResetTransform=xt.resetTransform,xt.__originalClip=xt.clip,xt.__originalMoveTo=xt.moveTo,xt.__originalLineTo=xt.lineTo,xt.__originalBezierCurveTo=xt.bezierCurveTo,xt.__originalRect=xt.rect,xt.__originalClosePath=xt.closePath,xt.__originalBeginPath=xt.beginPath,xt._removeMirroring=()=>{xt.save=xt.__originalSave,xt.restore=xt.__originalRestore,xt.rotate=xt.__originalRotate,xt.scale=xt.__originalScale,xt.translate=xt.__originalTranslate,xt.transform=xt.__originalTransform,xt.setTransform=xt.__originalSetTransform,xt.resetTransform=xt.__originalResetTransform,xt.clip=xt.__originalClip,xt.moveTo=xt.__originalMoveTo,xt.lineTo=xt.__originalLineTo,xt.bezierCurveTo=xt.__originalBezierCurveTo,xt.rect=xt.__originalRect,xt.closePath=xt.__originalClosePath,xt.beginPath=xt.__originalBeginPath,delete xt._removeMirroring},xt.save=function(){pt.save(),this.__originalSave()},xt.restore=function(){pt.restore(),this.__originalRestore()},xt.translate=function(Et,bt){pt.translate(Et,bt),this.__originalTranslate(Et,bt)},xt.scale=function(Et,bt){pt.scale(Et,bt),this.__originalScale(Et,bt)},xt.transform=function(Et,bt,At,Tt,Nt,Dt){pt.transform(Et,bt,At,Tt,Nt,Dt),this.__originalTransform(Et,bt,At,Tt,Nt,Dt)},xt.setTransform=function(Et,bt,At,Tt,Nt,Dt){pt.setTransform(Et,bt,At,Tt,Nt,Dt),this.__originalSetTransform(Et,bt,At,Tt,Nt,Dt)},xt.resetTransform=function(){pt.resetTransform(),this.__originalResetTransform()},xt.rotate=function(Et){pt.rotate(Et),this.__originalRotate(Et)},xt.clip=function(Et){pt.clip(Et),this.__originalClip(Et)},xt.moveTo=function(gt,Et){pt.moveTo(gt,Et),this.__originalMoveTo(gt,Et)},xt.lineTo=function(gt,Et){pt.lineTo(gt,Et),this.__originalLineTo(gt,Et)},xt.bezierCurveTo=function(gt,Et,bt,At,Tt,Nt){pt.bezierCurveTo(gt,Et,bt,At,Tt,Nt),this.__originalBezierCurveTo(gt,Et,bt,At,Tt,Nt)},xt.rect=function(gt,Et,bt,At){pt.rect(gt,Et,bt,At),this.__originalRect(gt,Et,bt,At)},xt.closePath=function(){pt.closePath(),this.__originalClosePath()},xt.beginPath=function(){pt.beginPath(),this.__originalBeginPath()}}class it{constructor(pt){this.canvasFactory=pt,this.cache=Object.create(null)}getCanvas(pt,gt,Et){let bt;return this.cache[pt]!==void 0?(bt=this.cache[pt],this.canvasFactory.reset(bt,gt,Et)):(bt=this.canvasFactory.create(gt,Et),this.cache[pt]=bt),bt}delete(pt){delete this.cache[pt]}clear(){for(const pt in this.cache){const gt=this.cache[pt];this.canvasFactory.destroy(gt),delete this.cache[pt]}}}function st(xt,pt,gt,Et,bt,At,Tt,Nt,Dt,zt){const[Yt,Xt,Jt,nn,Wt,Ht]=(0,o.getCurrentTransform)(xt);if(Xt===0&&Jt===0){const Ft=Tt*Yt+Wt,Bt=Math.round(Ft),Ut=Nt*nn+Ht,rn=Math.round(Ut),tn=(Tt+Dt)*Yt+Wt,qt=Math.abs(Math.round(tn)-Bt)||1,hn=(Nt+zt)*nn+Ht,dn=Math.abs(Math.round(hn)-rn)||1;return xt.setTransform(Math.sign(Yt),0,0,Math.sign(nn),Bt,rn),xt.drawImage(pt,gt,Et,bt,At,0,0,qt,dn),xt.setTransform(Yt,Xt,Jt,nn,Wt,Ht),[qt,dn]}if(Yt===0&&nn===0){const Ft=Nt*Jt+Wt,Bt=Math.round(Ft),Ut=Tt*Xt+Ht,rn=Math.round(Ut),tn=(Nt+zt)*Jt+Wt,qt=Math.abs(Math.round(tn)-Bt)||1,hn=(Tt+Dt)*Xt+Ht,dn=Math.abs(Math.round(hn)-rn)||1;return xt.setTransform(0,Math.sign(Xt),Math.sign(Jt),0,Bt,rn),xt.drawImage(pt,gt,Et,bt,At,0,0,dn,qt),xt.setTransform(Yt,Xt,Jt,nn,Wt,Ht),[dn,qt]}xt.drawImage(pt,gt,Et,bt,At,Tt,Nt,Dt,zt);const Rt=Math.hypot(Yt,Xt),Ct=Math.hypot(Jt,nn);return[Rt*Dt,Ct*zt]}function et(xt){const{width:pt,height:gt}=xt;if(pt>j||gt>j)return null;const Et=1e3,bt=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),At=pt+1;let Tt=new Uint8Array(At*(gt+1)),Nt,Dt,zt;const Yt=pt+7&-8;let Xt=new Uint8Array(Yt*gt),Jt=0;for(const Ct of xt.data){let Ft=128;for(;Ft>0;)Xt[Jt++]=Ct&Ft?0:255,Ft>>=1}let nn=0;for(Jt=0,Xt[Jt]!==0&&(Tt[0]=1,++nn),Dt=1;Dt<pt;Dt++)Xt[Jt]!==Xt[Jt+1]&&(Tt[Dt]=Xt[Jt]?2:1,++nn),Jt++;for(Xt[Jt]!==0&&(Tt[Dt]=2,++nn),Nt=1;Nt<gt;Nt++){Jt=Nt*Yt,zt=Nt*At,Xt[Jt-Yt]!==Xt[Jt]&&(Tt[zt]=Xt[Jt]?1:8,++nn);let Ct=(Xt[Jt]?4:0)+(Xt[Jt-Yt]?8:0);for(Dt=1;Dt<pt;Dt++)Ct=(Ct>>2)+(Xt[Jt+1]?4:0)+(Xt[Jt-Yt+1]?8:0),bt[Ct]&&(Tt[zt+Dt]=bt[Ct],++nn),Jt++;if(Xt[Jt-Yt]!==Xt[Jt]&&(Tt[zt+Dt]=Xt[Jt]?2:4,++nn),nn>Et)return null}for(Jt=Yt*(gt-1),zt=Nt*At,Xt[Jt]!==0&&(Tt[zt]=8,++nn),Dt=1;Dt<pt;Dt++)Xt[Jt]!==Xt[Jt+1]&&(Tt[zt+Dt]=Xt[Jt]?4:8,++nn),Jt++;if(Xt[Jt]!==0&&(Tt[zt+Dt]=4,++nn),nn>Et)return null;const Wt=new Int32Array([0,At,-1,0,-At,0,0,0,1]),Ht=new Path2D;for(Nt=0;nn&&Nt<=gt;Nt++){let Ct=Nt*At;const Ft=Ct+pt;for(;Ct<Ft&&!Tt[Ct];)Ct++;if(Ct===Ft)continue;Ht.moveTo(Ct%At,Nt);const Bt=Ct;let Ut=Tt[Ct];do{const rn=Wt[Ut];do Ct+=rn;while(!Tt[Ct]);const tn=Tt[Ct];tn!==5&&tn!==10?(Ut=tn,Tt[Ct]=0):(Ut=tn&51*Ut>>4,Tt[Ct]&=Ut>>2|Ut<<2),Ht.lineTo(Ct%At,Ct/At|0),Tt[Ct]||--nn}while(Bt!==Ct);--Nt}return Xt=null,Tt=null,function(Ct){Ct.save(),Ct.scale(1/pt,-1/gt),Ct.translate(0,-gt),Ct.fill(Ht),Ct.beginPath(),Ct.restore()}}class tt{constructor(pt,gt){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=a.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=a.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=a.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,pt,gt])}clone(){const pt=Object.create(this);return pt.clipBox=this.clipBox.slice(),pt}setCurrentPoint(pt,gt){this.x=pt,this.y=gt}updatePathMinMax(pt,gt,Et){[gt,Et]=a.Util.applyTransform([gt,Et],pt),this.minX=Math.min(this.minX,gt),this.minY=Math.min(this.minY,Et),this.maxX=Math.max(this.maxX,gt),this.maxY=Math.max(this.maxY,Et)}updateRectMinMax(pt,gt){const Et=a.Util.applyTransform(gt,pt),bt=a.Util.applyTransform(gt.slice(2),pt);this.minX=Math.min(this.minX,Et[0],bt[0]),this.minY=Math.min(this.minY,Et[1],bt[1]),this.maxX=Math.max(this.maxX,Et[0],bt[0]),this.maxY=Math.max(this.maxY,Et[1],bt[1])}updateScalingPathMinMax(pt,gt){a.Util.scaleMinMax(pt,gt),this.minX=Math.min(this.minX,gt[0]),this.maxX=Math.max(this.maxX,gt[1]),this.minY=Math.min(this.minY,gt[2]),this.maxY=Math.max(this.maxY,gt[3])}updateCurvePathMinMax(pt,gt,Et,bt,At,Tt,Nt,Dt,zt,Yt){const Xt=a.Util.bezierBoundingBox(gt,Et,bt,At,Tt,Nt,Dt,zt);if(Yt){Yt[0]=Math.min(Yt[0],Xt[0],Xt[2]),Yt[1]=Math.max(Yt[1],Xt[0],Xt[2]),Yt[2]=Math.min(Yt[2],Xt[1],Xt[3]),Yt[3]=Math.max(Yt[3],Xt[1],Xt[3]);return}this.updateRectMinMax(pt,Xt)}getPathBoundingBox(pt=c.PathType.FILL,gt=null){const Et=[this.minX,this.minY,this.maxX,this.maxY];if(pt===c.PathType.STROKE){gt||(0,a.unreachable)("Stroke bounding box must include transform.");const bt=a.Util.singularValueDecompose2dScale(gt),At=bt[0]*this.lineWidth/2,Tt=bt[1]*this.lineWidth/2;Et[0]-=At,Et[1]-=Tt,Et[2]+=At,Et[3]+=Tt}return Et}updateClipFromPath(){const pt=a.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(pt||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(pt){this.clipBox=pt,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(pt=c.PathType.FILL,gt=null){return a.Util.intersect(this.clipBox,this.getPathBoundingBox(pt,gt))}}function ot(xt,pt){if(typeof ImageData<"u"&&pt instanceof ImageData){xt.putImageData(pt,0,0);return}const gt=pt.height,Et=pt.width,bt=gt%_e,At=(gt-bt)/_e,Tt=bt===0?At:At+1,Nt=xt.createImageData(Et,_e);let Dt=0,zt;const Yt=pt.data,Xt=Nt.data;let Jt,nn,Wt,Ht;if(pt.kind===a.ImageKind.GRAYSCALE_1BPP){const Rt=Yt.byteLength,Ct=new Uint32Array(Xt.buffer,0,Xt.byteLength>>2),Ft=Ct.length,Bt=Et+7>>3,Ut=4294967295,rn=a.FeatureTest.isLittleEndian?4278190080:255;for(Jt=0;Jt<Tt;Jt++){for(Wt=Jt<At?_e:bt,zt=0,nn=0;nn<Wt;nn++){const tn=Rt-Dt;let qt=0;const hn=tn>Bt?Et:tn*8-7,dn=hn&-8;let yn=0,jn=0;for(;qt<dn;qt+=8)jn=Yt[Dt++],Ct[zt++]=jn&128?Ut:rn,Ct[zt++]=jn&64?Ut:rn,Ct[zt++]=jn&32?Ut:rn,Ct[zt++]=jn&16?Ut:rn,Ct[zt++]=jn&8?Ut:rn,Ct[zt++]=jn&4?Ut:rn,Ct[zt++]=jn&2?Ut:rn,Ct[zt++]=jn&1?Ut:rn;for(;qt<hn;qt++)yn===0&&(jn=Yt[Dt++],yn=128),Ct[zt++]=jn&yn?Ut:rn,yn>>=1}for(;zt<Ft;)Ct[zt++]=0;xt.putImageData(Nt,0,Jt*_e)}}else if(pt.kind===a.ImageKind.RGBA_32BPP){for(nn=0,Ht=Et*_e*4,Jt=0;Jt<At;Jt++)Xt.set(Yt.subarray(Dt,Dt+Ht)),Dt+=Ht,xt.putImageData(Nt,0,nn),nn+=_e;Jt<Tt&&(Ht=Et*bt*4,Xt.set(Yt.subarray(Dt,Dt+Ht)),xt.putImageData(Nt,0,nn))}else if(pt.kind===a.ImageKind.RGB_24BPP)for(Wt=_e,Ht=Et*Wt,Jt=0;Jt<Tt;Jt++){for(Jt>=At&&(Wt=bt,Ht=Et*Wt),zt=0,nn=Ht;nn--;)Xt[zt++]=Yt[Dt++],Xt[zt++]=Yt[Dt++],Xt[zt++]=Yt[Dt++],Xt[zt++]=255;xt.putImageData(Nt,0,Jt*_e)}else throw new Error(`bad image kind: ${pt.kind}`)}function nt(xt,pt){if(pt.bitmap){xt.drawImage(pt.bitmap,0,0);return}const gt=pt.height,Et=pt.width,bt=gt%_e,At=(gt-bt)/_e,Tt=bt===0?At:At+1,Nt=xt.createImageData(Et,_e);let Dt=0;const zt=pt.data,Yt=Nt.data;for(let Xt=0;Xt<Tt;Xt++){const Jt=Xt<At?_e:bt;({srcPos:Dt}=(0,d.convertBlackAndWhiteToRGBA)({src:zt,srcPos:Dt,dest:Yt,width:Et,height:Jt,nonBlackColor:0})),xt.putImageData(Nt,0,Xt*_e)}}function at(xt,pt){const gt=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const Et of gt)xt[Et]!==void 0&&(pt[Et]=xt[Et]);xt.setLineDash!==void 0&&(pt.setLineDash(xt.getLineDash()),pt.lineDashOffset=xt.lineDashOffset)}function dt(xt){if(xt.strokeStyle=xt.fillStyle="#000000",xt.fillRule="nonzero",xt.globalAlpha=1,xt.lineWidth=1,xt.lineCap="butt",xt.lineJoin="miter",xt.miterLimit=10,xt.globalCompositeOperation="source-over",xt.font="10px sans-serif",xt.setLineDash!==void 0&&(xt.setLineDash([]),xt.lineDashOffset=0),!a.isNodeJS){const{filter:pt}=xt;pt!=="none"&&pt!==""&&(xt.filter="none")}}function ut(xt,pt,gt,Et){const bt=xt.length;for(let At=3;At<bt;At+=4){const Tt=xt[At];if(Tt===0)xt[At-3]=pt,xt[At-2]=gt,xt[At-1]=Et;else if(Tt<255){const Nt=255-Tt;xt[At-3]=xt[At-3]*Tt+pt*Nt>>8,xt[At-2]=xt[At-2]*Tt+gt*Nt>>8,xt[At-1]=xt[At-1]*Tt+Et*Nt>>8}}}function ct(xt,pt,gt){const Et=xt.length,bt=1/255;for(let At=3;At<Et;At+=4){const Tt=gt?gt[xt[At]]:xt[At];pt[At]=pt[At]*Tt*bt|0}}function ht(xt,pt,gt){const Et=xt.length;for(let bt=3;bt<Et;bt+=4){const At=xt[bt-3]*77+xt[bt-2]*152+xt[bt-1]*28;pt[bt]=gt?pt[bt]*gt[At>>8]>>8:pt[bt]*At>>16}}function mt(xt,pt,gt,Et,bt,At,Tt,Nt,Dt,zt,Yt){const Xt=!!At,Jt=Xt?At[0]:0,nn=Xt?At[1]:0,Wt=Xt?At[2]:0,Ht=bt==="Luminosity"?ht:ct,Ct=Math.min(Et,Math.ceil(1048576/gt));for(let Ft=0;Ft<Et;Ft+=Ct){const Bt=Math.min(Ct,Et-Ft),Ut=xt.getImageData(Nt-zt,Ft+(Dt-Yt),gt,Bt),rn=pt.getImageData(Nt,Ft+Dt,gt,Bt);Xt&&ut(Ut.data,Jt,nn,Wt),Ht(Ut.data,rn.data,Tt),pt.putImageData(rn,Nt,Ft+Dt)}}function lt(xt,pt,gt,Et){const bt=Et[0],At=Et[1],Tt=Et[2]-bt,Nt=Et[3]-At;Tt===0||Nt===0||(mt(pt.context,gt,Tt,Nt,pt.subtype,pt.backdrop,pt.transferMap,bt,At,pt.offsetX,pt.offsetY),xt.save(),xt.globalAlpha=1,xt.globalCompositeOperation="source-over",xt.setTransform(1,0,0,1,0,0),xt.drawImage(gt.canvas,0,0),xt.restore())}function ft(xt,pt){const gt=a.Util.singularValueDecompose2dScale(xt);gt[0]=Math.fround(gt[0]),gt[1]=Math.fround(gt[1]);const Et=Math.fround((globalThis.devicePixelRatio||1)*o.PixelsPerInch.PDF_TO_CSS_UNITS);return pt!==void 0?pt:gt[0]<=Et||gt[1]<=Et}const vt=["butt","round","square"],kt=["miter","round","bevel"],jt={},Ot={},_t=class _t{constructor(pt,gt,Et,bt,At,{optionalContentConfig:Tt,markedContentStack:Nt=null},Dt,zt){Kt(this,Lt);this.ctx=pt,this.current=new tt(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=gt,this.objs=Et,this.canvasFactory=bt,this.filterFactory=At,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Nt||[],this.optionalContentConfig=Tt,this.cachedCanvases=new it(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Dt,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=zt,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(pt,gt=null){return typeof pt=="string"?pt.startsWith("g_")?this.commonObjs.get(pt):this.objs.get(pt):gt}beginDrawing({transform:pt,viewport:gt,transparency:Et=!1,background:bt=null}){const At=this.ctx.canvas.width,Tt=this.ctx.canvas.height,Nt=this.ctx.fillStyle;if(this.ctx.fillStyle=bt||"#ffffff",this.ctx.fillRect(0,0,At,Tt),this.ctx.fillStyle=Nt,Et){const Dt=this.cachedCanvases.getCanvas("transparent",At,Tt);this.compositeCtx=this.ctx,this.transparentCanvas=Dt.canvas,this.ctx=Dt.context,this.ctx.save(),this.ctx.transform(...(0,o.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),dt(this.ctx),pt&&(this.ctx.transform(...pt),this.outputScaleX=pt[0],this.outputScaleY=pt[0]),this.ctx.transform(...gt.transform),this.viewportScale=gt.scale,this.baseTransform=(0,o.getCurrentTransform)(this.ctx)}executeOperatorList(pt,gt,Et,bt){const At=pt.argsArray,Tt=pt.fnArray;let Nt=gt||0;const Dt=At.length;if(Dt===Nt)return Nt;const zt=Dt-Nt>$&&typeof Et=="function",Yt=zt?Date.now()+_:0;let Xt=0;const Jt=this.commonObjs,nn=this.objs;let Wt;for(;;){if(bt!==void 0&&Nt===bt.nextBreakPoint)return bt.breakIt(Nt,Et),Nt;if(Wt=Tt[Nt],Wt!==a.OPS.dependency)this[Wt].apply(this,At[Nt]);else for(const Ht of At[Nt]){const Rt=Ht.startsWith("g_")?Jt:nn;if(!Rt.has(Ht))return Rt.get(Ht,Et),Nt}if(Nt++,Nt===Dt)return Nt;if(zt&&++Xt>$){if(Date.now()>Yt)return Et(),Nt;Xt=0}}}endDrawing(){Gt(this,Lt,Lr).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const pt of this._cachedBitmapsMap.values()){for(const gt of pt.values())typeof HTMLCanvasElement<"u"&&gt instanceof HTMLCanvasElement&&(gt.width=gt.height=0);pt.clear()}this._cachedBitmapsMap.clear(),Gt(this,Lt,Mr).call(this)}_scaleImage(pt,gt){const Et=pt.width,bt=pt.height;let At=Math.max(Math.hypot(gt[0],gt[1]),1),Tt=Math.max(Math.hypot(gt[2],gt[3]),1),Nt=Et,Dt=bt,zt="prescale1",Yt,Xt;for(;At>2&&Nt>1||Tt>2&&Dt>1;){let Jt=Nt,nn=Dt;At>2&&Nt>1&&(Jt=Nt>=16384?Math.floor(Nt/2)-1||1:Math.ceil(Nt/2),At/=Nt/Jt),Tt>2&&Dt>1&&(nn=Dt>=16384?Math.floor(Dt/2)-1||1:Math.ceil(Dt)/2,Tt/=Dt/nn),Yt=this.cachedCanvases.getCanvas(zt,Jt,nn),Xt=Yt.context,Xt.clearRect(0,0,Jt,nn),Xt.drawImage(pt,0,0,Nt,Dt,0,0,Jt,nn),pt=Yt.canvas,Nt=Jt,Dt=nn,zt=zt==="prescale1"?"prescale2":"prescale1"}return{img:pt,paintWidth:Nt,paintHeight:Dt}}_createMaskCanvas(pt){const gt=this.ctx,{width:Et,height:bt}=pt,At=this.current.fillColor,Tt=this.current.patternFill,Nt=(0,o.getCurrentTransform)(gt);let Dt,zt,Yt,Xt;if((pt.bitmap||pt.data)&&pt.count>1){const qt=pt.bitmap||pt.data.buffer;zt=JSON.stringify(Tt?Nt:[Nt.slice(0,4),At]),Dt=this._cachedBitmapsMap.get(qt),Dt||(Dt=new Map,this._cachedBitmapsMap.set(qt,Dt));const hn=Dt.get(zt);if(hn&&!Tt){const dn=Math.round(Math.min(Nt[0],Nt[2])+Nt[4]),yn=Math.round(Math.min(Nt[1],Nt[3])+Nt[5]);return{canvas:hn,offsetX:dn,offsetY:yn}}Yt=hn}Yt||(Xt=this.cachedCanvases.getCanvas("maskCanvas",Et,bt),nt(Xt.context,pt));let Jt=a.Util.transform(Nt,[1/Et,0,0,-1/bt,0,0]);Jt=a.Util.transform(Jt,[1,0,0,1,0,-bt]);const nn=a.Util.applyTransform([0,0],Jt),Wt=a.Util.applyTransform([Et,bt],Jt),Ht=a.Util.normalizeRect([nn[0],nn[1],Wt[0],Wt[1]]),Rt=Math.round(Ht[2]-Ht[0])||1,Ct=Math.round(Ht[3]-Ht[1])||1,Ft=this.cachedCanvases.getCanvas("fillCanvas",Rt,Ct),Bt=Ft.context,Ut=Math.min(nn[0],Wt[0]),rn=Math.min(nn[1],Wt[1]);Bt.translate(-Ut,-rn),Bt.transform(...Jt),Yt||(Yt=this._scaleImage(Xt.canvas,(0,o.getCurrentTransformInverse)(Bt)),Yt=Yt.img,Dt&&Tt&&Dt.set(zt,Yt)),Bt.imageSmoothingEnabled=ft((0,o.getCurrentTransform)(Bt),pt.interpolate),st(Bt,Yt,0,0,Yt.width,Yt.height,0,0,Et,bt),Bt.globalCompositeOperation="source-in";const tn=a.Util.transform((0,o.getCurrentTransformInverse)(Bt),[1,0,0,1,-Ut,-rn]);return Bt.fillStyle=Tt?At.getPattern(gt,this,tn,c.PathType.FILL):At,Bt.fillRect(0,0,Et,bt),Dt&&!Tt&&(this.cachedCanvases.delete("fillCanvas"),Dt.set(zt,Ft.canvas)),{canvas:Ft.canvas,offsetX:Math.round(Ut),offsetY:Math.round(rn)}}setLineWidth(pt){pt!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=pt,this.ctx.lineWidth=pt}setLineCap(pt){this.ctx.lineCap=vt[pt]}setLineJoin(pt){this.ctx.lineJoin=kt[pt]}setMiterLimit(pt){this.ctx.miterLimit=pt}setDash(pt,gt){const Et=this.ctx;Et.setLineDash!==void 0&&(Et.setLineDash(pt),Et.lineDashOffset=gt)}setRenderingIntent(pt){}setFlatness(pt){}setGState(pt){for(const[gt,Et]of pt)switch(gt){case"LW":this.setLineWidth(Et);break;case"LC":this.setLineCap(Et);break;case"LJ":this.setLineJoin(Et);break;case"ML":this.setMiterLimit(Et);break;case"D":this.setDash(Et[0],Et[1]);break;case"RI":this.setRenderingIntent(Et);break;case"FL":this.setFlatness(Et);break;case"Font":this.setFont(Et[0],Et[1]);break;case"CA":this.current.strokeAlpha=Et;break;case"ca":this.current.fillAlpha=Et,this.ctx.globalAlpha=Et;break;case"BM":this.ctx.globalCompositeOperation=Et;break;case"SMask":this.current.activeSMask=Et?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(Et);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const pt=this.inSMaskMode;this.current.activeSMask&&!pt?this.beginSMaskMode():!this.current.activeSMask&&pt&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const pt=this.ctx.canvas.width,gt=this.ctx.canvas.height,Et="smaskGroupAt"+this.groupLevel,bt=this.cachedCanvases.getCanvas(Et,pt,gt);this.suspendedCtx=this.ctx,this.ctx=bt.context;const At=this.ctx;At.setTransform(...(0,o.getCurrentTransform)(this.suspendedCtx)),at(this.suspendedCtx,At),rt(At,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),at(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(pt){if(!this.current.activeSMask)return;pt?(pt[0]=Math.floor(pt[0]),pt[1]=Math.floor(pt[1]),pt[2]=Math.ceil(pt[2]),pt[3]=Math.ceil(pt[3])):pt=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const gt=this.current.activeSMask,Et=this.suspendedCtx;lt(Et,gt,this.ctx,pt),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(at(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const pt=this.current;this.stateStack.push(pt),this.current=pt.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),at(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(pt,gt,Et,bt,At,Tt){this.ctx.transform(pt,gt,Et,bt,At,Tt),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(pt,gt,Et){const bt=this.ctx,At=this.current;let Tt=At.x,Nt=At.y,Dt,zt;const Yt=(0,o.getCurrentTransform)(bt),Xt=Yt[0]===0&&Yt[3]===0||Yt[1]===0&&Yt[2]===0,Jt=Xt?Et.slice(0):null;for(let nn=0,Wt=0,Ht=pt.length;nn<Ht;nn++)switch(pt[nn]|0){case a.OPS.rectangle:Tt=gt[Wt++],Nt=gt[Wt++];const Rt=gt[Wt++],Ct=gt[Wt++],Ft=Tt+Rt,Bt=Nt+Ct;bt.moveTo(Tt,Nt),Rt===0||Ct===0?bt.lineTo(Ft,Bt):(bt.lineTo(Ft,Nt),bt.lineTo(Ft,Bt),bt.lineTo(Tt,Bt)),Xt||At.updateRectMinMax(Yt,[Tt,Nt,Ft,Bt]),bt.closePath();break;case a.OPS.moveTo:Tt=gt[Wt++],Nt=gt[Wt++],bt.moveTo(Tt,Nt),Xt||At.updatePathMinMax(Yt,Tt,Nt);break;case a.OPS.lineTo:Tt=gt[Wt++],Nt=gt[Wt++],bt.lineTo(Tt,Nt),Xt||At.updatePathMinMax(Yt,Tt,Nt);break;case a.OPS.curveTo:Dt=Tt,zt=Nt,Tt=gt[Wt+4],Nt=gt[Wt+5],bt.bezierCurveTo(gt[Wt],gt[Wt+1],gt[Wt+2],gt[Wt+3],Tt,Nt),At.updateCurvePathMinMax(Yt,Dt,zt,gt[Wt],gt[Wt+1],gt[Wt+2],gt[Wt+3],Tt,Nt,Jt),Wt+=6;break;case a.OPS.curveTo2:Dt=Tt,zt=Nt,bt.bezierCurveTo(Tt,Nt,gt[Wt],gt[Wt+1],gt[Wt+2],gt[Wt+3]),At.updateCurvePathMinMax(Yt,Dt,zt,Tt,Nt,gt[Wt],gt[Wt+1],gt[Wt+2],gt[Wt+3],Jt),Tt=gt[Wt+2],Nt=gt[Wt+3],Wt+=4;break;case a.OPS.curveTo3:Dt=Tt,zt=Nt,Tt=gt[Wt+2],Nt=gt[Wt+3],bt.bezierCurveTo(gt[Wt],gt[Wt+1],Tt,Nt,Tt,Nt),At.updateCurvePathMinMax(Yt,Dt,zt,gt[Wt],gt[Wt+1],Tt,Nt,Tt,Nt,Jt),Wt+=4;break;case a.OPS.closePath:bt.closePath();break}Xt&&At.updateScalingPathMinMax(Yt,Jt),At.setCurrentPoint(Tt,Nt)}closePath(){this.ctx.closePath()}stroke(pt=!0){const gt=this.ctx,Et=this.current.strokeColor;gt.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof Et=="object"&&(Et!=null&&Et.getPattern)?(gt.save(),gt.strokeStyle=Et.getPattern(gt,this,(0,o.getCurrentTransformInverse)(gt),c.PathType.STROKE),this.rescaleAndStroke(!1),gt.restore()):this.rescaleAndStroke(!0)),pt&&this.consumePath(this.current.getClippedPathBoundingBox()),gt.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(pt=!0){const gt=this.ctx,Et=this.current.fillColor,bt=this.current.patternFill;let At=!1;bt&&(gt.save(),gt.fillStyle=Et.getPattern(gt,this,(0,o.getCurrentTransformInverse)(gt),c.PathType.FILL),At=!0);const Tt=this.current.getClippedPathBoundingBox();this.contentVisible&&Tt!==null&&(this.pendingEOFill?(gt.fill("evenodd"),this.pendingEOFill=!1):gt.fill()),At&&gt.restore(),pt&&this.consumePath(Tt)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=jt}eoClip(){this.pendingClip=Ot}beginText(){this.current.textMatrix=a.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const pt=this.pendingTextPaths,gt=this.ctx;if(pt===void 0){gt.beginPath();return}gt.save(),gt.beginPath();for(const Et of pt)gt.setTransform(...Et.transform),gt.translate(Et.x,Et.y),Et.addToPath(gt,Et.fontSize);gt.restore(),gt.clip(),gt.beginPath(),delete this.pendingTextPaths}setCharSpacing(pt){this.current.charSpacing=pt}setWordSpacing(pt){this.current.wordSpacing=pt}setHScale(pt){this.current.textHScale=pt/100}setLeading(pt){this.current.leading=-pt}setFont(pt,gt){var Yt;const Et=this.commonObjs.get(pt),bt=this.current;if(!Et)throw new Error(`Can't find font for ${pt}`);if(bt.fontMatrix=Et.fontMatrix||a.FONT_IDENTITY_MATRIX,(bt.fontMatrix[0]===0||bt.fontMatrix[3]===0)&&(0,a.warn)("Invalid font matrix for font "+pt),gt<0?(gt=-gt,bt.fontDirection=-1):bt.fontDirection=1,this.current.font=Et,this.current.fontSize=gt,Et.isType3Font)return;const At=Et.loadedName||"sans-serif",Tt=((Yt=Et.systemFontInfo)==null?void 0:Yt.css)||`"${At}", ${Et.fallbackName}`;let Nt="normal";Et.black?Nt="900":Et.bold&&(Nt="bold");const Dt=Et.italic?"italic":"normal";let zt=gt;gt<g?zt=g:gt>h&&(zt=h),this.current.fontSizeScale=gt/zt,this.ctx.font=`${Dt} ${Nt} ${zt}px ${Tt}`}setTextRenderingMode(pt){this.current.textRenderingMode=pt}setTextRise(pt){this.current.textRise=pt}moveText(pt,gt){this.current.x=this.current.lineX+=pt,this.current.y=this.current.lineY+=gt}setLeadingMoveText(pt,gt){this.setLeading(-gt),this.moveText(pt,gt)}setTextMatrix(pt,gt,Et,bt,At,Tt){this.current.textMatrix=[pt,gt,Et,bt,At,Tt],this.current.textMatrixScale=Math.hypot(pt,gt),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(pt,gt,Et,bt){const At=this.ctx,Tt=this.current,Nt=Tt.font,Dt=Tt.textRenderingMode,zt=Tt.fontSize/Tt.fontSizeScale,Yt=Dt&a.TextRenderingMode.FILL_STROKE_MASK,Xt=!!(Dt&a.TextRenderingMode.ADD_TO_PATH_FLAG),Jt=Tt.patternFill&&!Nt.missingFile;let nn;(Nt.disableFontFace||Xt||Jt)&&(nn=Nt.getPathGenerator(this.commonObjs,pt)),Nt.disableFontFace||Jt?(At.save(),At.translate(gt,Et),At.beginPath(),nn(At,zt),bt&&At.setTransform(...bt),(Yt===a.TextRenderingMode.FILL||Yt===a.TextRenderingMode.FILL_STROKE)&&At.fill(),(Yt===a.TextRenderingMode.STROKE||Yt===a.TextRenderingMode.FILL_STROKE)&&At.stroke(),At.restore()):((Yt===a.TextRenderingMode.FILL||Yt===a.TextRenderingMode.FILL_STROKE)&&At.fillText(pt,gt,Et),(Yt===a.TextRenderingMode.STROKE||Yt===a.TextRenderingMode.FILL_STROKE)&&At.strokeText(pt,gt,Et)),Xt&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,o.getCurrentTransform)(At),x:gt,y:Et,fontSize:zt,addToPath:nn})}get isFontSubpixelAAEnabled(){const{context:pt}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);pt.scale(1.5,1),pt.fillText("I",0,10);const gt=pt.getImageData(0,0,10,10).data;let Et=!1;for(let bt=3;bt<gt.length;bt+=4)if(gt[bt]>0&&gt[bt]<255){Et=!0;break}return(0,a.shadow)(this,"isFontSubpixelAAEnabled",Et)}showText(pt){const gt=this.current,Et=gt.font;if(Et.isType3Font)return this.showType3Text(pt);const bt=gt.fontSize;if(bt===0)return;const At=this.ctx,Tt=gt.fontSizeScale,Nt=gt.charSpacing,Dt=gt.wordSpacing,zt=gt.fontDirection,Yt=gt.textHScale*zt,Xt=pt.length,Jt=Et.vertical,nn=Jt?1:-1,Wt=Et.defaultVMetrics,Ht=bt*gt.fontMatrix[0],Rt=gt.textRenderingMode===a.TextRenderingMode.FILL&&!Et.disableFontFace&&!gt.patternFill;At.save(),At.transform(...gt.textMatrix),At.translate(gt.x,gt.y+gt.textRise),zt>0?At.scale(Yt,-1):At.scale(Yt,1);let Ct;if(gt.patternFill){At.save();const tn=gt.fillColor.getPattern(At,this,(0,o.getCurrentTransformInverse)(At),c.PathType.FILL);Ct=(0,o.getCurrentTransform)(At),At.restore(),At.fillStyle=tn}let Ft=gt.lineWidth;const Bt=gt.textMatrixScale;if(Bt===0||Ft===0){const tn=gt.textRenderingMode&a.TextRenderingMode.FILL_STROKE_MASK;(tn===a.TextRenderingMode.STROKE||tn===a.TextRenderingMode.FILL_STROKE)&&(Ft=this.getSinglePixelWidth())}else Ft/=Bt;if(Tt!==1&&(At.scale(Tt,Tt),Ft/=Tt),At.lineWidth=Ft,Et.isInvalidPDFjsFont){const tn=[];let qt=0;for(const hn of pt)tn.push(hn.unicode),qt+=hn.width;At.fillText(tn.join(""),0,0),gt.x+=qt*Ht*Yt,At.restore(),this.compose();return}let Ut=0,rn;for(rn=0;rn<Xt;++rn){const tn=pt[rn];if(typeof tn=="number"){Ut+=nn*tn*bt/1e3;continue}let qt=!1;const hn=(tn.isSpace?Dt:0)+Nt,dn=tn.fontChar,yn=tn.accent;let jn,kn,mn=tn.width;if(Jt){const Pn=tn.vmetric||Wt,Ln=-(tn.vmetric?Pn[1]:mn*.5)*Ht,un=Pn[2]*Ht;mn=Pn?-Pn[0]:mn,jn=Ln/Tt,kn=(Ut+un)/Tt}else jn=Ut/Tt,kn=0;if(Et.remeasure&&mn>0){const Pn=At.measureText(dn).width*1e3/bt*Tt;if(mn<Pn&&this.isFontSubpixelAAEnabled){const Ln=mn/Pn;qt=!0,At.save(),At.scale(Ln,1),jn/=Ln}else mn!==Pn&&(jn+=(mn-Pn)/2e3*bt/Tt)}if(this.contentVisible&&(tn.isInFont||Et.missingFile)){if(Rt&&!yn)At.fillText(dn,jn,kn);else if(this.paintChar(dn,jn,kn,Ct),yn){const Pn=jn+bt*yn.offset.x/Tt,Ln=kn-bt*yn.offset.y/Tt;this.paintChar(yn.fontChar,Pn,Ln,Ct)}}const wn=Jt?mn*Ht-hn*zt:mn*Ht+hn*zt;Ut+=wn,qt&&At.restore()}Jt?gt.y-=Ut:gt.x+=Ut*Yt,At.restore(),this.compose()}showType3Text(pt){const gt=this.ctx,Et=this.current,bt=Et.font,At=Et.fontSize,Tt=Et.fontDirection,Nt=bt.vertical?1:-1,Dt=Et.charSpacing,zt=Et.wordSpacing,Yt=Et.textHScale*Tt,Xt=Et.fontMatrix||a.FONT_IDENTITY_MATRIX,Jt=pt.length,nn=Et.textRenderingMode===a.TextRenderingMode.INVISIBLE;let Wt,Ht,Rt,Ct;if(!(nn||At===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,gt.save(),gt.transform(...Et.textMatrix),gt.translate(Et.x,Et.y),gt.scale(Yt,Tt),Wt=0;Wt<Jt;++Wt){if(Ht=pt[Wt],typeof Ht=="number"){Ct=Nt*Ht*At/1e3,this.ctx.translate(Ct,0),Et.x+=Ct*Yt;continue}const Ft=(Ht.isSpace?zt:0)+Dt,Bt=bt.charProcOperatorList[Ht.operatorListId];if(!Bt){(0,a.warn)(`Type3 character "${Ht.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Ht,this.save(),gt.scale(At,At),gt.transform(...Xt),this.executeOperatorList(Bt),this.restore()),Rt=a.Util.applyTransform([Ht.width,0],Xt)[0]*At+Ft,gt.translate(Rt,0),Et.x+=Rt*Yt}gt.restore(),this.processingType3=null}}setCharWidth(pt,gt){}setCharWidthAndBounds(pt,gt,Et,bt,At,Tt){this.ctx.rect(Et,bt,At-Et,Tt-bt),this.ctx.clip(),this.endPath()}getColorN_Pattern(pt){let gt;if(pt[0]==="TilingPattern"){const Et=pt[1],bt=this.baseTransform||(0,o.getCurrentTransform)(this.ctx),At={createCanvasGraphics:Tt=>new _t(Tt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};gt=new c.TilingPattern(pt,Et,this.ctx,At,bt)}else gt=this._getPattern(pt[1],pt[2]);return gt}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(pt,gt,Et){const bt=a.Util.makeHexColor(pt,gt,Et);this.ctx.strokeStyle=bt,this.current.strokeColor=bt}setFillRGBColor(pt,gt,Et){const bt=a.Util.makeHexColor(pt,gt,Et);this.ctx.fillStyle=bt,this.current.fillColor=bt,this.current.patternFill=!1}_getPattern(pt,gt=null){let Et;return this.cachedPatterns.has(pt)?Et=this.cachedPatterns.get(pt):(Et=(0,c.getShadingPattern)(this.getObject(pt)),this.cachedPatterns.set(pt,Et)),gt&&(Et.matrix=gt),Et}shadingFill(pt){if(!this.contentVisible)return;const gt=this.ctx;this.save();const Et=this._getPattern(pt);gt.fillStyle=Et.getPattern(gt,this,(0,o.getCurrentTransformInverse)(gt),c.PathType.SHADING);const bt=(0,o.getCurrentTransformInverse)(gt);if(bt){const{width:At,height:Tt}=gt.canvas,[Nt,Dt,zt,Yt]=a.Util.getAxialAlignedBoundingBox([0,0,At,Tt],bt);this.ctx.fillRect(Nt,Dt,zt-Nt,Yt-Dt)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,a.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,a.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(pt,gt){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(pt)&&pt.length===6&&this.transform(...pt),this.baseTransform=(0,o.getCurrentTransform)(this.ctx),gt)){const Et=gt[2]-gt[0],bt=gt[3]-gt[1];this.ctx.rect(gt[0],gt[1],Et,bt),this.current.updateRectMinMax((0,o.getCurrentTransform)(this.ctx),gt),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(pt){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const gt=this.ctx;pt.isolated||(0,a.info)("TODO: Support non-isolated groups."),pt.knockout&&(0,a.warn)("Knockout groups not supported.");const Et=(0,o.getCurrentTransform)(gt);if(pt.matrix&&gt.transform(...pt.matrix),!pt.bbox)throw new Error("Bounding box is required.");let bt=a.Util.getAxialAlignedBoundingBox(pt.bbox,(0,o.getCurrentTransform)(gt));const At=[0,0,gt.canvas.width,gt.canvas.height];bt=a.Util.intersect(bt,At)||[0,0,0,0];const Tt=Math.floor(bt[0]),Nt=Math.floor(bt[1]);let Dt=Math.max(Math.ceil(bt[2])-Tt,1),zt=Math.max(Math.ceil(bt[3])-Nt,1),Yt=1,Xt=1;Dt>b&&(Yt=Dt/b,Dt=b),zt>b&&(Xt=zt/b,zt=b),this.current.startNewPathAndClipBox([0,0,Dt,zt]);let Jt="groupAt"+this.groupLevel;pt.smask&&(Jt+="_smask_"+this.smaskCounter++%2);const nn=this.cachedCanvases.getCanvas(Jt,Dt,zt),Wt=nn.context;Wt.scale(1/Yt,1/Xt),Wt.translate(-Tt,-Nt),Wt.transform(...Et),pt.smask?this.smaskStack.push({canvas:nn.canvas,context:Wt,offsetX:Tt,offsetY:Nt,scaleX:Yt,scaleY:Xt,subtype:pt.smask.subtype,backdrop:pt.smask.backdrop,transferMap:pt.smask.transferMap||null,startTransformInverse:null}):(gt.setTransform(1,0,0,1,0,0),gt.translate(Tt,Nt),gt.scale(Yt,Xt),gt.save()),at(gt,Wt),this.ctx=Wt,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(gt),this.groupLevel++}endGroup(pt){if(!this.contentVisible)return;this.groupLevel--;const gt=this.ctx,Et=this.groupStack.pop();if(this.ctx=Et,this.ctx.imageSmoothingEnabled=!1,pt.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const bt=(0,o.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...bt);const At=a.Util.getAxialAlignedBoundingBox([0,0,gt.canvas.width,gt.canvas.height],bt);this.ctx.drawImage(gt.canvas,0,0),this.ctx.restore(),this.compose(At)}}beginAnnotation(pt,gt,Et,bt,At){if(Gt(this,Lt,Lr).call(this),dt(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(gt)&&gt.length===4){const Tt=gt[2]-gt[0],Nt=gt[3]-gt[1];if(At&&this.annotationCanvasMap){Et=Et.slice(),Et[4]-=gt[0],Et[5]-=gt[1],gt=gt.slice(),gt[0]=gt[1]=0,gt[2]=Tt,gt[3]=Nt;const[Dt,zt]=a.Util.singularValueDecompose2dScale((0,o.getCurrentTransform)(this.ctx)),{viewportScale:Yt}=this,Xt=Math.ceil(Tt*this.outputScaleX*Yt),Jt=Math.ceil(Nt*this.outputScaleY*Yt);this.annotationCanvas=this.canvasFactory.create(Xt,Jt);const{canvas:nn,context:Wt}=this.annotationCanvas;this.annotationCanvasMap.set(pt,nn),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Wt,this.ctx.save(),this.ctx.setTransform(Dt,0,0,-zt,0,Nt*zt),dt(this.ctx)}else dt(this.ctx),this.ctx.rect(gt[0],gt[1],Tt,Nt),this.ctx.clip(),this.endPath()}this.current=new tt(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...Et),this.transform(...bt)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Gt(this,Lt,Mr).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(pt){if(!this.contentVisible)return;const gt=pt.count;pt=this.getObject(pt.data,pt),pt.count=gt;const Et=this.ctx,bt=this.processingType3;if(bt&&(bt.compiled===void 0&&(bt.compiled=et(pt)),bt.compiled)){bt.compiled(Et);return}const At=this._createMaskCanvas(pt),Tt=At.canvas;Et.save(),Et.setTransform(1,0,0,1,0,0),Et.drawImage(Tt,At.offsetX,At.offsetY),Et.restore(),this.compose()}paintImageMaskXObjectRepeat(pt,gt,Et=0,bt=0,At,Tt){if(!this.contentVisible)return;pt=this.getObject(pt.data,pt);const Nt=this.ctx;Nt.save();const Dt=(0,o.getCurrentTransform)(Nt);Nt.transform(gt,Et,bt,At,0,0);const zt=this._createMaskCanvas(pt);Nt.setTransform(1,0,0,1,zt.offsetX-Dt[4],zt.offsetY-Dt[5]);for(let Yt=0,Xt=Tt.length;Yt<Xt;Yt+=2){const Jt=a.Util.transform(Dt,[gt,Et,bt,At,Tt[Yt],Tt[Yt+1]]),[nn,Wt]=a.Util.applyTransform([0,0],Jt);Nt.drawImage(zt.canvas,nn,Wt)}Nt.restore(),this.compose()}paintImageMaskXObjectGroup(pt){if(!this.contentVisible)return;const gt=this.ctx,Et=this.current.fillColor,bt=this.current.patternFill;for(const At of pt){const{data:Tt,width:Nt,height:Dt,transform:zt}=At,Yt=this.cachedCanvases.getCanvas("maskCanvas",Nt,Dt),Xt=Yt.context;Xt.save();const Jt=this.getObject(Tt,At);nt(Xt,Jt),Xt.globalCompositeOperation="source-in",Xt.fillStyle=bt?Et.getPattern(Xt,this,(0,o.getCurrentTransformInverse)(gt),c.PathType.FILL):Et,Xt.fillRect(0,0,Nt,Dt),Xt.restore(),gt.save(),gt.transform(...zt),gt.scale(1,-1),st(gt,Yt.canvas,0,0,Nt,Dt,0,-1,1,1),gt.restore()}this.compose()}paintImageXObject(pt){if(!this.contentVisible)return;const gt=this.getObject(pt);if(!gt){(0,a.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(gt)}paintImageXObjectRepeat(pt,gt,Et,bt){if(!this.contentVisible)return;const At=this.getObject(pt);if(!At){(0,a.warn)("Dependent image isn't ready yet");return}const Tt=At.width,Nt=At.height,Dt=[];for(let zt=0,Yt=bt.length;zt<Yt;zt+=2)Dt.push({transform:[gt,0,0,Et,bt[zt],bt[zt+1]],x:0,y:0,w:Tt,h:Nt});this.paintInlineImageXObjectGroup(At,Dt)}applyTransferMapsToCanvas(pt){return this.current.transferMaps!=="none"&&(pt.filter=this.current.transferMaps,pt.drawImage(pt.canvas,0,0),pt.filter="none"),pt.canvas}applyTransferMapsToBitmap(pt){if(this.current.transferMaps==="none")return pt.bitmap;const{bitmap:gt,width:Et,height:bt}=pt,At=this.cachedCanvases.getCanvas("inlineImage",Et,bt),Tt=At.context;return Tt.filter=this.current.transferMaps,Tt.drawImage(gt,0,0),Tt.filter="none",At.canvas}paintInlineImageXObject(pt){if(!this.contentVisible)return;const gt=pt.width,Et=pt.height,bt=this.ctx;if(this.save(),!a.isNodeJS){const{filter:Nt}=bt;Nt!=="none"&&Nt!==""&&(bt.filter="none")}bt.scale(1/gt,-1/Et);let At;if(pt.bitmap)At=this.applyTransferMapsToBitmap(pt);else if(typeof HTMLElement=="function"&&pt instanceof HTMLElement||!pt.data)At=pt;else{const Dt=this.cachedCanvases.getCanvas("inlineImage",gt,Et).context;ot(Dt,pt),At=this.applyTransferMapsToCanvas(Dt)}const Tt=this._scaleImage(At,(0,o.getCurrentTransformInverse)(bt));bt.imageSmoothingEnabled=ft((0,o.getCurrentTransform)(bt),pt.interpolate),st(bt,Tt.img,0,0,Tt.paintWidth,Tt.paintHeight,0,-Et,gt,Et),this.compose(),this.restore()}paintInlineImageXObjectGroup(pt,gt){if(!this.contentVisible)return;const Et=this.ctx;let bt;if(pt.bitmap)bt=pt.bitmap;else{const At=pt.width,Tt=pt.height,Dt=this.cachedCanvases.getCanvas("inlineImage",At,Tt).context;ot(Dt,pt),bt=this.applyTransferMapsToCanvas(Dt)}for(const At of gt)Et.save(),Et.transform(...At.transform),Et.scale(1,-1),st(Et,bt,At.x,At.y,At.w,At.h,0,-1,1,1),Et.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(pt){}markPointProps(pt,gt){}beginMarkedContent(pt){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(pt,gt){pt==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(gt)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(pt){const gt=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(pt);const Et=this.ctx;this.pendingClip&&(gt||(this.pendingClip===Ot?Et.clip("evenodd"):Et.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),Et.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const pt=(0,o.getCurrentTransform)(this.ctx);if(pt[1]===0&&pt[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(pt[0]),Math.abs(pt[3]));else{const gt=Math.abs(pt[0]*pt[3]-pt[2]*pt[1]),Et=Math.hypot(pt[0],pt[2]),bt=Math.hypot(pt[1],pt[3]);this._cachedGetSinglePixelWidth=Math.max(Et,bt)/gt}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:pt}=this.current,{a:gt,b:Et,c:bt,d:At}=this.ctx.getTransform();let Tt,Nt;if(Et===0&&bt===0){const Dt=Math.abs(gt),zt=Math.abs(At);if(Dt===zt)if(pt===0)Tt=Nt=1/Dt;else{const Yt=Dt*pt;Tt=Nt=Yt<1?1/Yt:1}else if(pt===0)Tt=1/Dt,Nt=1/zt;else{const Yt=Dt*pt,Xt=zt*pt;Tt=Yt<1?1/Yt:1,Nt=Xt<1?1/Xt:1}}else{const Dt=Math.abs(gt*At-Et*bt),zt=Math.hypot(gt,Et),Yt=Math.hypot(bt,At);if(pt===0)Tt=Yt/Dt,Nt=zt/Dt;else{const Xt=pt*Dt;Tt=Yt>Xt?Yt/Xt:1,Nt=zt>Xt?zt/Xt:1}}this._cachedScaleForStroking[0]=Tt,this._cachedScaleForStroking[1]=Nt}return this._cachedScaleForStroking}rescaleAndStroke(pt){const{ctx:gt}=this,{lineWidth:Et}=this.current,[bt,At]=this.getScaleForStroking();if(gt.lineWidth=Et||1,bt===1&&At===1){gt.stroke();return}const Tt=gt.getLineDash();if(pt&&gt.save(),gt.scale(bt,At),Tt.length>0){const Nt=Math.max(bt,At);gt.setLineDash(Tt.map(Dt=>Dt/Nt)),gt.lineDashOffset/=Nt}gt.stroke(),pt&&gt.restore()}isContentVisible(){for(let pt=this.markedContentStack.length-1;pt>=0;pt--)if(!this.markedContentStack[pt].visible)return!1;return!0}};Lt=new WeakSet,Lr=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Mr=function(){if(this.pageColors){const pt=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(pt!=="none"){const gt=this.ctx.filter;this.ctx.filter=pt,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=gt}}};let Pt=_t;i.CanvasGraphics=Pt;for(const xt in a.OPS)Pt.prototype[xt]!==void 0&&(Pt.prototype[a.OPS[xt]]=Pt.prototype[xt])},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TilingPattern=i.PathType=void 0,i.getShadingPattern=_e;var a=s(1),o=s(6);const c={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};i.PathType=c;function d(et,tt){if(!tt)return;const ot=tt[2]-tt[0],nt=tt[3]-tt[1],at=new Path2D;at.rect(tt[0],tt[1],ot,nt),et.clip(at)}class g{constructor(){this.constructor===g&&(0,a.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,a.unreachable)("Abstract method `getPattern` called.")}}class h extends g{constructor(tt){super(),this._type=tt[1],this._bbox=tt[2],this._colorStops=tt[3],this._p0=tt[4],this._p1=tt[5],this._r0=tt[6],this._r1=tt[7],this.matrix=null}_createGradient(tt){let ot;this._type==="axial"?ot=tt.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(ot=tt.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const nt of this._colorStops)ot.addColorStop(nt[0],nt[1]);return ot}getPattern(tt,ot,nt,at){let dt;if(at===c.STROKE||at===c.FILL){const ut=ot.current.getClippedPathBoundingBox(at,(0,o.getCurrentTransform)(tt))||[0,0,0,0],ct=Math.ceil(ut[2]-ut[0])||1,ht=Math.ceil(ut[3]-ut[1])||1,mt=ot.cachedCanvases.getCanvas("pattern",ct,ht,!0),lt=mt.context;lt.clearRect(0,0,lt.canvas.width,lt.canvas.height),lt.beginPath(),lt.rect(0,0,lt.canvas.width,lt.canvas.height),lt.translate(-ut[0],-ut[1]),nt=a.Util.transform(nt,[1,0,0,1,ut[0],ut[1]]),lt.transform(...ot.baseTransform),this.matrix&&lt.transform(...this.matrix),d(lt,this._bbox),lt.fillStyle=this._createGradient(lt),lt.fill(),dt=tt.createPattern(mt.canvas,"no-repeat");const ft=new DOMMatrix(nt);dt.setTransform(ft)}else d(tt,this._bbox),dt=this._createGradient(tt);return dt}}function b(et,tt,ot,nt,at,dt,ut,ct){const ht=tt.coords,mt=tt.colors,lt=et.data,ft=et.width*4;let vt;ht[ot+1]>ht[nt+1]&&(vt=ot,ot=nt,nt=vt,vt=dt,dt=ut,ut=vt),ht[nt+1]>ht[at+1]&&(vt=nt,nt=at,at=vt,vt=ut,ut=ct,ct=vt),ht[ot+1]>ht[nt+1]&&(vt=ot,ot=nt,nt=vt,vt=dt,dt=ut,ut=vt);const kt=(ht[ot]+tt.offsetX)*tt.scaleX,jt=(ht[ot+1]+tt.offsetY)*tt.scaleY,Ot=(ht[nt]+tt.offsetX)*tt.scaleX,Pt=(ht[nt+1]+tt.offsetY)*tt.scaleY,Lt=(ht[at]+tt.offsetX)*tt.scaleX,wt=(ht[at+1]+tt.offsetY)*tt.scaleY;if(jt>=wt)return;const St=mt[dt],_t=mt[dt+1],xt=mt[dt+2],pt=mt[ut],gt=mt[ut+1],Et=mt[ut+2],bt=mt[ct],At=mt[ct+1],Tt=mt[ct+2],Nt=Math.round(jt),Dt=Math.round(wt);let zt,Yt,Xt,Jt,nn,Wt,Ht,Rt;for(let Ct=Nt;Ct<=Dt;Ct++){if(Ct<Pt){const tn=Ct<jt?0:(jt-Ct)/(jt-Pt);zt=kt-(kt-Ot)*tn,Yt=St-(St-pt)*tn,Xt=_t-(_t-gt)*tn,Jt=xt-(xt-Et)*tn}else{let tn;Ct>wt?tn=1:Pt===wt?tn=0:tn=(Pt-Ct)/(Pt-wt),zt=Ot-(Ot-Lt)*tn,Yt=pt-(pt-bt)*tn,Xt=gt-(gt-At)*tn,Jt=Et-(Et-Tt)*tn}let Ft;Ct<jt?Ft=0:Ct>wt?Ft=1:Ft=(jt-Ct)/(jt-wt),nn=kt-(kt-Lt)*Ft,Wt=St-(St-bt)*Ft,Ht=_t-(_t-At)*Ft,Rt=xt-(xt-Tt)*Ft;const Bt=Math.round(Math.min(zt,nn)),Ut=Math.round(Math.max(zt,nn));let rn=ft*Ct+Bt*4;for(let tn=Bt;tn<=Ut;tn++)Ft=(zt-tn)/(zt-nn),Ft<0?Ft=0:Ft>1&&(Ft=1),lt[rn++]=Yt-(Yt-Wt)*Ft|0,lt[rn++]=Xt-(Xt-Ht)*Ft|0,lt[rn++]=Jt-(Jt-Rt)*Ft|0,lt[rn++]=255}}function _(et,tt,ot){const nt=tt.coords,at=tt.colors;let dt,ut;switch(tt.type){case"lattice":const ct=tt.verticesPerRow,ht=Math.floor(nt.length/ct)-1,mt=ct-1;for(dt=0;dt<ht;dt++){let lt=dt*ct;for(let ft=0;ft<mt;ft++,lt++)b(et,ot,nt[lt],nt[lt+1],nt[lt+ct],at[lt],at[lt+1],at[lt+ct]),b(et,ot,nt[lt+ct+1],nt[lt+1],nt[lt+ct],at[lt+ct+1],at[lt+1],at[lt+ct])}break;case"triangles":for(dt=0,ut=nt.length;dt<ut;dt+=3)b(et,ot,nt[dt],nt[dt+1],nt[dt+2],at[dt],at[dt+1],at[dt+2]);break;default:throw new Error("illegal figure")}}class $ extends g{constructor(tt){super(),this._coords=tt[2],this._colors=tt[3],this._figures=tt[4],this._bounds=tt[5],this._bbox=tt[7],this._background=tt[8],this.matrix=null}_createMeshCanvas(tt,ot,nt){const ct=Math.floor(this._bounds[0]),ht=Math.floor(this._bounds[1]),mt=Math.ceil(this._bounds[2])-ct,lt=Math.ceil(this._bounds[3])-ht,ft=Math.min(Math.ceil(Math.abs(mt*tt[0]*1.1)),3e3),vt=Math.min(Math.ceil(Math.abs(lt*tt[1]*1.1)),3e3),kt=mt/ft,jt=lt/vt,Ot={coords:this._coords,colors:this._colors,offsetX:-ct,offsetY:-ht,scaleX:1/kt,scaleY:1/jt},Pt=ft+2*2,Lt=vt+2*2,wt=nt.getCanvas("mesh",Pt,Lt,!1),St=wt.context,_t=St.createImageData(ft,vt);if(ot){const pt=_t.data;for(let gt=0,Et=pt.length;gt<Et;gt+=4)pt[gt]=ot[0],pt[gt+1]=ot[1],pt[gt+2]=ot[2],pt[gt+3]=255}for(const pt of this._figures)_(_t,pt,Ot);return St.putImageData(_t,2,2),{canvas:wt.canvas,offsetX:ct-2*kt,offsetY:ht-2*jt,scaleX:kt,scaleY:jt}}getPattern(tt,ot,nt,at){d(tt,this._bbox);let dt;if(at===c.SHADING)dt=a.Util.singularValueDecompose2dScale((0,o.getCurrentTransform)(tt));else if(dt=a.Util.singularValueDecompose2dScale(ot.baseTransform),this.matrix){const ct=a.Util.singularValueDecompose2dScale(this.matrix);dt=[dt[0]*ct[0],dt[1]*ct[1]]}const ut=this._createMeshCanvas(dt,at===c.SHADING?null:this._background,ot.cachedCanvases);return at!==c.SHADING&&(tt.setTransform(...ot.baseTransform),this.matrix&&tt.transform(...this.matrix)),tt.translate(ut.offsetX,ut.offsetY),tt.scale(ut.scaleX,ut.scaleY),tt.createPattern(ut.canvas,"no-repeat")}}class j extends g{getPattern(){return"hotpink"}}function _e(et){switch(et[0]){case"RadialAxial":return new h(et);case"Mesh":return new $(et);case"Dummy":return new j}throw new Error(`Unknown IR type: ${et[0]}`)}const rt={COLORED:1,UNCOLORED:2},st=class st{constructor(tt,ot,nt,at,dt){this.operatorList=tt[2],this.matrix=tt[3]||[1,0,0,1,0,0],this.bbox=tt[4],this.xstep=tt[5],this.ystep=tt[6],this.paintType=tt[7],this.tilingType=tt[8],this.color=ot,this.ctx=nt,this.canvasGraphicsFactory=at,this.baseTransform=dt}createPatternCanvas(tt){const ot=this.operatorList,nt=this.bbox,at=this.xstep,dt=this.ystep,ut=this.paintType,ct=this.tilingType,ht=this.color,mt=this.canvasGraphicsFactory;(0,a.info)("TilingType: "+ct);const lt=nt[0],ft=nt[1],vt=nt[2],kt=nt[3],jt=a.Util.singularValueDecompose2dScale(this.matrix),Ot=a.Util.singularValueDecompose2dScale(this.baseTransform),Pt=[jt[0]*Ot[0],jt[1]*Ot[1]],Lt=this.getSizeAndScale(at,this.ctx.canvas.width,Pt[0]),wt=this.getSizeAndScale(dt,this.ctx.canvas.height,Pt[1]),St=tt.cachedCanvases.getCanvas("pattern",Lt.size,wt.size,!0),_t=St.context,xt=mt.createCanvasGraphics(_t);xt.groupLevel=tt.groupLevel,this.setFillAndStrokeStyleToContext(xt,ut,ht);let pt=lt,gt=ft,Et=vt,bt=kt;return lt<0&&(pt=0,Et+=Math.abs(lt)),ft<0&&(gt=0,bt+=Math.abs(ft)),_t.translate(-(Lt.scale*pt),-(wt.scale*gt)),xt.transform(Lt.scale,0,0,wt.scale,0,0),_t.save(),this.clipBbox(xt,pt,gt,Et,bt),xt.baseTransform=(0,o.getCurrentTransform)(xt.ctx),xt.executeOperatorList(ot),xt.endDrawing(),{canvas:St.canvas,scaleX:Lt.scale,scaleY:wt.scale,offsetX:pt,offsetY:gt}}getSizeAndScale(tt,ot,nt){tt=Math.abs(tt);const at=Math.max(st.MAX_PATTERN_SIZE,ot);let dt=Math.ceil(tt*nt);return dt>=at?dt=at:nt=dt/tt,{scale:nt,size:dt}}clipBbox(tt,ot,nt,at,dt){const ut=at-ot,ct=dt-nt;tt.ctx.rect(ot,nt,ut,ct),tt.current.updateRectMinMax((0,o.getCurrentTransform)(tt.ctx),[ot,nt,at,dt]),tt.clip(),tt.endPath()}setFillAndStrokeStyleToContext(tt,ot,nt){const at=tt.ctx,dt=tt.current;switch(ot){case rt.COLORED:const ut=this.ctx;at.fillStyle=ut.fillStyle,at.strokeStyle=ut.strokeStyle,dt.fillColor=ut.fillStyle,dt.strokeColor=ut.strokeStyle;break;case rt.UNCOLORED:const ct=a.Util.makeHexColor(nt[0],nt[1],nt[2]);at.fillStyle=ct,at.strokeStyle=ct,dt.fillColor=ct,dt.strokeColor=ct;break;default:throw new a.FormatError(`Unsupported paint type: ${ot}`)}}getPattern(tt,ot,nt,at){let dt=nt;at!==c.SHADING&&(dt=a.Util.transform(dt,ot.baseTransform),this.matrix&&(dt=a.Util.transform(dt,this.matrix)));const ut=this.createPatternCanvas(ot);let ct=new DOMMatrix(dt);ct=ct.translate(ut.offsetX,ut.offsetY),ct=ct.scale(1/ut.scaleX,1/ut.scaleY);const ht=tt.createPattern(ut.canvas,"repeat");return ht.setTransform(ct),ht}};In(st,"MAX_PATTERN_SIZE",3e3);let it=st;i.TilingPattern=it},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.convertBlackAndWhiteToRGBA=c,i.convertToRGBA=o,i.grayToRGBA=g;var a=s(1);function o(h){switch(h.kind){case a.ImageKind.GRAYSCALE_1BPP:return c(h);case a.ImageKind.RGB_24BPP:return d(h)}return null}function c({src:h,srcPos:b=0,dest:_,width:$,height:j,nonBlackColor:_e=4294967295,inverseDecode:rt=!1}){const it=a.FeatureTest.isLittleEndian?4278190080:255,[st,et]=rt?[_e,it]:[it,_e],tt=$>>3,ot=$&7,nt=h.length;_=new Uint32Array(_.buffer);let at=0;for(let dt=0;dt<j;dt++){for(const ct=b+tt;b<ct;b++){const ht=b<nt?h[b]:255;_[at++]=ht&128?et:st,_[at++]=ht&64?et:st,_[at++]=ht&32?et:st,_[at++]=ht&16?et:st,_[at++]=ht&8?et:st,_[at++]=ht&4?et:st,_[at++]=ht&2?et:st,_[at++]=ht&1?et:st}if(ot===0)continue;const ut=b<nt?h[b++]:255;for(let ct=0;ct<ot;ct++)_[at++]=ut&1<<7-ct?et:st}return{srcPos:b,destPos:at}}function d({src:h,srcPos:b=0,dest:_,destPos:$=0,width:j,height:_e}){let rt=0;const it=h.length>>2,st=new Uint32Array(h.buffer,b,it);if(a.FeatureTest.isLittleEndian){for(;rt<it-2;rt+=3,$+=4){const et=st[rt],tt=st[rt+1],ot=st[rt+2];_[$]=et|4278190080,_[$+1]=et>>>24|tt<<8|4278190080,_[$+2]=tt>>>16|ot<<16|4278190080,_[$+3]=ot>>>8|4278190080}for(let et=rt*4,tt=h.length;et<tt;et+=3)_[$++]=h[et]|h[et+1]<<8|h[et+2]<<16|4278190080}else{for(;rt<it-2;rt+=3,$+=4){const et=st[rt],tt=st[rt+1],ot=st[rt+2];_[$]=et|255,_[$+1]=et<<24|tt>>>8|255,_[$+2]=tt<<16|ot>>>16|255,_[$+3]=ot<<8|255}for(let et=rt*4,tt=h.length;et<tt;et+=3)_[$++]=h[et]<<24|h[et+1]<<16|h[et+2]<<8|255}return{srcPos:b,destPos:$}}function g(h,b){if(a.FeatureTest.isLittleEndian)for(let _=0,$=h.length;_<$;_++)b[_]=h[_]*65793|4278190080;else for(let _=0,$=h.length;_<$;_++)b[_]=h[_]*16843008|255}},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.GlobalWorkerOptions=void 0;const s=Object.create(null);i.GlobalWorkerOptions=s,s.workerPort=null,s.workerSrc=""},(e,i,s)=>{var h,ds,hs,cr;Object.defineProperty(i,"__esModule",{value:!0}),i.MessageHandler=void 0;var a=s(1);const o={UNKNOWN:0,DATA:1,ERROR:2},c={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function d(j){switch(j instanceof Error||typeof j=="object"&&j!==null||(0,a.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),j.name){case"AbortException":return new a.AbortException(j.message);case"MissingPDFException":return new a.MissingPDFException(j.message);case"PasswordException":return new a.PasswordException(j.message,j.code);case"UnexpectedResponseException":return new a.UnexpectedResponseException(j.message,j.status);case"UnknownErrorException":return new a.UnknownErrorException(j.message,j.details);default:return new a.UnknownErrorException(j.message,j.toString())}}class g{constructor(_e,rt,it){Kt(this,h);this.sourceName=_e,this.targetName=rt,this.comObj=it,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=st=>{const et=st.data;if(et.targetName!==this.sourceName)return;if(et.stream){Gt(this,h,hs).call(this,et);return}if(et.callback){const ot=et.callbackId,nt=this.callbackCapabilities[ot];if(!nt)throw new Error(`Cannot resolve callback ${ot}`);if(delete this.callbackCapabilities[ot],et.callback===o.DATA)nt.resolve(et.data);else if(et.callback===o.ERROR)nt.reject(d(et.reason));else throw new Error("Unexpected callback case");return}const tt=this.actionHandler[et.action];if(!tt)throw new Error(`Unknown action from worker: ${et.action}`);if(et.callbackId){const ot=this.sourceName,nt=et.sourceName;new Promise(function(at){at(tt(et.data))}).then(function(at){it.postMessage({sourceName:ot,targetName:nt,callback:o.DATA,callbackId:et.callbackId,data:at})},function(at){it.postMessage({sourceName:ot,targetName:nt,callback:o.ERROR,callbackId:et.callbackId,reason:d(at)})});return}if(et.streamId){Gt(this,h,ds).call(this,et);return}tt(et.data)},it.addEventListener("message",this._onComObjOnMessage)}on(_e,rt){const it=this.actionHandler;if(it[_e])throw new Error(`There is already an actionName called "${_e}"`);it[_e]=rt}send(_e,rt,it){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:_e,data:rt},it)}sendWithPromise(_e,rt,it){const st=this.callbackId++,et=new a.PromiseCapability;this.callbackCapabilities[st]=et;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:_e,callbackId:st,data:rt},it)}catch(tt){et.reject(tt)}return et.promise}sendWithStream(_e,rt,it,st){const et=this.streamId++,tt=this.sourceName,ot=this.targetName,nt=this.comObj;return new ReadableStream({start:at=>{const dt=new a.PromiseCapability;return this.streamControllers[et]={controller:at,startCall:dt,pullCall:null,cancelCall:null,isClosed:!1},nt.postMessage({sourceName:tt,targetName:ot,action:_e,streamId:et,data:rt,desiredSize:at.desiredSize},st),dt.promise},pull:at=>{const dt=new a.PromiseCapability;return this.streamControllers[et].pullCall=dt,nt.postMessage({sourceName:tt,targetName:ot,stream:c.PULL,streamId:et,desiredSize:at.desiredSize}),dt.promise},cancel:at=>{(0,a.assert)(at instanceof Error,"cancel must have a valid reason");const dt=new a.PromiseCapability;return this.streamControllers[et].cancelCall=dt,this.streamControllers[et].isClosed=!0,nt.postMessage({sourceName:tt,targetName:ot,stream:c.CANCEL,streamId:et,reason:d(at)}),dt.promise}},it)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}h=new WeakSet,ds=function(_e){const rt=_e.streamId,it=this.sourceName,st=_e.sourceName,et=this.comObj,tt=this,ot=this.actionHandler[_e.action],nt={enqueue(at,dt=1,ut){if(this.isCancelled)return;const ct=this.desiredSize;this.desiredSize-=dt,ct>0&&this.desiredSize<=0&&(this.sinkCapability=new a.PromiseCapability,this.ready=this.sinkCapability.promise),et.postMessage({sourceName:it,targetName:st,stream:c.ENQUEUE,streamId:rt,chunk:at},ut)},close(){this.isCancelled||(this.isCancelled=!0,et.postMessage({sourceName:it,targetName:st,stream:c.CLOSE,streamId:rt}),delete tt.streamSinks[rt])},error(at){(0,a.assert)(at instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,et.postMessage({sourceName:it,targetName:st,stream:c.ERROR,streamId:rt,reason:d(at)}))},sinkCapability:new a.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:_e.desiredSize,ready:null};nt.sinkCapability.resolve(),nt.ready=nt.sinkCapability.promise,this.streamSinks[rt]=nt,new Promise(function(at){at(ot(_e.data,nt))}).then(function(){et.postMessage({sourceName:it,targetName:st,stream:c.START_COMPLETE,streamId:rt,success:!0})},function(at){et.postMessage({sourceName:it,targetName:st,stream:c.START_COMPLETE,streamId:rt,reason:d(at)})})},hs=function(_e){const rt=_e.streamId,it=this.sourceName,st=_e.sourceName,et=this.comObj,tt=this.streamControllers[rt],ot=this.streamSinks[rt];switch(_e.stream){case c.START_COMPLETE:_e.success?tt.startCall.resolve():tt.startCall.reject(d(_e.reason));break;case c.PULL_COMPLETE:_e.success?tt.pullCall.resolve():tt.pullCall.reject(d(_e.reason));break;case c.PULL:if(!ot){et.postMessage({sourceName:it,targetName:st,stream:c.PULL_COMPLETE,streamId:rt,success:!0});break}ot.desiredSize<=0&&_e.desiredSize>0&&ot.sinkCapability.resolve(),ot.desiredSize=_e.desiredSize,new Promise(function(nt){var at;nt((at=ot.onPull)==null?void 0:at.call(ot))}).then(function(){et.postMessage({sourceName:it,targetName:st,stream:c.PULL_COMPLETE,streamId:rt,success:!0})},function(nt){et.postMessage({sourceName:it,targetName:st,stream:c.PULL_COMPLETE,streamId:rt,reason:d(nt)})});break;case c.ENQUEUE:if((0,a.assert)(tt,"enqueue should have stream controller"),tt.isClosed)break;tt.controller.enqueue(_e.chunk);break;case c.CLOSE:if((0,a.assert)(tt,"close should have stream controller"),tt.isClosed)break;tt.isClosed=!0,tt.controller.close(),Gt(this,h,cr).call(this,tt,rt);break;case c.ERROR:(0,a.assert)(tt,"error should have stream controller"),tt.controller.error(d(_e.reason)),Gt(this,h,cr).call(this,tt,rt);break;case c.CANCEL_COMPLETE:_e.success?tt.cancelCall.resolve():tt.cancelCall.reject(d(_e.reason)),Gt(this,h,cr).call(this,tt,rt);break;case c.CANCEL:if(!ot)break;new Promise(function(nt){var at;nt((at=ot.onCancel)==null?void 0:at.call(ot,d(_e.reason)))}).then(function(){et.postMessage({sourceName:it,targetName:st,stream:c.CANCEL_COMPLETE,streamId:rt,success:!0})},function(nt){et.postMessage({sourceName:it,targetName:st,stream:c.CANCEL_COMPLETE,streamId:rt,reason:d(nt)})}),ot.sinkCapability.reject(d(_e.reason)),ot.isCancelled=!0,delete this.streamSinks[rt];break;default:throw new Error("Unexpected stream case")}},cr=async function(_e,rt){var it,st,et;await Promise.allSettled([(it=_e.startCall)==null?void 0:it.promise,(st=_e.pullCall)==null?void 0:st.promise,(et=_e.cancelCall)==null?void 0:et.promise]),delete this.streamControllers[rt]},i.MessageHandler=g},(e,i,s)=>{var c,d;Object.defineProperty(i,"__esModule",{value:!0}),i.Metadata=void 0;var a=s(1);class o{constructor({parsedData:h,rawData:b}){Kt(this,c);Kt(this,d);Qt(this,c,h),Qt(this,d,b)}getRaw(){return yt(this,d)}get(h){return yt(this,c).get(h)??null}getAll(){return(0,a.objectFromMap)(yt(this,c))}has(h){return yt(this,c).has(h)}}c=new WeakMap,d=new WeakMap,i.Metadata=o},(e,i,s)=>{var h,b,_,$,j,_e,Dr;Object.defineProperty(i,"__esModule",{value:!0}),i.OptionalContentConfig=void 0;var a=s(1),o=s(8);const c=Symbol("INTERNAL");class d{constructor(st,et){Kt(this,h,!0);this.name=st,this.intent=et}get visible(){return yt(this,h)}_setVisible(st,et){st!==c&&(0,a.unreachable)("Internal method `_setVisible` called."),Qt(this,h,et)}}h=new WeakMap;class g{constructor(st){Kt(this,_e);Kt(this,b,null);Kt(this,_,new Map);Kt(this,$,null);Kt(this,j,null);if(this.name=null,this.creator=null,st!==null){this.name=st.name,this.creator=st.creator,Qt(this,j,st.order);for(const et of st.groups)yt(this,_).set(et.id,new d(et.name,et.intent));if(st.baseState==="OFF")for(const et of yt(this,_).values())et._setVisible(c,!1);for(const et of st.on)yt(this,_).get(et)._setVisible(c,!0);for(const et of st.off)yt(this,_).get(et)._setVisible(c,!1);Qt(this,$,this.getHash())}}isVisible(st){if(yt(this,_).size===0)return!0;if(!st)return(0,a.warn)("Optional content group not defined."),!0;if(st.type==="OCG")return yt(this,_).has(st.id)?yt(this,_).get(st.id).visible:((0,a.warn)(`Optional content group not found: ${st.id}`),!0);if(st.type==="OCMD"){if(st.expression)return Gt(this,_e,Dr).call(this,st.expression);if(!st.policy||st.policy==="AnyOn"){for(const et of st.ids){if(!yt(this,_).has(et))return(0,a.warn)(`Optional content group not found: ${et}`),!0;if(yt(this,_).get(et).visible)return!0}return!1}else if(st.policy==="AllOn"){for(const et of st.ids){if(!yt(this,_).has(et))return(0,a.warn)(`Optional content group not found: ${et}`),!0;if(!yt(this,_).get(et).visible)return!1}return!0}else if(st.policy==="AnyOff"){for(const et of st.ids){if(!yt(this,_).has(et))return(0,a.warn)(`Optional content group not found: ${et}`),!0;if(!yt(this,_).get(et).visible)return!0}return!1}else if(st.policy==="AllOff"){for(const et of st.ids){if(!yt(this,_).has(et))return(0,a.warn)(`Optional content group not found: ${et}`),!0;if(yt(this,_).get(et).visible)return!1}return!0}return(0,a.warn)(`Unknown optional content policy ${st.policy}.`),!0}return(0,a.warn)(`Unknown group type ${st.type}.`),!0}setVisibility(st,et=!0){if(!yt(this,_).has(st)){(0,a.warn)(`Optional content group not found: ${st}`);return}yt(this,_).get(st)._setVisible(c,!!et),Qt(this,b,null)}get hasInitialVisibility(){return yt(this,$)===null||this.getHash()===yt(this,$)}getOrder(){return yt(this,_).size?yt(this,j)?yt(this,j).slice():[...yt(this,_).keys()]:null}getGroups(){return yt(this,_).size>0?(0,a.objectFromMap)(yt(this,_)):null}getGroup(st){return yt(this,_).get(st)||null}getHash(){if(yt(this,b)!==null)return yt(this,b);const st=new o.MurmurHash3_64;for(const[et,tt]of yt(this,_))st.update(`${et}:${tt.visible}`);return Qt(this,b,st.hexdigest())}}b=new WeakMap,_=new WeakMap,$=new WeakMap,j=new WeakMap,_e=new WeakSet,Dr=function(st){const et=st.length;if(et<2)return!0;const tt=st[0];for(let ot=1;ot<et;ot++){const nt=st[ot];let at;if(Array.isArray(nt))at=Gt(this,_e,Dr).call(this,nt);else if(yt(this,_).has(nt))at=yt(this,_).get(nt).visible;else return(0,a.warn)(`Optional content group not found: ${nt}`),!0;switch(tt){case"And":if(!at)return!1;break;case"Or":if(at)return!0;break;case"Not":return!at;default:return!0}}return tt==="And"},i.OptionalContentConfig=g},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFDataTransportStream=void 0;var a=s(1),o=s(6);class c{constructor({length:b,initialData:_,progressiveDone:$=!1,contentDispositionFilename:j=null,disableRange:_e=!1,disableStream:rt=!1},it){if((0,a.assert)(it,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=$,this._contentDispositionFilename=j,(_==null?void 0:_.length)>0){const st=_ instanceof Uint8Array&&_.byteLength===_.buffer.byteLength?_.buffer:new Uint8Array(_).buffer;this._queuedChunks.push(st)}this._pdfDataRangeTransport=it,this._isStreamingSupported=!rt,this._isRangeSupported=!_e,this._contentLength=b,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((st,et)=>{this._onReceiveData({begin:st,chunk:et})}),this._pdfDataRangeTransport.addProgressListener((st,et)=>{this._onProgress({loaded:st,total:et})}),this._pdfDataRangeTransport.addProgressiveReadListener(st=>{this._onReceiveData({chunk:st})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:b,chunk:_}){const $=_ instanceof Uint8Array&&_.byteLength===_.buffer.byteLength?_.buffer:new Uint8Array(_).buffer;if(b===void 0)this._fullRequestReader?this._fullRequestReader._enqueue($):this._queuedChunks.push($);else{const j=this._rangeReaders.some(function(_e){return _e._begin!==b?!1:(_e._enqueue($),!0)});(0,a.assert)(j,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var b;return((b=this._fullRequestReader)==null?void 0:b._loaded)??0}_onProgress(b){var _,$,j,_e;b.total===void 0?($=(_=this._rangeReaders[0])==null?void 0:_.onProgress)==null||$.call(_,{loaded:b.loaded}):(_e=(j=this._fullRequestReader)==null?void 0:j.onProgress)==null||_e.call(j,{loaded:b.loaded,total:b.total})}_onProgressiveDone(){var b;(b=this._fullRequestReader)==null||b.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(b){const _=this._rangeReaders.indexOf(b);_>=0&&this._rangeReaders.splice(_,1)}getFullReader(){(0,a.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const b=this._queuedChunks;return this._queuedChunks=null,new d(this,b,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(b,_){if(_<=this._progressiveDataLength)return null;const $=new g(this,b,_);return this._pdfDataRangeTransport.requestDataRange(b,_),this._rangeReaders.push($),$}cancelAllRequests(b){var _;(_=this._fullRequestReader)==null||_.cancel(b);for(const $ of this._rangeReaders.slice(0))$.cancel(b);this._pdfDataRangeTransport.abort()}}i.PDFDataTransportStream=c;class d{constructor(b,_,$=!1,j=null){this._stream=b,this._done=$||!1,this._filename=(0,o.isPdfFile)(j)?j:null,this._queuedChunks=_||[],this._loaded=0;for(const _e of this._queuedChunks)this._loaded+=_e.byteLength;this._requests=[],this._headersReady=Promise.resolve(),b._fullRequestReader=this,this.onProgress=null}_enqueue(b){this._done||(this._requests.length>0?this._requests.shift().resolve({value:b,done:!1}):this._queuedChunks.push(b),this._loaded+=b.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const b=new a.PromiseCapability;return this._requests.push(b),b.promise}cancel(b){this._done=!0;for(const _ of this._requests)_.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class g{constructor(b,_,$){this._stream=b,this._begin=_,this._end=$,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(b){if(!this._done){if(this._requests.length===0)this._queuedChunk=b;else{this._requests.shift().resolve({value:b,done:!1});for(const $ of this._requests)$.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const _=this._queuedChunk;return this._queuedChunk=null,{value:_,done:!1}}if(this._done)return{value:void 0,done:!0};const b=new a.PromiseCapability;return this._requests.push(b),b.promise}cancel(b){this._done=!0;for(const _ of this._requests)_.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFFetchStream=void 0;var a=s(1),o=s(20);function c($,j,_e){return{method:"GET",headers:$,signal:_e.signal,mode:"cors",credentials:j?"include":"same-origin",redirect:"follow"}}function d($){const j=new Headers;for(const _e in $){const rt=$[_e];rt!==void 0&&j.append(_e,rt)}return j}function g($){return $ instanceof Uint8Array?$.buffer:$ instanceof ArrayBuffer?$:((0,a.warn)(`getArrayBuffer - unexpected data format: ${$}`),new Uint8Array($).buffer)}class h{constructor(j){this.source=j,this.isHttp=/^https?:/i.test(j.url),this.httpHeaders=this.isHttp&&j.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var j;return((j=this._fullRequestReader)==null?void 0:j._loaded)??0}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new b(this),this._fullRequestReader}getRangeReader(j,_e){if(_e<=this._progressiveDataLength)return null;const rt=new _(this,j,_e);return this._rangeRequestReaders.push(rt),rt}cancelAllRequests(j){var _e;(_e=this._fullRequestReader)==null||_e.cancel(j);for(const rt of this._rangeRequestReaders.slice(0))rt.cancel(j)}}i.PDFFetchStream=h;class b{constructor(j){this._stream=j,this._reader=null,this._loaded=0,this._filename=null;const _e=j.source;this._withCredentials=_e.withCredentials||!1,this._contentLength=_e.length,this._headersCapability=new a.PromiseCapability,this._disableRange=_e.disableRange||!1,this._rangeChunkSize=_e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!_e.disableStream,this._isRangeSupported=!_e.disableRange,this._headers=d(this._stream.httpHeaders);const rt=_e.url;fetch(rt,c(this._headers,this._withCredentials,this._abortController)).then(it=>{if(!(0,o.validateResponseStatus)(it.status))throw(0,o.createResponseStatusError)(it.status,rt);this._reader=it.body.getReader(),this._headersCapability.resolve();const st=ot=>it.headers.get(ot),{allowRangeRequests:et,suggestedLength:tt}=(0,o.validateRangeRequestCapabilities)({getResponseHeader:st,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=et,this._contentLength=tt||this._contentLength,this._filename=(0,o.extractFilenameFromHeader)(st),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new a.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var rt;await this._headersCapability.promise;const{value:j,done:_e}=await this._reader.read();return _e?{value:j,done:_e}:(this._loaded+=j.byteLength,(rt=this.onProgress)==null||rt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:g(j),done:!1})}cancel(j){var _e;(_e=this._reader)==null||_e.cancel(j),this._abortController.abort()}}class _{constructor(j,_e,rt){this._stream=j,this._reader=null,this._loaded=0;const it=j.source;this._withCredentials=it.withCredentials||!1,this._readCapability=new a.PromiseCapability,this._isStreamingSupported=!it.disableStream,this._abortController=new AbortController,this._headers=d(this._stream.httpHeaders),this._headers.append("Range",`bytes=${_e}-${rt-1}`);const st=it.url;fetch(st,c(this._headers,this._withCredentials,this._abortController)).then(et=>{if(!(0,o.validateResponseStatus)(et.status))throw(0,o.createResponseStatusError)(et.status,st);this._readCapability.resolve(),this._reader=et.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var rt;await this._readCapability.promise;const{value:j,done:_e}=await this._reader.read();return _e?{value:j,done:_e}:(this._loaded+=j.byteLength,(rt=this.onProgress)==null||rt.call(this,{loaded:this._loaded}),{value:g(j),done:!1})}cancel(j){var _e;(_e=this._reader)==null||_e.cancel(j),this._abortController.abort()}}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createResponseStatusError=h,i.extractFilenameFromHeader=g,i.validateRangeRequestCapabilities=d,i.validateResponseStatus=b;var a=s(1),o=s(21),c=s(6);function d({getResponseHeader:_,isHttp:$,rangeChunkSize:j,disableRange:_e}){const rt={allowRangeRequests:!1,suggestedLength:void 0},it=parseInt(_("Content-Length"),10);return!Number.isInteger(it)||(rt.suggestedLength=it,it<=2*j)||_e||!$||_("Accept-Ranges")!=="bytes"||(_("Content-Encoding")||"identity")!=="identity"||(rt.allowRangeRequests=!0),rt}function g(_){const $=_("Content-Disposition");if($){let j=(0,o.getFilenameFromContentDispositionHeader)($);if(j.includes("%"))try{j=decodeURIComponent(j)}catch{}if((0,c.isPdfFile)(j))return j}return null}function h(_,$){return _===404||_===0&&$.startsWith("file:")?new a.MissingPDFException('Missing PDF "'+$+'".'):new a.UnexpectedResponseException(`Unexpected server response (${_}) while retrieving PDF "${$}".`,_)}function b(_){return _===200||_===206}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.getFilenameFromContentDispositionHeader=o;var a=s(1);function o(c){let d=!0,g=h("filename\\*","i").exec(c);if(g){g=g[1];let it=j(g);return it=unescape(it),it=_e(it),it=rt(it),_(it)}if(g=$(c),g){const it=rt(g);return _(it)}if(g=h("filename","i").exec(c),g){g=g[1];let it=j(g);return it=rt(it),_(it)}function h(it,st){return new RegExp("(?:^|;)\\s*"+it+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',st)}function b(it,st){if(it){if(!/^[\x00-\xFF]+$/.test(st))return st;try{const et=new TextDecoder(it,{fatal:!0}),tt=(0,a.stringToBytes)(st);st=et.decode(tt),d=!1}catch{}}return st}function _(it){return d&&/[\x80-\xff]/.test(it)&&(it=b("utf-8",it),d&&(it=b("iso-8859-1",it))),it}function $(it){const st=[];let et;const tt=h("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(et=tt.exec(it))!==null;){let[,nt,at,dt]=et;if(nt=parseInt(nt,10),nt in st){if(nt===0)break;continue}st[nt]=[at,dt]}const ot=[];for(let nt=0;nt<st.length&&nt in st;++nt){let[at,dt]=st[nt];dt=j(dt),at&&(dt=unescape(dt),nt===0&&(dt=_e(dt))),ot.push(dt)}return ot.join("")}function j(it){if(it.startsWith('"')){const st=it.slice(1).split('\\"');for(let et=0;et<st.length;++et){const tt=st[et].indexOf('"');tt!==-1&&(st[et]=st[et].slice(0,tt),st.length=et+1),st[et]=st[et].replaceAll(/\\(.)/g,"$1")}it=st.join('"')}return it}function _e(it){const st=it.indexOf("'");if(st===-1)return it;const et=it.slice(0,st),ot=it.slice(st+1).replace(/^[^']*'/,"");return b(et,ot)}function rt(it){return!it.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(it)?it:it.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(st,et,tt,ot){if(tt==="q"||tt==="Q")return ot=ot.replaceAll("_"," "),ot=ot.replaceAll(/=([0-9a-fA-F]{2})/g,function(nt,at){return String.fromCharCode(parseInt(at,16))}),b(et,ot);try{ot=atob(ot)}catch{}return b(et,ot)})}return""}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFNetworkStream=void 0;var a=s(1),o=s(20);const c=200,d=206;function g(j){const _e=j.response;return typeof _e!="string"?_e:(0,a.stringToBytes)(_e).buffer}class h{constructor(_e,rt={}){this.url=_e,this.isHttp=/^https?:/i.test(_e),this.httpHeaders=this.isHttp&&rt.httpHeaders||Object.create(null),this.withCredentials=rt.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(_e,rt,it){const st={begin:_e,end:rt};for(const et in it)st[et]=it[et];return this.request(st)}requestFull(_e){return this.request(_e)}request(_e){const rt=new XMLHttpRequest,it=this.currXhrId++,st=this.pendingRequests[it]={xhr:rt};rt.open("GET",this.url),rt.withCredentials=this.withCredentials;for(const et in this.httpHeaders){const tt=this.httpHeaders[et];tt!==void 0&&rt.setRequestHeader(et,tt)}return this.isHttp&&"begin"in _e&&"end"in _e?(rt.setRequestHeader("Range",`bytes=${_e.begin}-${_e.end-1}`),st.expectedStatus=d):st.expectedStatus=c,rt.responseType="arraybuffer",_e.onError&&(rt.onerror=function(et){_e.onError(rt.status)}),rt.onreadystatechange=this.onStateChange.bind(this,it),rt.onprogress=this.onProgress.bind(this,it),st.onHeadersReceived=_e.onHeadersReceived,st.onDone=_e.onDone,st.onError=_e.onError,st.onProgress=_e.onProgress,rt.send(null),it}onProgress(_e,rt){var st;const it=this.pendingRequests[_e];it&&((st=it.onProgress)==null||st.call(it,rt))}onStateChange(_e,rt){var nt,at,dt;const it=this.pendingRequests[_e];if(!it)return;const st=it.xhr;if(st.readyState>=2&&it.onHeadersReceived&&(it.onHeadersReceived(),delete it.onHeadersReceived),st.readyState!==4||!(_e in this.pendingRequests))return;if(delete this.pendingRequests[_e],st.status===0&&this.isHttp){(nt=it.onError)==null||nt.call(it,st.status);return}const et=st.status||c;if(!(et===c&&it.expectedStatus===d)&&et!==it.expectedStatus){(at=it.onError)==null||at.call(it,st.status);return}const ot=g(st);if(et===d){const ut=st.getResponseHeader("Content-Range"),ct=/bytes (\d+)-(\d+)\/(\d+)/.exec(ut);it.onDone({begin:parseInt(ct[1],10),chunk:ot})}else ot?it.onDone({begin:0,chunk:ot}):(dt=it.onError)==null||dt.call(it,st.status)}getRequestXhr(_e){return this.pendingRequests[_e].xhr}isPendingRequest(_e){return _e in this.pendingRequests}abortRequest(_e){const rt=this.pendingRequests[_e].xhr;delete this.pendingRequests[_e],rt.abort()}}class b{constructor(_e){this._source=_e,this._manager=new h(_e.url,{httpHeaders:_e.httpHeaders,withCredentials:_e.withCredentials}),this._rangeChunkSize=_e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(_e){const rt=this._rangeRequestReaders.indexOf(_e);rt>=0&&this._rangeRequestReaders.splice(rt,1)}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new _(this._manager,this._source),this._fullRequestReader}getRangeReader(_e,rt){const it=new $(this._manager,_e,rt);return it.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(it),it}cancelAllRequests(_e){var rt;(rt=this._fullRequestReader)==null||rt.cancel(_e);for(const it of this._rangeRequestReaders.slice(0))it.cancel(_e)}}i.PDFNetworkStream=b;class _{constructor(_e,rt){this._manager=_e;const it={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=rt.url,this._fullRequestId=_e.requestFull(it),this._headersReceivedCapability=new a.PromiseCapability,this._disableRange=rt.disableRange||!1,this._contentLength=rt.length,this._rangeChunkSize=rt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const _e=this._fullRequestId,rt=this._manager.getRequestXhr(_e),it=tt=>rt.getResponseHeader(tt),{allowRangeRequests:st,suggestedLength:et}=(0,o.validateRangeRequestCapabilities)({getResponseHeader:it,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});st&&(this._isRangeSupported=!0),this._contentLength=et||this._contentLength,this._filename=(0,o.extractFilenameFromHeader)(it),this._isRangeSupported&&this._manager.abortRequest(_e),this._headersReceivedCapability.resolve()}_onDone(_e){if(_e&&(this._requests.length>0?this._requests.shift().resolve({value:_e.chunk,done:!1}):this._cachedChunks.push(_e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const rt of this._requests)rt.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(_e){this._storedError=(0,o.createResponseStatusError)(_e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const rt of this._requests)rt.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(_e){var rt;(rt=this.onProgress)==null||rt.call(this,{loaded:_e.loaded,total:_e.lengthComputable?_e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const _e=new a.PromiseCapability;return this._requests.push(_e),_e.promise}cancel(_e){this._done=!0,this._headersReceivedCapability.reject(_e);for(const rt of this._requests)rt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class ${constructor(_e,rt,it){this._manager=_e;const st={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=_e.url,this._requestId=_e.requestRange(rt,it,st),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var _e;(_e=this.onClosed)==null||_e.call(this,this)}_onDone(_e){const rt=_e.chunk;this._requests.length>0?this._requests.shift().resolve({value:rt,done:!1}):this._queuedChunk=rt,this._done=!0;for(const it of this._requests)it.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(_e){this._storedError=(0,o.createResponseStatusError)(_e,this._url);for(const rt of this._requests)rt.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(_e){var rt;this.isStreamingSupported||(rt=this.onProgress)==null||rt.call(this,{loaded:_e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const rt=this._queuedChunk;return this._queuedChunk=null,{value:rt,done:!1}}if(this._done)return{value:void 0,done:!0};const _e=new a.PromiseCapability;return this._requests.push(_e),_e.promise}cancel(_e){this._done=!0;for(const rt of this._requests)rt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFNodeStream=void 0;var a=s(1),o=s(20);const c=/^file:\/\/\/[a-zA-Z]:\//;function d(it){const st=require$$5,et=st.parse(it);return et.protocol==="file:"||et.host?et:/^[a-z]:[/\\]/i.test(it)?st.parse(`file:///${it}`):(et.host||(et.protocol="file:"),et)}class g{constructor(st){this.source=st,this.url=d(st.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&st.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var st;return((st=this._fullRequestReader)==null?void 0:st._loaded)??0}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new _e(this):new $(this),this._fullRequestReader}getRangeReader(st,et){if(et<=this._progressiveDataLength)return null;const tt=this.isFsUrl?new rt(this,st,et):new j(this,st,et);return this._rangeRequestReaders.push(tt),tt}cancelAllRequests(st){var et;(et=this._fullRequestReader)==null||et.cancel(st);for(const tt of this._rangeRequestReaders.slice(0))tt.cancel(st)}}i.PDFNodeStream=g;class h{constructor(st){this._url=st.url,this._done=!1,this._storedError=null,this.onProgress=null;const et=st.source;this._contentLength=et.length,this._loaded=0,this._filename=null,this._disableRange=et.disableRange||!1,this._rangeChunkSize=et.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!et.disableStream,this._isRangeSupported=!et.disableRange,this._readableStream=null,this._readCapability=new a.PromiseCapability,this._headersCapability=new a.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var tt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const st=this._readableStream.read();return st===null?(this._readCapability=new a.PromiseCapability,this.read()):(this._loaded+=st.length,(tt=this.onProgress)==null||tt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(st).buffer,done:!1})}cancel(st){if(!this._readableStream){this._error(st);return}this._readableStream.destroy(st)}_error(st){this._storedError=st,this._readCapability.resolve()}_setReadableStream(st){this._readableStream=st,st.on("readable",()=>{this._readCapability.resolve()}),st.on("end",()=>{st.destroy(),this._done=!0,this._readCapability.resolve()}),st.on("error",et=>{this._error(et)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new a.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class b{constructor(st){this._url=st.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new a.PromiseCapability;const et=st.source;this._isStreamingSupported=!et.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var tt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const st=this._readableStream.read();return st===null?(this._readCapability=new a.PromiseCapability,this.read()):(this._loaded+=st.length,(tt=this.onProgress)==null||tt.call(this,{loaded:this._loaded}),{value:new Uint8Array(st).buffer,done:!1})}cancel(st){if(!this._readableStream){this._error(st);return}this._readableStream.destroy(st)}_error(st){this._storedError=st,this._readCapability.resolve()}_setReadableStream(st){this._readableStream=st,st.on("readable",()=>{this._readCapability.resolve()}),st.on("end",()=>{st.destroy(),this._done=!0,this._readCapability.resolve()}),st.on("error",et=>{this._error(et)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function _(it,st){return{protocol:it.protocol,auth:it.auth,host:it.hostname,port:it.port,path:it.path,method:"GET",headers:st}}class $ extends h{constructor(st){super(st);const et=tt=>{if(tt.statusCode===404){const dt=new a.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=dt,this._headersCapability.reject(dt);return}this._headersCapability.resolve(),this._setReadableStream(tt);const ot=dt=>this._readableStream.headers[dt.toLowerCase()],{allowRangeRequests:nt,suggestedLength:at}=(0,o.validateRangeRequestCapabilities)({getResponseHeader:ot,isHttp:st.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=nt,this._contentLength=at||this._contentLength,this._filename=(0,o.extractFilenameFromHeader)(ot)};if(this._request=null,this._url.protocol==="http:"){const tt=require$$5;this._request=tt.request(_(this._url,st.httpHeaders),et)}else{const tt=require$$5;this._request=tt.request(_(this._url,st.httpHeaders),et)}this._request.on("error",tt=>{this._storedError=tt,this._headersCapability.reject(tt)}),this._request.end()}}class j extends b{constructor(st,et,tt){super(st),this._httpHeaders={};for(const nt in st.httpHeaders){const at=st.httpHeaders[nt];at!==void 0&&(this._httpHeaders[nt]=at)}this._httpHeaders.Range=`bytes=${et}-${tt-1}`;const ot=nt=>{if(nt.statusCode===404){const at=new a.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=at;return}this._setReadableStream(nt)};if(this._request=null,this._url.protocol==="http:"){const nt=require$$5;this._request=nt.request(_(this._url,this._httpHeaders),ot)}else{const nt=require$$5;this._request=nt.request(_(this._url,this._httpHeaders),ot)}this._request.on("error",nt=>{this._storedError=nt}),this._request.end()}}class _e extends h{constructor(st){super(st);let et=decodeURIComponent(this._url.path);c.test(this._url.href)&&(et=et.replace(/^\//,""));const tt=require$$5;tt.lstat(et,(ot,nt)=>{if(ot){ot.code==="ENOENT"&&(ot=new a.MissingPDFException(`Missing PDF "${et}".`)),this._storedError=ot,this._headersCapability.reject(ot);return}this._contentLength=nt.size,this._setReadableStream(tt.createReadStream(et)),this._headersCapability.resolve()})}}class rt extends b{constructor(st,et,tt){super(st);let ot=decodeURIComponent(this._url.path);c.test(this._url.href)&&(ot=ot.replace(/^\//,""));const nt=require$$5;this._setReadableStream(nt.createReadStream(ot,{start:et,end:tt-1}))}}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.SVGGraphics=void 0;var a=s(6),o=s(1);const c={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},d="http://www.w3.org/XML/1998/namespace",g="http://www.w3.org/1999/xlink",h=["butt","round","square"],b=["miter","round","bevel"],_=function(nt,at="",dt=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!dt)return URL.createObjectURL(new Blob([nt],{type:at}));const ut="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let ct=`data:${at};base64,`;for(let ht=0,mt=nt.length;ht<mt;ht+=3){const lt=nt[ht]&255,ft=nt[ht+1]&255,vt=nt[ht+2]&255,kt=lt>>2,jt=(lt&3)<<4|ft>>4,Ot=ht+1<mt?(ft&15)<<2|vt>>6:64,Pt=ht+2<mt?vt&63:64;ct+=ut[kt]+ut[jt]+ut[Ot]+ut[Pt]}return ct},$=function(){const nt=new Uint8Array([137,80,78,71,13,10,26,10]),at=12,dt=new Int32Array(256);for(let vt=0;vt<256;vt++){let kt=vt;for(let jt=0;jt<8;jt++)kt=kt&1?3988292384^kt>>1&2147483647:kt>>1&2147483647;dt[vt]=kt}function ut(vt,kt,jt){let Ot=-1;for(let Pt=kt;Pt<jt;Pt++){const Lt=(Ot^vt[Pt])&255,wt=dt[Lt];Ot=Ot>>>8^wt}return Ot^-1}function ct(vt,kt,jt,Ot){let Pt=Ot;const Lt=kt.length;jt[Pt]=Lt>>24&255,jt[Pt+1]=Lt>>16&255,jt[Pt+2]=Lt>>8&255,jt[Pt+3]=Lt&255,Pt+=4,jt[Pt]=vt.charCodeAt(0)&255,jt[Pt+1]=vt.charCodeAt(1)&255,jt[Pt+2]=vt.charCodeAt(2)&255,jt[Pt+3]=vt.charCodeAt(3)&255,Pt+=4,jt.set(kt,Pt),Pt+=kt.length;const wt=ut(jt,Ot+4,Pt);jt[Pt]=wt>>24&255,jt[Pt+1]=wt>>16&255,jt[Pt+2]=wt>>8&255,jt[Pt+3]=wt&255}function ht(vt,kt,jt){let Ot=1,Pt=0;for(let Lt=kt;Lt<jt;++Lt)Ot=(Ot+(vt[Lt]&255))%65521,Pt=(Pt+Ot)%65521;return Pt<<16|Ot}function mt(vt){if(!o.isNodeJS)return lt(vt);try{const kt=parseInt(process.versions.node)>=8?vt:Buffer.from(vt),jt=require$$5.deflateSync(kt,{level:9});return jt instanceof Uint8Array?jt:new Uint8Array(jt)}catch(kt){(0,o.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+kt)}return lt(vt)}function lt(vt){let kt=vt.length;const jt=65535,Ot=Math.ceil(kt/jt),Pt=new Uint8Array(2+kt+Ot*5+4);let Lt=0;Pt[Lt++]=120,Pt[Lt++]=156;let wt=0;for(;kt>jt;)Pt[Lt++]=0,Pt[Lt++]=255,Pt[Lt++]=255,Pt[Lt++]=0,Pt[Lt++]=0,Pt.set(vt.subarray(wt,wt+jt),Lt),Lt+=jt,wt+=jt,kt-=jt;Pt[Lt++]=1,Pt[Lt++]=kt&255,Pt[Lt++]=kt>>8&255,Pt[Lt++]=~kt&65535&255,Pt[Lt++]=(~kt&65535)>>8&255,Pt.set(vt.subarray(wt),Lt),Lt+=vt.length-wt;const St=ht(vt,0,vt.length);return Pt[Lt++]=St>>24&255,Pt[Lt++]=St>>16&255,Pt[Lt++]=St>>8&255,Pt[Lt++]=St&255,Pt}function ft(vt,kt,jt,Ot){const Pt=vt.width,Lt=vt.height;let wt,St,_t;const xt=vt.data;switch(kt){case o.ImageKind.GRAYSCALE_1BPP:St=0,wt=1,_t=Pt+7>>3;break;case o.ImageKind.RGB_24BPP:St=2,wt=8,_t=Pt*3;break;case o.ImageKind.RGBA_32BPP:St=6,wt=8,_t=Pt*4;break;default:throw new Error("invalid format")}const pt=new Uint8Array((1+_t)*Lt);let gt=0,Et=0;for(let zt=0;zt<Lt;++zt)pt[gt++]=0,pt.set(xt.subarray(Et,Et+_t),gt),Et+=_t,gt+=_t;if(kt===o.ImageKind.GRAYSCALE_1BPP&&Ot){gt=0;for(let zt=0;zt<Lt;zt++){gt++;for(let Yt=0;Yt<_t;Yt++)pt[gt++]^=255}}const bt=new Uint8Array([Pt>>24&255,Pt>>16&255,Pt>>8&255,Pt&255,Lt>>24&255,Lt>>16&255,Lt>>8&255,Lt&255,wt,St,0,0,0]),At=mt(pt),Tt=nt.length+at*3+bt.length+At.length,Nt=new Uint8Array(Tt);let Dt=0;return Nt.set(nt,Dt),Dt+=nt.length,ct("IHDR",bt,Nt,Dt),Dt+=at+bt.length,ct("IDATA",At,Nt,Dt),Dt+=at+At.length,ct("IEND",new Uint8Array(0),Nt,Dt),_(Nt,"image/png",jt)}return function(kt,jt,Ot){const Pt=kt.kind===void 0?o.ImageKind.GRAYSCALE_1BPP:kt.kind;return ft(kt,Pt,jt,Ot)}}();class j{constructor(){this.fontSizeScale=1,this.fontWeight=c.fontWeight,this.fontSize=0,this.textMatrix=o.IDENTITY_MATRIX,this.fontMatrix=o.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=o.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=c.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(at,dt){this.x=at,this.y=dt}}function _e(nt){let at=[];const dt=[];for(const ut of nt){if(ut.fn==="save"){at.push({fnId:92,fn:"group",items:[]}),dt.push(at),at=at.at(-1).items;continue}ut.fn==="restore"?at=dt.pop():at.push(ut)}return at}function rt(nt){if(Number.isInteger(nt))return nt.toString();const at=nt.toFixed(10);let dt=at.length-1;if(at[dt]!=="0")return at;do dt--;while(at[dt]==="0");return at.substring(0,at[dt]==="."?dt:dt+1)}function it(nt){if(nt[4]===0&&nt[5]===0){if(nt[1]===0&&nt[2]===0)return nt[0]===1&&nt[3]===1?"":`scale(${rt(nt[0])} ${rt(nt[3])})`;if(nt[0]===nt[3]&&nt[1]===-nt[2]){const at=Math.acos(nt[0])*180/Math.PI;return`rotate(${rt(at)})`}}else if(nt[0]===1&&nt[1]===0&&nt[2]===0&&nt[3]===1)return`translate(${rt(nt[4])} ${rt(nt[5])})`;return`matrix(${rt(nt[0])} ${rt(nt[1])} ${rt(nt[2])} ${rt(nt[3])} ${rt(nt[4])} ${rt(nt[5])})`}let st=0,et=0,tt=0;class ot{constructor(at,dt,ut=!1){(0,a.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new a.DOMSVGFactory,this.current=new j,this.transformMatrix=o.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=at,this.objs=dt,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!ut,this._operatorIdMapping=[];for(const ct in o.OPS)this._operatorIdMapping[o.OPS[ct]]=ct}getObject(at,dt=null){return typeof at=="string"?at.startsWith("g_")?this.commonObjs.get(at):this.objs.get(at):dt}save(){this.transformStack.push(this.transformMatrix);const at=this.current;this.extraStack.push(at),this.current=at.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(at){this.save(),this.executeOpTree(at),this.restore()}loadDependencies(at){const dt=at.fnArray,ut=at.argsArray;for(let ct=0,ht=dt.length;ct<ht;ct++)if(dt[ct]===o.OPS.dependency)for(const mt of ut[ct]){const lt=mt.startsWith("g_")?this.commonObjs:this.objs,ft=new Promise(vt=>{lt.get(mt,vt)});this.current.dependencies.push(ft)}return Promise.all(this.current.dependencies)}transform(at,dt,ut,ct,ht,mt){const lt=[at,dt,ut,ct,ht,mt];this.transformMatrix=o.Util.transform(this.transformMatrix,lt),this.tgrp=null}getSVG(at,dt){this.viewport=dt;const ut=this._initialize(dt);return this.loadDependencies(at).then(()=>(this.transformMatrix=o.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(at)),ut))}convertOpList(at){const dt=this._operatorIdMapping,ut=at.argsArray,ct=at.fnArray,ht=[];for(let mt=0,lt=ct.length;mt<lt;mt++){const ft=ct[mt];ht.push({fnId:ft,fn:dt[ft],args:ut[mt]})}return _e(ht)}executeOpTree(at){for(const dt of at){const ut=dt.fn,ct=dt.fnId,ht=dt.args;switch(ct|0){case o.OPS.beginText:this.beginText();break;case o.OPS.dependency:break;case o.OPS.setLeading:this.setLeading(ht);break;case o.OPS.setLeadingMoveText:this.setLeadingMoveText(ht[0],ht[1]);break;case o.OPS.setFont:this.setFont(ht);break;case o.OPS.showText:this.showText(ht[0]);break;case o.OPS.showSpacedText:this.showText(ht[0]);break;case o.OPS.endText:this.endText();break;case o.OPS.moveText:this.moveText(ht[0],ht[1]);break;case o.OPS.setCharSpacing:this.setCharSpacing(ht[0]);break;case o.OPS.setWordSpacing:this.setWordSpacing(ht[0]);break;case o.OPS.setHScale:this.setHScale(ht[0]);break;case o.OPS.setTextMatrix:this.setTextMatrix(ht[0],ht[1],ht[2],ht[3],ht[4],ht[5]);break;case o.OPS.setTextRise:this.setTextRise(ht[0]);break;case o.OPS.setTextRenderingMode:this.setTextRenderingMode(ht[0]);break;case o.OPS.setLineWidth:this.setLineWidth(ht[0]);break;case o.OPS.setLineJoin:this.setLineJoin(ht[0]);break;case o.OPS.setLineCap:this.setLineCap(ht[0]);break;case o.OPS.setMiterLimit:this.setMiterLimit(ht[0]);break;case o.OPS.setFillRGBColor:this.setFillRGBColor(ht[0],ht[1],ht[2]);break;case o.OPS.setStrokeRGBColor:this.setStrokeRGBColor(ht[0],ht[1],ht[2]);break;case o.OPS.setStrokeColorN:this.setStrokeColorN(ht);break;case o.OPS.setFillColorN:this.setFillColorN(ht);break;case o.OPS.shadingFill:this.shadingFill(ht[0]);break;case o.OPS.setDash:this.setDash(ht[0],ht[1]);break;case o.OPS.setRenderingIntent:this.setRenderingIntent(ht[0]);break;case o.OPS.setFlatness:this.setFlatness(ht[0]);break;case o.OPS.setGState:this.setGState(ht[0]);break;case o.OPS.fill:this.fill();break;case o.OPS.eoFill:this.eoFill();break;case o.OPS.stroke:this.stroke();break;case o.OPS.fillStroke:this.fillStroke();break;case o.OPS.eoFillStroke:this.eoFillStroke();break;case o.OPS.clip:this.clip("nonzero");break;case o.OPS.eoClip:this.clip("evenodd");break;case o.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case o.OPS.paintImageXObject:this.paintImageXObject(ht[0]);break;case o.OPS.paintInlineImageXObject:this.paintInlineImageXObject(ht[0]);break;case o.OPS.paintImageMaskXObject:this.paintImageMaskXObject(ht[0]);break;case o.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(ht[0],ht[1]);break;case o.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case o.OPS.closePath:this.closePath();break;case o.OPS.closeStroke:this.closeStroke();break;case o.OPS.closeFillStroke:this.closeFillStroke();break;case o.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case o.OPS.nextLine:this.nextLine();break;case o.OPS.transform:this.transform(ht[0],ht[1],ht[2],ht[3],ht[4],ht[5]);break;case o.OPS.constructPath:this.constructPath(ht[0],ht[1]);break;case o.OPS.endPath:this.endPath();break;case 92:this.group(dt.items);break;default:(0,o.warn)(`Unimplemented operator ${ut}`);break}}}setWordSpacing(at){this.current.wordSpacing=at}setCharSpacing(at){this.current.charSpacing=at}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(at,dt,ut,ct,ht,mt){const lt=this.current;lt.textMatrix=lt.lineMatrix=[at,dt,ut,ct,ht,mt],lt.textMatrixScale=Math.hypot(at,dt),lt.x=lt.lineX=0,lt.y=lt.lineY=0,lt.xcoords=[],lt.ycoords=[],lt.tspan=this.svgFactory.createElement("svg:tspan"),lt.tspan.setAttributeNS(null,"font-family",lt.fontFamily),lt.tspan.setAttributeNS(null,"font-size",`${rt(lt.fontSize)}px`),lt.tspan.setAttributeNS(null,"y",rt(-lt.y)),lt.txtElement=this.svgFactory.createElement("svg:text"),lt.txtElement.append(lt.tspan)}beginText(){const at=this.current;at.x=at.lineX=0,at.y=at.lineY=0,at.textMatrix=o.IDENTITY_MATRIX,at.lineMatrix=o.IDENTITY_MATRIX,at.textMatrixScale=1,at.tspan=this.svgFactory.createElement("svg:tspan"),at.txtElement=this.svgFactory.createElement("svg:text"),at.txtgrp=this.svgFactory.createElement("svg:g"),at.xcoords=[],at.ycoords=[]}moveText(at,dt){const ut=this.current;ut.x=ut.lineX+=at,ut.y=ut.lineY+=dt,ut.xcoords=[],ut.ycoords=[],ut.tspan=this.svgFactory.createElement("svg:tspan"),ut.tspan.setAttributeNS(null,"font-family",ut.fontFamily),ut.tspan.setAttributeNS(null,"font-size",`${rt(ut.fontSize)}px`),ut.tspan.setAttributeNS(null,"y",rt(-ut.y))}showText(at){const dt=this.current,ut=dt.font,ct=dt.fontSize;if(ct===0)return;const ht=dt.fontSizeScale,mt=dt.charSpacing,lt=dt.wordSpacing,ft=dt.fontDirection,vt=dt.textHScale*ft,kt=ut.vertical,jt=kt?1:-1,Ot=ut.defaultVMetrics,Pt=ct*dt.fontMatrix[0];let Lt=0;for(const _t of at){if(_t===null){Lt+=ft*lt;continue}else if(typeof _t=="number"){Lt+=jt*_t*ct/1e3;continue}const xt=(_t.isSpace?lt:0)+mt,pt=_t.fontChar;let gt,Et,bt=_t.width;if(kt){let Tt;const Nt=_t.vmetric||Ot;Tt=_t.vmetric?Nt[1]:bt*.5,Tt=-Tt*Pt;const Dt=Nt[2]*Pt;bt=Nt?-Nt[0]:bt,gt=Tt/ht,Et=(Lt+Dt)/ht}else gt=Lt/ht,Et=0;(_t.isInFont||ut.missingFile)&&(dt.xcoords.push(dt.x+gt),kt&&dt.ycoords.push(-dt.y+Et),dt.tspan.textContent+=pt);const At=kt?bt*Pt-xt*ft:bt*Pt+xt*ft;Lt+=At}dt.tspan.setAttributeNS(null,"x",dt.xcoords.map(rt).join(" ")),kt?dt.tspan.setAttributeNS(null,"y",dt.ycoords.map(rt).join(" ")):dt.tspan.setAttributeNS(null,"y",rt(-dt.y)),kt?dt.y-=Lt:dt.x+=Lt*vt,dt.tspan.setAttributeNS(null,"font-family",dt.fontFamily),dt.tspan.setAttributeNS(null,"font-size",`${rt(dt.fontSize)}px`),dt.fontStyle!==c.fontStyle&&dt.tspan.setAttributeNS(null,"font-style",dt.fontStyle),dt.fontWeight!==c.fontWeight&&dt.tspan.setAttributeNS(null,"font-weight",dt.fontWeight);const wt=dt.textRenderingMode&o.TextRenderingMode.FILL_STROKE_MASK;if(wt===o.TextRenderingMode.FILL||wt===o.TextRenderingMode.FILL_STROKE?(dt.fillColor!==c.fillColor&&dt.tspan.setAttributeNS(null,"fill",dt.fillColor),dt.fillAlpha<1&&dt.tspan.setAttributeNS(null,"fill-opacity",dt.fillAlpha)):dt.textRenderingMode===o.TextRenderingMode.ADD_TO_PATH?dt.tspan.setAttributeNS(null,"fill","transparent"):dt.tspan.setAttributeNS(null,"fill","none"),wt===o.TextRenderingMode.STROKE||wt===o.TextRenderingMode.FILL_STROKE){const _t=1/(dt.textMatrixScale||1);this._setStrokeAttributes(dt.tspan,_t)}let St=dt.textMatrix;dt.textRise!==0&&(St=St.slice(),St[5]+=dt.textRise),dt.txtElement.setAttributeNS(null,"transform",`${it(St)} scale(${rt(vt)}, -1)`),dt.txtElement.setAttributeNS(d,"xml:space","preserve"),dt.txtElement.append(dt.tspan),dt.txtgrp.append(dt.txtElement),this._ensureTransformGroup().append(dt.txtElement)}setLeadingMoveText(at,dt){this.setLeading(-dt),this.moveText(at,dt)}addFontStyle(at){if(!at.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const dt=_(at.data,at.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${at.loadedName}"; src: url(${dt}); }
`}setFont(at){const dt=this.current,ut=this.commonObjs.get(at[0]);let ct=at[1];dt.font=ut,this.embedFonts&&!ut.missingFile&&!this.embeddedFonts[ut.loadedName]&&(this.addFontStyle(ut),this.embeddedFonts[ut.loadedName]=ut),dt.fontMatrix=ut.fontMatrix||o.FONT_IDENTITY_MATRIX;let ht="normal";ut.black?ht="900":ut.bold&&(ht="bold");const mt=ut.italic?"italic":"normal";ct<0?(ct=-ct,dt.fontDirection=-1):dt.fontDirection=1,dt.fontSize=ct,dt.fontFamily=ut.loadedName,dt.fontWeight=ht,dt.fontStyle=mt,dt.tspan=this.svgFactory.createElement("svg:tspan"),dt.tspan.setAttributeNS(null,"y",rt(-dt.y)),dt.xcoords=[],dt.ycoords=[]}endText(){var dt;const at=this.current;at.textRenderingMode&o.TextRenderingMode.ADD_TO_PATH_FLAG&&((dt=at.txtElement)!=null&&dt.hasChildNodes())&&(at.element=at.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(at){at>0&&(this.current.lineWidth=at)}setLineCap(at){this.current.lineCap=h[at]}setLineJoin(at){this.current.lineJoin=b[at]}setMiterLimit(at){this.current.miterLimit=at}setStrokeAlpha(at){this.current.strokeAlpha=at}setStrokeRGBColor(at,dt,ut){this.current.strokeColor=o.Util.makeHexColor(at,dt,ut)}setFillAlpha(at){this.current.fillAlpha=at}setFillRGBColor(at,dt,ut){this.current.fillColor=o.Util.makeHexColor(at,dt,ut),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(at){this.current.strokeColor=this._makeColorN_Pattern(at)}setFillColorN(at){this.current.fillColor=this._makeColorN_Pattern(at)}shadingFill(at){const{width:dt,height:ut}=this.viewport,ct=o.Util.inverseTransform(this.transformMatrix),[ht,mt,lt,ft]=o.Util.getAxialAlignedBoundingBox([0,0,dt,ut],ct),vt=this.svgFactory.createElement("svg:rect");vt.setAttributeNS(null,"x",ht),vt.setAttributeNS(null,"y",mt),vt.setAttributeNS(null,"width",lt-ht),vt.setAttributeNS(null,"height",ft-mt),vt.setAttributeNS(null,"fill",this._makeShadingPattern(at)),this.current.fillAlpha<1&&vt.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(vt)}_makeColorN_Pattern(at){return at[0]==="TilingPattern"?this._makeTilingPattern(at):this._makeShadingPattern(at)}_makeTilingPattern(at){const dt=at[1],ut=at[2],ct=at[3]||o.IDENTITY_MATRIX,[ht,mt,lt,ft]=at[4],vt=at[5],kt=at[6],jt=at[7],Ot=`shading${tt++}`,[Pt,Lt,wt,St]=o.Util.normalizeRect([...o.Util.applyTransform([ht,mt],ct),...o.Util.applyTransform([lt,ft],ct)]),[_t,xt]=o.Util.singularValueDecompose2dScale(ct),pt=vt*_t,gt=kt*xt,Et=this.svgFactory.createElement("svg:pattern");Et.setAttributeNS(null,"id",Ot),Et.setAttributeNS(null,"patternUnits","userSpaceOnUse"),Et.setAttributeNS(null,"width",pt),Et.setAttributeNS(null,"height",gt),Et.setAttributeNS(null,"x",`${Pt}`),Et.setAttributeNS(null,"y",`${Lt}`);const bt=this.svg,At=this.transformMatrix,Tt=this.current.fillColor,Nt=this.current.strokeColor,Dt=this.svgFactory.create(wt-Pt,St-Lt);if(this.svg=Dt,this.transformMatrix=ct,jt===2){const zt=o.Util.makeHexColor(...dt);this.current.fillColor=zt,this.current.strokeColor=zt}return this.executeOpTree(this.convertOpList(ut)),this.svg=bt,this.transformMatrix=At,this.current.fillColor=Tt,this.current.strokeColor=Nt,Et.append(Dt.childNodes[0]),this.defs.append(Et),`url(#${Ot})`}_makeShadingPattern(at){switch(typeof at=="string"&&(at=this.objs.get(at)),at[0]){case"RadialAxial":const dt=`shading${tt++}`,ut=at[3];let ct;switch(at[1]){case"axial":const ht=at[4],mt=at[5];ct=this.svgFactory.createElement("svg:linearGradient"),ct.setAttributeNS(null,"id",dt),ct.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),ct.setAttributeNS(null,"x1",ht[0]),ct.setAttributeNS(null,"y1",ht[1]),ct.setAttributeNS(null,"x2",mt[0]),ct.setAttributeNS(null,"y2",mt[1]);break;case"radial":const lt=at[4],ft=at[5],vt=at[6],kt=at[7];ct=this.svgFactory.createElement("svg:radialGradient"),ct.setAttributeNS(null,"id",dt),ct.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),ct.setAttributeNS(null,"cx",ft[0]),ct.setAttributeNS(null,"cy",ft[1]),ct.setAttributeNS(null,"r",kt),ct.setAttributeNS(null,"fx",lt[0]),ct.setAttributeNS(null,"fy",lt[1]),ct.setAttributeNS(null,"fr",vt);break;default:throw new Error(`Unknown RadialAxial type: ${at[1]}`)}for(const ht of ut){const mt=this.svgFactory.createElement("svg:stop");mt.setAttributeNS(null,"offset",ht[0]),mt.setAttributeNS(null,"stop-color",ht[1]),ct.append(mt)}return this.defs.append(ct),`url(#${dt})`;case"Mesh":return(0,o.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${at[0]}`)}}setDash(at,dt){this.current.dashArray=at,this.current.dashPhase=dt}constructPath(at,dt){const ut=this.current;let ct=ut.x,ht=ut.y,mt=[],lt=0;for(const ft of at)switch(ft|0){case o.OPS.rectangle:ct=dt[lt++],ht=dt[lt++];const vt=dt[lt++],kt=dt[lt++],jt=ct+vt,Ot=ht+kt;mt.push("M",rt(ct),rt(ht),"L",rt(jt),rt(ht),"L",rt(jt),rt(Ot),"L",rt(ct),rt(Ot),"Z");break;case o.OPS.moveTo:ct=dt[lt++],ht=dt[lt++],mt.push("M",rt(ct),rt(ht));break;case o.OPS.lineTo:ct=dt[lt++],ht=dt[lt++],mt.push("L",rt(ct),rt(ht));break;case o.OPS.curveTo:ct=dt[lt+4],ht=dt[lt+5],mt.push("C",rt(dt[lt]),rt(dt[lt+1]),rt(dt[lt+2]),rt(dt[lt+3]),rt(ct),rt(ht)),lt+=6;break;case o.OPS.curveTo2:mt.push("C",rt(ct),rt(ht),rt(dt[lt]),rt(dt[lt+1]),rt(dt[lt+2]),rt(dt[lt+3])),ct=dt[lt+2],ht=dt[lt+3],lt+=4;break;case o.OPS.curveTo3:ct=dt[lt+2],ht=dt[lt+3],mt.push("C",rt(dt[lt]),rt(dt[lt+1]),rt(ct),rt(ht),rt(ct),rt(ht)),lt+=4;break;case o.OPS.closePath:mt.push("Z");break}mt=mt.join(" "),ut.path&&at.length>0&&at[0]!==o.OPS.rectangle&&at[0]!==o.OPS.moveTo?mt=ut.path.getAttributeNS(null,"d")+mt:(ut.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(ut.path)),ut.path.setAttributeNS(null,"d",mt),ut.path.setAttributeNS(null,"fill","none"),ut.element=ut.path,ut.setCurrentPoint(ct,ht)}endPath(){const at=this.current;if(at.path=null,!this.pendingClip)return;if(!at.element){this.pendingClip=null;return}const dt=`clippath${st++}`,ut=this.svgFactory.createElement("svg:clipPath");ut.setAttributeNS(null,"id",dt),ut.setAttributeNS(null,"transform",it(this.transformMatrix));const ct=at.element.cloneNode(!0);if(this.pendingClip==="evenodd"?ct.setAttributeNS(null,"clip-rule","evenodd"):ct.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,ut.append(ct),this.defs.append(ut),at.activeClipUrl){at.clipGroup=null;for(const ht of this.extraStack)ht.clipGroup=null;ut.setAttributeNS(null,"clip-path",at.activeClipUrl)}at.activeClipUrl=`url(#${dt})`,this.tgrp=null}clip(at){this.pendingClip=at}closePath(){const at=this.current;if(at.path){const dt=`${at.path.getAttributeNS(null,"d")}Z`;at.path.setAttributeNS(null,"d",dt)}}setLeading(at){this.current.leading=-at}setTextRise(at){this.current.textRise=at}setTextRenderingMode(at){this.current.textRenderingMode=at}setHScale(at){this.current.textHScale=at/100}setRenderingIntent(at){}setFlatness(at){}setGState(at){for(const[dt,ut]of at)switch(dt){case"LW":this.setLineWidth(ut);break;case"LC":this.setLineCap(ut);break;case"LJ":this.setLineJoin(ut);break;case"ML":this.setMiterLimit(ut);break;case"D":this.setDash(ut[0],ut[1]);break;case"RI":this.setRenderingIntent(ut);break;case"FL":this.setFlatness(ut);break;case"Font":this.setFont(ut);break;case"CA":this.setStrokeAlpha(ut);break;case"ca":this.setFillAlpha(ut);break;default:(0,o.warn)(`Unimplemented graphic state operator ${dt}`);break}}fill(){const at=this.current;at.element&&(at.element.setAttributeNS(null,"fill",at.fillColor),at.element.setAttributeNS(null,"fill-opacity",at.fillAlpha),this.endPath())}stroke(){const at=this.current;at.element&&(this._setStrokeAttributes(at.element),at.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(at,dt=1){const ut=this.current;let ct=ut.dashArray;dt!==1&&ct.length>0&&(ct=ct.map(function(ht){return dt*ht})),at.setAttributeNS(null,"stroke",ut.strokeColor),at.setAttributeNS(null,"stroke-opacity",ut.strokeAlpha),at.setAttributeNS(null,"stroke-miterlimit",rt(ut.miterLimit)),at.setAttributeNS(null,"stroke-linecap",ut.lineCap),at.setAttributeNS(null,"stroke-linejoin",ut.lineJoin),at.setAttributeNS(null,"stroke-width",rt(dt*ut.lineWidth)+"px"),at.setAttributeNS(null,"stroke-dasharray",ct.map(rt).join(" ")),at.setAttributeNS(null,"stroke-dashoffset",rt(dt*ut.dashPhase)+"px")}eoFill(){var at;(at=this.current.element)==null||at.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var at;(at=this.current.element)==null||at.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const at=this.svgFactory.createElement("svg:rect");at.setAttributeNS(null,"x","0"),at.setAttributeNS(null,"y","0"),at.setAttributeNS(null,"width","1px"),at.setAttributeNS(null,"height","1px"),at.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(at)}paintImageXObject(at){const dt=this.getObject(at);if(!dt){(0,o.warn)(`Dependent image with object ID ${at} is not ready yet`);return}this.paintInlineImageXObject(dt)}paintInlineImageXObject(at,dt){const ut=at.width,ct=at.height,ht=$(at,this.forceDataSchema,!!dt),mt=this.svgFactory.createElement("svg:rect");mt.setAttributeNS(null,"x","0"),mt.setAttributeNS(null,"y","0"),mt.setAttributeNS(null,"width",rt(ut)),mt.setAttributeNS(null,"height",rt(ct)),this.current.element=mt,this.clip("nonzero");const lt=this.svgFactory.createElement("svg:image");lt.setAttributeNS(g,"xlink:href",ht),lt.setAttributeNS(null,"x","0"),lt.setAttributeNS(null,"y",rt(-ct)),lt.setAttributeNS(null,"width",rt(ut)+"px"),lt.setAttributeNS(null,"height",rt(ct)+"px"),lt.setAttributeNS(null,"transform",`scale(${rt(1/ut)} ${rt(-1/ct)})`),dt?dt.append(lt):this._ensureTransformGroup().append(lt)}paintImageMaskXObject(at){const dt=this.getObject(at.data,at);if(dt.bitmap){(0,o.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const ut=this.current,ct=dt.width,ht=dt.height,mt=ut.fillColor;ut.maskId=`mask${et++}`;const lt=this.svgFactory.createElement("svg:mask");lt.setAttributeNS(null,"id",ut.maskId);const ft=this.svgFactory.createElement("svg:rect");ft.setAttributeNS(null,"x","0"),ft.setAttributeNS(null,"y","0"),ft.setAttributeNS(null,"width",rt(ct)),ft.setAttributeNS(null,"height",rt(ht)),ft.setAttributeNS(null,"fill",mt),ft.setAttributeNS(null,"mask",`url(#${ut.maskId})`),this.defs.append(lt),this._ensureTransformGroup().append(ft),this.paintInlineImageXObject(dt,lt)}paintFormXObjectBegin(at,dt){if(Array.isArray(at)&&at.length===6&&this.transform(at[0],at[1],at[2],at[3],at[4],at[5]),dt){const ut=dt[2]-dt[0],ct=dt[3]-dt[1],ht=this.svgFactory.createElement("svg:rect");ht.setAttributeNS(null,"x",dt[0]),ht.setAttributeNS(null,"y",dt[1]),ht.setAttributeNS(null,"width",rt(ut)),ht.setAttributeNS(null,"height",rt(ct)),this.current.element=ht,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(at){const dt=this.svgFactory.create(at.width,at.height),ut=this.svgFactory.createElement("svg:defs");dt.append(ut),this.defs=ut;const ct=this.svgFactory.createElement("svg:g");return ct.setAttributeNS(null,"transform",it(at.transform)),dt.append(ct),this.svg=ct,dt}_ensureClipGroup(){if(!this.current.clipGroup){const at=this.svgFactory.createElement("svg:g");at.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(at),this.current.clipGroup=at}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",it(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}i.SVGGraphics=ot},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.XfaText=void 0;class s{static textContent(o){const c=[],d={items:c,styles:Object.create(null)};function g(h){var $;if(!h)return;let b=null;const _=h.name;if(_==="#text")b=h.value;else if(s.shouldBuildText(_))($=h==null?void 0:h.attributes)!=null&&$.textContent?b=h.attributes.textContent:h.value&&(b=h.value);else return;if(b!==null&&c.push({str:b}),!!h.children)for(const j of h.children)g(j)}return g(o),d}static shouldBuildText(o){return!(o==="textarea"||o==="input"||o==="option"||o==="select")}}i.XfaText=s},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TextLayerRenderTask=void 0,i.renderTextLayer=it,i.updateTextLayer=st;var a=s(1),o=s(6);const c=1e5,d=30,g=.8,h=new Map;function b(et,tt){let ot;if(tt&&a.FeatureTest.isOffscreenCanvasSupported)ot=new OffscreenCanvas(et,et).getContext("2d",{alpha:!1});else{const nt=document.createElement("canvas");nt.width=nt.height=et,ot=nt.getContext("2d",{alpha:!1})}return ot}function _(et,tt){const ot=h.get(et);if(ot)return ot;const nt=b(d,tt);nt.font=`${d}px ${et}`;const at=nt.measureText("");let dt=at.fontBoundingBoxAscent,ut=Math.abs(at.fontBoundingBoxDescent);if(dt){const ht=dt/(dt+ut);return h.set(et,ht),nt.canvas.width=nt.canvas.height=0,ht}nt.strokeStyle="red",nt.clearRect(0,0,d,d),nt.strokeText("g",0,0);let ct=nt.getImageData(0,0,d,d).data;ut=0;for(let ht=ct.length-1-3;ht>=0;ht-=4)if(ct[ht]>0){ut=Math.ceil(ht/4/d);break}nt.clearRect(0,0,d,d),nt.strokeText("A",0,d),ct=nt.getImageData(0,0,d,d).data,dt=0;for(let ht=0,mt=ct.length;ht<mt;ht+=4)if(ct[ht]>0){dt=d-Math.floor(ht/4/d);break}if(nt.canvas.width=nt.canvas.height=0,dt){const ht=dt/(dt+ut);return h.set(et,ht),ht}return h.set(et,g),g}function $(et,tt,ot){const nt=document.createElement("span"),at={angle:0,canvasWidth:0,hasText:tt.str!=="",hasEOL:tt.hasEOL,fontSize:0};et._textDivs.push(nt);const dt=a.Util.transform(et._transform,tt.transform);let ut=Math.atan2(dt[1],dt[0]);const ct=ot[tt.fontName];ct.vertical&&(ut+=Math.PI/2);const ht=Math.hypot(dt[2],dt[3]),mt=ht*_(ct.fontFamily,et._isOffscreenCanvasSupported);let lt,ft;ut===0?(lt=dt[4],ft=dt[5]-mt):(lt=dt[4]+mt*Math.sin(ut),ft=dt[5]-mt*Math.cos(ut));const vt="calc(var(--scale-factor)*",kt=nt.style;et._container===et._rootContainer?(kt.left=`${(100*lt/et._pageWidth).toFixed(2)}%`,kt.top=`${(100*ft/et._pageHeight).toFixed(2)}%`):(kt.left=`${vt}${lt.toFixed(2)}px)`,kt.top=`${vt}${ft.toFixed(2)}px)`),kt.fontSize=`${vt}${ht.toFixed(2)}px)`,kt.fontFamily=ct.fontFamily,at.fontSize=ht,nt.setAttribute("role","presentation"),nt.textContent=tt.str,nt.dir=tt.dir,et._fontInspectorEnabled&&(nt.dataset.fontName=tt.fontName),ut!==0&&(at.angle=ut*(180/Math.PI));let jt=!1;if(tt.str.length>1)jt=!0;else if(tt.str!==" "&&tt.transform[0]!==tt.transform[3]){const Ot=Math.abs(tt.transform[0]),Pt=Math.abs(tt.transform[3]);Ot!==Pt&&Math.max(Ot,Pt)/Math.min(Ot,Pt)>1.5&&(jt=!0)}jt&&(at.canvasWidth=ct.vertical?tt.height:tt.width),et._textDivProperties.set(nt,at),et._isReadableStream&&et._layoutText(nt)}function j(et){const{div:tt,scale:ot,properties:nt,ctx:at,prevFontSize:dt,prevFontFamily:ut}=et,{style:ct}=tt;let ht="";if(nt.canvasWidth!==0&&nt.hasText){const{fontFamily:mt}=ct,{canvasWidth:lt,fontSize:ft}=nt;(dt!==ft||ut!==mt)&&(at.font=`${ft*ot}px ${mt}`,et.prevFontSize=ft,et.prevFontFamily=mt);const{width:vt}=at.measureText(tt.textContent);vt>0&&(ht=`scaleX(${lt*ot/vt})`)}nt.angle!==0&&(ht=`rotate(${nt.angle}deg) ${ht}`),ht.length>0&&(ct.transform=ht)}function _e(et){if(et._canceled)return;const tt=et._textDivs,ot=et._capability;if(tt.length>c){ot.resolve();return}if(!et._isReadableStream)for(const at of tt)et._layoutText(at);ot.resolve()}class rt{constructor({textContentSource:tt,container:ot,viewport:nt,textDivs:at,textDivProperties:dt,textContentItemsStr:ut,isOffscreenCanvasSupported:ct}){var vt;this._textContentSource=tt,this._isReadableStream=tt instanceof ReadableStream,this._container=this._rootContainer=ot,this._textDivs=at||[],this._textContentItemsStr=ut||[],this._isOffscreenCanvasSupported=ct,this._fontInspectorEnabled=!!((vt=globalThis.FontInspector)!=null&&vt.enabled),this._reader=null,this._textDivProperties=dt||new WeakMap,this._canceled=!1,this._capability=new a.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:nt.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:b(0,ct)};const{pageWidth:ht,pageHeight:mt,pageX:lt,pageY:ft}=nt.rawDims;this._transform=[1,0,0,-1,-lt,ft+mt],this._pageWidth=ht,this._pageHeight=mt,(0,o.setLayerDimensions)(ot,nt),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new a.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new a.AbortException("TextLayer task cancelled."))}_processItems(tt,ot){for(const nt of tt){if(nt.str===void 0){if(nt.type==="beginMarkedContentProps"||nt.type==="beginMarkedContent"){const at=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),nt.id!==null&&this._container.setAttribute("id",`${nt.id}`),at.append(this._container)}else nt.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(nt.str),$(this,nt,ot)}}_layoutText(tt){const ot=this._layoutTextParams.properties=this._textDivProperties.get(tt);if(this._layoutTextParams.div=tt,j(this._layoutTextParams),ot.hasText&&this._container.append(tt),ot.hasEOL){const nt=document.createElement("br");nt.setAttribute("role","presentation"),this._container.append(nt)}}_render(){const tt=new a.PromiseCapability;let ot=Object.create(null);if(this._isReadableStream){const nt=()=>{this._reader.read().then(({value:at,done:dt})=>{if(dt){tt.resolve();return}Object.assign(ot,at.styles),this._processItems(at.items,ot),nt()},tt.reject)};this._reader=this._textContentSource.getReader(),nt()}else if(this._textContentSource){const{items:nt,styles:at}=this._textContentSource;this._processItems(nt,at),tt.resolve()}else throw new Error('No "textContentSource" parameter specified.');tt.promise.then(()=>{ot=null,_e(this)},this._capability.reject)}}i.TextLayerRenderTask=rt;function it(et){!et.textContentSource&&(et.textContent||et.textContentStream)&&((0,o.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),et.textContentSource=et.textContent||et.textContentStream);const{container:tt,viewport:ot}=et,nt=getComputedStyle(tt),at=nt.getPropertyValue("visibility"),dt=parseFloat(nt.getPropertyValue("--scale-factor"));at==="visible"&&(!dt||Math.abs(dt-ot.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const ut=new rt(et);return ut._render(),ut}function st({container:et,viewport:tt,textDivs:ot,textDivProperties:nt,isOffscreenCanvasSupported:at,mustRotate:dt=!0,mustRescale:ut=!0}){if(dt&&(0,o.setLayerDimensions)(et,{rotation:tt.rotation}),ut){const ct=b(0,at),mt={prevFontSize:null,prevFontFamily:null,div:null,scale:tt.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:ct};for(const lt of ot)mt.properties=nt.get(lt),mt.div=lt,j(mt)}}},(e,i,s)=>{var _,$,j,_e,rt,it,st,et,tt,ot,nt,Ir,dr,Fr,$r;Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationEditorLayer=void 0;var a=s(1),o=s(4),c=s(28),d=s(33),g=s(6),h=s(34);const ht=class ht{constructor({uiManager:lt,pageIndex:ft,div:vt,accessibilityManager:kt,annotationLayer:jt,viewport:Ot,l10n:Pt}){Kt(this,nt);Kt(this,_);Kt(this,$,!1);Kt(this,j,null);Kt(this,_e,this.pointerup.bind(this));Kt(this,rt,this.pointerdown.bind(this));Kt(this,it,new Map);Kt(this,st,!1);Kt(this,et,!1);Kt(this,tt,!1);Kt(this,ot);const Lt=[c.FreeTextEditor,d.InkEditor,h.StampEditor];if(!ht._initialized){ht._initialized=!0;for(const wt of Lt)wt.initialize(Pt)}lt.registerEditorTypes(Lt),Qt(this,ot,lt),this.pageIndex=ft,this.div=vt,Qt(this,_,kt),Qt(this,j,jt),this.viewport=Ot,yt(this,ot).addLayer(this)}get isEmpty(){return yt(this,it).size===0}updateToolbar(lt){yt(this,ot).updateToolbar(lt)}updateMode(lt=yt(this,ot).getMode()){Gt(this,nt,$r).call(this),lt===a.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),lt!==a.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",lt===a.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",lt===a.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",lt===a.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(lt){if(!lt&&yt(this,ot).getMode()!==a.AnnotationEditorType.INK)return;if(!lt){for(const vt of yt(this,it).values())if(vt.isEmpty()){vt.setInBackground();return}}Gt(this,nt,dr).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(lt){yt(this,ot).setEditingState(lt)}addCommands(lt){yt(this,ot).addCommands(lt)}enable(){this.div.style.pointerEvents="auto";const lt=new Set;for(const vt of yt(this,it).values())vt.enableEditing(),vt.annotationElementId&&lt.add(vt.annotationElementId);if(!yt(this,j))return;const ft=yt(this,j).getEditableAnnotations();for(const vt of ft){if(vt.hide(),yt(this,ot).isDeletedAnnotationElement(vt.data.id)||lt.has(vt.data.id))continue;const kt=this.deserialize(vt);kt&&(this.addOrRebuild(kt),kt.enableEditing())}}disable(){var ft;Qt(this,tt,!0),this.div.style.pointerEvents="none";const lt=new Set;for(const vt of yt(this,it).values()){if(vt.disableEditing(),!vt.annotationElementId||vt.serialize()!==null){lt.add(vt.annotationElementId);continue}(ft=this.getEditableAnnotation(vt.annotationElementId))==null||ft.show(),vt.remove()}if(yt(this,j)){const vt=yt(this,j).getEditableAnnotations();for(const kt of vt){const{id:jt}=kt.data;lt.has(jt)||yt(this,ot).isDeletedAnnotationElement(jt)||kt.show()}}Gt(this,nt,$r).call(this),this.isEmpty&&(this.div.hidden=!0),Qt(this,tt,!1)}getEditableAnnotation(lt){var ft;return((ft=yt(this,j))==null?void 0:ft.getEditableAnnotation(lt))||null}setActiveEditor(lt){yt(this,ot).getActive()!==lt&&yt(this,ot).setActiveEditor(lt)}enableClick(){this.div.addEventListener("pointerdown",yt(this,rt)),this.div.addEventListener("pointerup",yt(this,_e))}disableClick(){this.div.removeEventListener("pointerdown",yt(this,rt)),this.div.removeEventListener("pointerup",yt(this,_e))}attach(lt){yt(this,it).set(lt.id,lt);const{annotationElementId:ft}=lt;ft&&yt(this,ot).isDeletedAnnotationElement(ft)&&yt(this,ot).removeDeletedAnnotationElement(lt)}detach(lt){var ft;yt(this,it).delete(lt.id),(ft=yt(this,_))==null||ft.removePointerInTextLayer(lt.contentDiv),!yt(this,tt)&&lt.annotationElementId&&yt(this,ot).addDeletedAnnotationElement(lt)}remove(lt){this.detach(lt),yt(this,ot).removeEditor(lt),lt.div.contains(document.activeElement)&&setTimeout(()=>{yt(this,ot).focusMainContainer()},0),lt.div.remove(),lt.isAttachedToDOM=!1,yt(this,et)||this.addInkEditorIfNeeded(!1)}changeParent(lt){var ft;lt.parent!==this&&(lt.annotationElementId&&(yt(this,ot).addDeletedAnnotationElement(lt.annotationElementId),o.AnnotationEditor.deleteAnnotationElement(lt),lt.annotationElementId=null),this.attach(lt),(ft=lt.parent)==null||ft.detach(lt),lt.setParent(this),lt.div&&lt.isAttachedToDOM&&(lt.div.remove(),this.div.append(lt.div)))}add(lt){if(this.changeParent(lt),yt(this,ot).addEditor(lt),this.attach(lt),!lt.isAttachedToDOM){const ft=lt.render();this.div.append(ft),lt.isAttachedToDOM=!0}lt.fixAndSetPosition(),lt.onceAdded(),yt(this,ot).addToAnnotationStorage(lt)}moveEditorInDOM(lt){var vt;if(!lt.isAttachedToDOM)return;const{activeElement:ft}=document;lt.div.contains(ft)&&(lt._focusEventsAllowed=!1,setTimeout(()=>{lt.div.contains(document.activeElement)?lt._focusEventsAllowed=!0:(lt.div.addEventListener("focusin",()=>{lt._focusEventsAllowed=!0},{once:!0}),ft.focus())},0)),lt._structTreeParentId=(vt=yt(this,_))==null?void 0:vt.moveElementInDOM(this.div,lt.div,lt.contentDiv,!0)}addOrRebuild(lt){lt.needsToBeRebuilt()?lt.rebuild():this.add(lt)}addUndoableEditor(lt){const ft=()=>lt._uiManager.rebuild(lt),vt=()=>{lt.remove()};this.addCommands({cmd:ft,undo:vt,mustExec:!1})}getNextId(){return yt(this,ot).getId()}pasteEditor(lt,ft){yt(this,ot).updateToolbar(lt),yt(this,ot).updateMode(lt);const{offsetX:vt,offsetY:kt}=Gt(this,nt,Fr).call(this),jt=this.getNextId(),Ot=Gt(this,nt,Ir).call(this,{parent:this,id:jt,x:vt,y:kt,uiManager:yt(this,ot),isCentered:!0,...ft});Ot&&this.add(Ot)}deserialize(lt){switch(lt.annotationType??lt.annotationEditorType){case a.AnnotationEditorType.FREETEXT:return c.FreeTextEditor.deserialize(lt,this,yt(this,ot));case a.AnnotationEditorType.INK:return d.InkEditor.deserialize(lt,this,yt(this,ot));case a.AnnotationEditorType.STAMP:return h.StampEditor.deserialize(lt,this,yt(this,ot))}return null}addNewEditor(){Gt(this,nt,dr).call(this,Gt(this,nt,Fr).call(this),!0)}setSelected(lt){yt(this,ot).setSelected(lt)}toggleSelected(lt){yt(this,ot).toggleSelected(lt)}isSelected(lt){return yt(this,ot).isSelected(lt)}unselect(lt){yt(this,ot).unselect(lt)}pointerup(lt){const{isMac:ft}=a.FeatureTest.platform;if(!(lt.button!==0||lt.ctrlKey&&ft)&&lt.target===this.div&&yt(this,st)){if(Qt(this,st,!1),!yt(this,$)){Qt(this,$,!0);return}if(yt(this,ot).getMode()===a.AnnotationEditorType.STAMP){yt(this,ot).unselectAll();return}Gt(this,nt,dr).call(this,lt,!1)}}pointerdown(lt){if(yt(this,st)){Qt(this,st,!1);return}const{isMac:ft}=a.FeatureTest.platform;if(lt.button!==0||lt.ctrlKey&&ft||lt.target!==this.div)return;Qt(this,st,!0);const vt=yt(this,ot).getActive();Qt(this,$,!vt||vt.isEmpty())}findNewParent(lt,ft,vt){const kt=yt(this,ot).findParent(ft,vt);return kt===null||kt===this?!1:(kt.changeParent(lt),!0)}destroy(){var lt,ft;((lt=yt(this,ot).getActive())==null?void 0:lt.parent)===this&&(yt(this,ot).commitOrRemove(),yt(this,ot).setActiveEditor(null));for(const vt of yt(this,it).values())(ft=yt(this,_))==null||ft.removePointerInTextLayer(vt.contentDiv),vt.setParent(null),vt.isAttachedToDOM=!1,vt.div.remove();this.div=null,yt(this,it).clear(),yt(this,ot).removeLayer(this)}render({viewport:lt}){this.viewport=lt,(0,g.setLayerDimensions)(this.div,lt);for(const ft of yt(this,ot).getEditors(this.pageIndex))this.add(ft);this.updateMode()}update({viewport:lt}){yt(this,ot).commitOrRemove(),this.viewport=lt,(0,g.setLayerDimensions)(this.div,{rotation:lt.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:lt,pageHeight:ft}=this.viewport.rawDims;return[lt,ft]}};_=new WeakMap,$=new WeakMap,j=new WeakMap,_e=new WeakMap,rt=new WeakMap,it=new WeakMap,st=new WeakMap,et=new WeakMap,tt=new WeakMap,ot=new WeakMap,nt=new WeakSet,Ir=function(lt){switch(yt(this,ot).getMode()){case a.AnnotationEditorType.FREETEXT:return new c.FreeTextEditor(lt);case a.AnnotationEditorType.INK:return new d.InkEditor(lt);case a.AnnotationEditorType.STAMP:return new h.StampEditor(lt)}return null},dr=function(lt,ft){const vt=this.getNextId(),kt=Gt(this,nt,Ir).call(this,{parent:this,id:vt,x:lt.offsetX,y:lt.offsetY,uiManager:yt(this,ot),isCentered:ft});return kt&&this.add(kt),kt},Fr=function(){const{x:lt,y:ft,width:vt,height:kt}=this.div.getBoundingClientRect(),jt=Math.max(0,lt),Ot=Math.max(0,ft),Pt=Math.min(window.innerWidth,lt+vt),Lt=Math.min(window.innerHeight,ft+kt),wt=(jt+Pt)/2-lt,St=(Ot+Lt)/2-ft,[_t,xt]=this.viewport.rotation%180===0?[wt,St]:[St,wt];return{offsetX:_t,offsetY:xt}},$r=function(){Qt(this,et,!0);for(const lt of yt(this,it).values())lt.isEmpty()&&lt.remove();Qt(this,et,!1)},In(ht,"_initialized",!1);let b=ht;i.AnnotationEditorLayer=b},(e,i,s)=>{var h,b,_,$,j,_e,rt,it,st,et,fs,ps,ms,nr,Br,gs,Ur;Object.defineProperty(i,"__esModule",{value:!0}),i.FreeTextEditor=void 0;var a=s(1),o=s(5),c=s(4),d=s(29);const ht=class ht extends c.AnnotationEditor{constructor(ft){super({...ft,name:"freeTextEditor"});Kt(this,et);Kt(this,h,this.editorDivBlur.bind(this));Kt(this,b,this.editorDivFocus.bind(this));Kt(this,_,this.editorDivInput.bind(this));Kt(this,$,this.editorDivKeydown.bind(this));Kt(this,j);Kt(this,_e,"");Kt(this,rt,`${this.id}-editor`);Kt(this,it);Kt(this,st,null);Qt(this,j,ft.color||ht._defaultColor||c.AnnotationEditor._defaultLineColor),Qt(this,it,ft.fontSize||ht._defaultFontSize)}static get _keyboardManager(){const ft=ht.prototype,vt=Ot=>Ot.isEmpty(),kt=o.AnnotationEditorUIManager.TRANSLATE_SMALL,jt=o.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,a.shadow)(this,"_keyboardManager",new o.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],ft.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],ft.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],ft._translateEmpty,{args:[-kt,0],checker:vt}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],ft._translateEmpty,{args:[-jt,0],checker:vt}],[["ArrowRight","mac+ArrowRight"],ft._translateEmpty,{args:[kt,0],checker:vt}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],ft._translateEmpty,{args:[jt,0],checker:vt}],[["ArrowUp","mac+ArrowUp"],ft._translateEmpty,{args:[0,-kt],checker:vt}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],ft._translateEmpty,{args:[0,-jt],checker:vt}],[["ArrowDown","mac+ArrowDown"],ft._translateEmpty,{args:[0,kt],checker:vt}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],ft._translateEmpty,{args:[0,jt],checker:vt}]]))}static initialize(ft){c.AnnotationEditor.initialize(ft,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const vt=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(vt.getPropertyValue("--freetext-padding"))}static updateDefaultParams(ft,vt){switch(ft){case a.AnnotationEditorParamsType.FREETEXT_SIZE:ht._defaultFontSize=vt;break;case a.AnnotationEditorParamsType.FREETEXT_COLOR:ht._defaultColor=vt;break}}updateParams(ft,vt){switch(ft){case a.AnnotationEditorParamsType.FREETEXT_SIZE:Gt(this,et,fs).call(this,vt);break;case a.AnnotationEditorParamsType.FREETEXT_COLOR:Gt(this,et,ps).call(this,vt);break}}static get defaultPropertiesToUpdate(){return[[a.AnnotationEditorParamsType.FREETEXT_SIZE,ht._defaultFontSize],[a.AnnotationEditorParamsType.FREETEXT_COLOR,ht._defaultColor||c.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[a.AnnotationEditorParamsType.FREETEXT_SIZE,yt(this,it)],[a.AnnotationEditorParamsType.FREETEXT_COLOR,yt(this,j)]]}_translateEmpty(ft,vt){this._uiManager.translateSelectedEditors(ft,vt,!0)}getInitialTranslation(){const ft=this.parentScale;return[-ht._internalPadding*ft,-(ht._internalPadding+yt(this,it))*ft]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(a.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",yt(this,$)),this.editorDiv.addEventListener("focus",yt(this,b)),this.editorDiv.addEventListener("blur",yt(this,h)),this.editorDiv.addEventListener("input",yt(this,_)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",yt(this,rt)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",yt(this,$)),this.editorDiv.removeEventListener("focus",yt(this,b)),this.editorDiv.removeEventListener("blur",yt(this,h)),this.editorDiv.removeEventListener("input",yt(this,_)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(ft){this._focusEventsAllowed&&(super.focusin(ft),ft.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var ft;if(this.width){Gt(this,et,Ur).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(ft=this._initialOptions)!=null&&ft.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const ft=yt(this,_e),vt=Qt(this,_e,Gt(this,et,ms).call(this).trimEnd());if(ft===vt)return;const kt=jt=>{if(Qt(this,_e,jt),!jt){this.remove();return}Gt(this,et,Br).call(this),this._uiManager.rebuild(this),Gt(this,et,nr).call(this)};this.addCommands({cmd:()=>{kt(vt)},undo:()=>{kt(ft)},mustExec:!1}),Gt(this,et,nr).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(ft){this.enterInEditMode()}keydown(ft){ft.target===this.div&&ft.key==="Enter"&&(this.enterInEditMode(),ft.preventDefault())}editorDivKeydown(ft){ht._keyboardManager.exec(this,ft)}editorDivFocus(ft){this.isEditing=!0}editorDivBlur(ft){this.isEditing=!1}editorDivInput(ft){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let ft,vt;this.width&&(ft=this.x,vt=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",yt(this,rt)),this.enableEditing(),c.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(jt=>{var Ot;return(Ot=this.editorDiv)==null?void 0:Ot.setAttribute("aria-label",jt)}),c.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(jt=>{var Ot;return(Ot=this.editorDiv)==null?void 0:Ot.setAttribute("default-content",jt)}),this.editorDiv.contentEditable=!0;const{style:kt}=this.editorDiv;if(kt.fontSize=`calc(${yt(this,it)}px * var(--scale-factor))`,kt.color=yt(this,j),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,o.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[jt,Ot]=this.parentDimensions;if(this.annotationElementId){const{position:Pt}=yt(this,st);let[Lt,wt]=this.getInitialTranslation();[Lt,wt]=this.pageTranslationToScreen(Lt,wt);const[St,_t]=this.pageDimensions,[xt,pt]=this.pageTranslation;let gt,Et;switch(this.rotation){case 0:gt=ft+(Pt[0]-xt)/St,Et=vt+this.height-(Pt[1]-pt)/_t;break;case 90:gt=ft+(Pt[0]-xt)/St,Et=vt-(Pt[1]-pt)/_t,[Lt,wt]=[wt,-Lt];break;case 180:gt=ft-this.width+(Pt[0]-xt)/St,Et=vt-(Pt[1]-pt)/_t,[Lt,wt]=[-Lt,-wt];break;case 270:gt=ft+(Pt[0]-xt-this.height*_t)/St,Et=vt+(Pt[1]-pt-this.width*St)/_t,[Lt,wt]=[-wt,Lt];break}this.setAt(gt*jt,Et*Ot,Lt,wt)}else this.setAt(ft*jt,vt*Ot,this.width*jt,this.height*Ot);Gt(this,et,Br).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(ft,vt,kt){let jt=null;if(ft instanceof d.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:Pt,fontColor:Lt},rect:wt,rotation:St,id:_t},textContent:xt,textPosition:pt,parent:{page:{pageNumber:gt}}}=ft;if(!xt||xt.length===0)return null;jt=ft={annotationType:a.AnnotationEditorType.FREETEXT,color:Array.from(Lt),fontSize:Pt,value:xt.join(`
`),position:pt,pageIndex:gt-1,rect:wt,rotation:St,id:_t,deleted:!1}}const Ot=super.deserialize(ft,vt,kt);return Qt(Ot,it,ft.fontSize),Qt(Ot,j,a.Util.makeHexColor(...ft.color)),Qt(Ot,_e,ft.value),Ot.annotationElementId=ft.id||null,Qt(Ot,st,jt),Ot}serialize(ft=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const vt=ht._internalPadding*this.parentScale,kt=this.getRect(vt,vt),jt=c.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:yt(this,j)),Ot={annotationType:a.AnnotationEditorType.FREETEXT,color:jt,fontSize:yt(this,it),value:yt(this,_e),pageIndex:this.pageIndex,rect:kt,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return ft?Ot:this.annotationElementId&&!Gt(this,et,gs).call(this,Ot)?null:(Ot.id=this.annotationElementId,Ot)}};h=new WeakMap,b=new WeakMap,_=new WeakMap,$=new WeakMap,j=new WeakMap,_e=new WeakMap,rt=new WeakMap,it=new WeakMap,st=new WeakMap,et=new WeakSet,fs=function(ft){const vt=jt=>{this.editorDiv.style.fontSize=`calc(${jt}px * var(--scale-factor))`,this.translate(0,-(jt-yt(this,it))*this.parentScale),Qt(this,it,jt),Gt(this,et,nr).call(this)},kt=yt(this,it);this.addCommands({cmd:()=>{vt(ft)},undo:()=>{vt(kt)},mustExec:!0,type:a.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},ps=function(ft){const vt=yt(this,j);this.addCommands({cmd:()=>{Qt(this,j,this.editorDiv.style.color=ft)},undo:()=>{Qt(this,j,this.editorDiv.style.color=vt)},mustExec:!0,type:a.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},ms=function(){const ft=this.editorDiv.getElementsByTagName("div");if(ft.length===0)return this.editorDiv.innerText;const vt=[];for(const kt of ft)vt.push(kt.innerText.replace(/\r\n?|\n/,""));return vt.join(`
`)},nr=function(){const[ft,vt]=this.parentDimensions;let kt;if(this.isAttachedToDOM)kt=this.div.getBoundingClientRect();else{const{currentLayer:jt,div:Ot}=this,Pt=Ot.style.display;Ot.style.display="hidden",jt.div.append(this.div),kt=Ot.getBoundingClientRect(),Ot.remove(),Ot.style.display=Pt}this.rotation%180===this.parentRotation%180?(this.width=kt.width/ft,this.height=kt.height/vt):(this.width=kt.height/ft,this.height=kt.width/vt),this.fixAndSetPosition()},Br=function(){if(this.editorDiv.replaceChildren(),!!yt(this,_e))for(const ft of yt(this,_e).split(`
`)){const vt=document.createElement("div");vt.append(ft?document.createTextNode(ft):document.createElement("br")),this.editorDiv.append(vt)}},gs=function(ft){const{value:vt,fontSize:kt,color:jt,rect:Ot,pageIndex:Pt}=yt(this,st);return ft.value!==vt||ft.fontSize!==kt||ft.rect.some((Lt,wt)=>Math.abs(Lt-Ot[wt])>=1)||ft.color.some((Lt,wt)=>Lt!==jt[wt])||ft.pageIndex!==Pt},Ur=function(ft=!1){if(!this.annotationElementId)return;if(Gt(this,et,nr).call(this),!ft&&(this.width===0||this.height===0)){setTimeout(()=>Gt(this,et,Ur).call(this,!0),0);return}const vt=ht._internalPadding*this.parentScale;yt(this,st).rect=this.getRect(vt,vt)},In(ht,"_freeTextDefaultContent",""),In(ht,"_internalPadding",0),In(ht,"_defaultColor",null),In(ht,"_defaultFontSize",10),In(ht,"_type","freetext");let g=ht;i.FreeTextEditor=g},(e,i,s)=>{var Et,At,Wn,vs,Dt,zt,Yt,Xt,Jt,nn,Wt,Ht,Rt,Ct,Ft,Bt,Ut,rn,tn,qt,hn,dn,ys,hr,qr,zr,wn,Pn,Ln,un,Zt,en,vn,Hr,On,$t,on,fn,xs,Wr;Object.defineProperty(i,"__esModule",{value:!0}),i.StampAnnotationElement=i.InkAnnotationElement=i.FreeTextAnnotationElement=i.AnnotationLayer=void 0;var a=s(1),o=s(6),c=s(3),d=s(30),g=s(31),h=s(32);const b=1e3,_=9,$=new WeakSet;function j(gn){return{width:gn[2]-gn[0],height:gn[3]-gn[1]}}class _e{static create(It){switch(It.data.annotationType){case a.AnnotationType.LINK:return new it(It);case a.AnnotationType.TEXT:return new st(It);case a.AnnotationType.WIDGET:switch(It.data.fieldType){case"Tx":return new tt(It);case"Btn":return It.data.radioButton?new at(It):It.data.checkBox?new nt(It):new dt(It);case"Ch":return new ut(It);case"Sig":return new ot(It)}return new et(It);case a.AnnotationType.POPUP:return new ct(It);case a.AnnotationType.FREETEXT:return new mt(It);case a.AnnotationType.LINE:return new lt(It);case a.AnnotationType.SQUARE:return new ft(It);case a.AnnotationType.CIRCLE:return new vt(It);case a.AnnotationType.POLYLINE:return new kt(It);case a.AnnotationType.CARET:return new Ot(It);case a.AnnotationType.INK:return new Pt(It);case a.AnnotationType.POLYGON:return new jt(It);case a.AnnotationType.HIGHLIGHT:return new Lt(It);case a.AnnotationType.UNDERLINE:return new wt(It);case a.AnnotationType.SQUIGGLY:return new St(It);case a.AnnotationType.STRIKEOUT:return new _t(It);case a.AnnotationType.STAMP:return new xt(It);case a.AnnotationType.FILEATTACHMENT:return new pt(It);default:return new rt(It)}}}const bt=class bt{constructor(It,{isRenderable:Mt=!1,ignoreBorder:Vt=!1,createQuadrilaterals:sn=!1}={}){Kt(this,Et,!1);this.isRenderable=Mt,this.data=It.data,this.layer=It.layer,this.linkService=It.linkService,this.downloadManager=It.downloadManager,this.imageResourcesPath=It.imageResourcesPath,this.renderForms=It.renderForms,this.svgFactory=It.svgFactory,this.annotationStorage=It.annotationStorage,this.enableScripting=It.enableScripting,this.hasJSActions=It.hasJSActions,this._fieldObjects=It.fieldObjects,this.parent=It.parent,Mt&&(this.container=this._createContainer(Vt)),sn&&this._createQuadrilaterals()}static _hasPopupData({titleObj:It,contentsObj:Mt,richText:Vt}){return!!(It!=null&&It.str||Mt!=null&&Mt.str||Vt!=null&&Vt.str)}get hasPopupData(){return bt._hasPopupData(this.data)}_createContainer(It){const{data:Mt,parent:{page:Vt,viewport:sn}}=this,an=document.createElement("section");an.setAttribute("data-annotation-id",Mt.id),this instanceof et||(an.tabIndex=b),an.style.zIndex=this.parent.zIndex++,this.data.popupRef&&an.setAttribute("aria-haspopup","dialog"),Mt.noRotate&&an.classList.add("norotate");const{pageWidth:ln,pageHeight:cn,pageX:En,pageY:xn}=sn.rawDims;if(!Mt.rect||this instanceof ct){const{rotation:Rn}=Mt;return!Mt.hasOwnCanvas&&Rn!==0&&this.setRotation(Rn,an),an}const{width:pn,height:Tn}=j(Mt.rect),bn=a.Util.normalizeRect([Mt.rect[0],Vt.view[3]-Mt.rect[1]+Vt.view[1],Mt.rect[2],Vt.view[3]-Mt.rect[3]+Vt.view[1]]);if(!It&&Mt.borderStyle.width>0){an.style.borderWidth=`${Mt.borderStyle.width}px`;const Rn=Mt.borderStyle.horizontalCornerRadius,Cn=Mt.borderStyle.verticalCornerRadius;if(Rn>0||Cn>0){const Dn=`calc(${Rn}px * var(--scale-factor)) / calc(${Cn}px * var(--scale-factor))`;an.style.borderRadius=Dn}else if(this instanceof at){const Dn=`calc(${pn}px * var(--scale-factor)) / calc(${Tn}px * var(--scale-factor))`;an.style.borderRadius=Dn}switch(Mt.borderStyle.style){case a.AnnotationBorderStyleType.SOLID:an.style.borderStyle="solid";break;case a.AnnotationBorderStyleType.DASHED:an.style.borderStyle="dashed";break;case a.AnnotationBorderStyleType.BEVELED:(0,a.warn)("Unimplemented border style: beveled");break;case a.AnnotationBorderStyleType.INSET:(0,a.warn)("Unimplemented border style: inset");break;case a.AnnotationBorderStyleType.UNDERLINE:an.style.borderBottomStyle="solid";break}const Mn=Mt.borderColor||null;Mn?(Qt(this,Et,!0),an.style.borderColor=a.Util.makeHexColor(Mn[0]|0,Mn[1]|0,Mn[2]|0)):an.style.borderWidth=0}an.style.left=`${100*(bn[0]-En)/ln}%`,an.style.top=`${100*(bn[1]-xn)/cn}%`;const{rotation:Sn}=Mt;return Mt.hasOwnCanvas||Sn===0?(an.style.width=`${100*pn/ln}%`,an.style.height=`${100*Tn/cn}%`):this.setRotation(Sn,an),an}setRotation(It,Mt=this.container){if(!this.data.rect)return;const{pageWidth:Vt,pageHeight:sn}=this.parent.viewport.rawDims,{width:an,height:ln}=j(this.data.rect);let cn,En;It%180===0?(cn=100*an/Vt,En=100*ln/sn):(cn=100*ln/Vt,En=100*an/sn),Mt.style.width=`${cn}%`,Mt.style.height=`${En}%`,Mt.setAttribute("data-main-rotation",(360-It)%360)}get _commonActions(){const It=(Mt,Vt,sn)=>{const an=sn.detail[Mt],ln=an[0],cn=an.slice(1);sn.target.style[Vt]=d.ColorConverters[`${ln}_HTML`](cn),this.annotationStorage.setValue(this.data.id,{[Vt]:d.ColorConverters[`${ln}_rgb`](cn)})};return(0,a.shadow)(this,"_commonActions",{display:Mt=>{const{display:Vt}=Mt.detail,sn=Vt%2===1;this.container.style.visibility=sn?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:sn,noPrint:Vt===1||Vt===2})},print:Mt=>{this.annotationStorage.setValue(this.data.id,{noPrint:!Mt.detail.print})},hidden:Mt=>{const{hidden:Vt}=Mt.detail;this.container.style.visibility=Vt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:Vt,noView:Vt})},focus:Mt=>{setTimeout(()=>Mt.target.focus({preventScroll:!1}),0)},userName:Mt=>{Mt.target.title=Mt.detail.userName},readonly:Mt=>{Mt.target.disabled=Mt.detail.readonly},required:Mt=>{this._setRequired(Mt.target,Mt.detail.required)},bgColor:Mt=>{It("bgColor","backgroundColor",Mt)},fillColor:Mt=>{It("fillColor","backgroundColor",Mt)},fgColor:Mt=>{It("fgColor","color",Mt)},textColor:Mt=>{It("textColor","color",Mt)},borderColor:Mt=>{It("borderColor","borderColor",Mt)},strokeColor:Mt=>{It("strokeColor","borderColor",Mt)},rotation:Mt=>{const Vt=Mt.detail.rotation;this.setRotation(Vt),this.annotationStorage.setValue(this.data.id,{rotation:Vt})}})}_dispatchEventFromSandbox(It,Mt){const Vt=this._commonActions;for(const sn of Object.keys(Mt.detail)){const an=It[sn]||Vt[sn];an==null||an(Mt)}}_setDefaultPropertiesFromJS(It){if(!this.enableScripting)return;const Mt=this.annotationStorage.getRawValue(this.data.id);if(!Mt)return;const Vt=this._commonActions;for(const[sn,an]of Object.entries(Mt)){const ln=Vt[sn];if(ln){const cn={detail:{[sn]:an},target:It};ln(cn),delete Mt[sn]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:It}=this.data;if(!It)return;const[Mt,Vt,sn,an]=this.data.rect;if(It.length===1){const[,{x:Cn,y:Mn},{x:Dn,y:$n}]=It[0];if(sn===Cn&&an===Mn&&Mt===Dn&&Vt===$n)return}const{style:ln}=this.container;let cn;if(yt(this,Et)){const{borderColor:Cn,borderWidth:Mn}=ln;ln.borderWidth=0,cn=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Cn}" stroke-width="${Mn}">`],this.container.classList.add("hasBorder")}const En=sn-Mt,xn=an-Vt,{svgFactory:pn}=this,Tn=pn.createElement("svg");Tn.classList.add("quadrilateralsContainer"),Tn.setAttribute("width",0),Tn.setAttribute("height",0);const bn=pn.createElement("defs");Tn.append(bn);const Sn=pn.createElement("clipPath"),Rn=`clippath_${this.data.id}`;Sn.setAttribute("id",Rn),Sn.setAttribute("clipPathUnits","objectBoundingBox"),bn.append(Sn);for(const[,{x:Cn,y:Mn},{x:Dn,y:$n}]of It){const Fn=pn.createElement("rect"),Un=(Dn-Mt)/En,zn=(an-Mn)/xn,Hn=(Cn-Dn)/En,_i=(Mn-$n)/xn;Fn.setAttribute("x",Un),Fn.setAttribute("y",zn),Fn.setAttribute("width",Hn),Fn.setAttribute("height",_i),Sn.append(Fn),cn==null||cn.push(`<rect vector-effect="non-scaling-stroke" x="${Un}" y="${zn}" width="${Hn}" height="${_i}"/>`)}yt(this,Et)&&(cn.push("</g></svg>')"),ln.backgroundImage=cn.join("")),this.container.append(Tn),this.container.style.clipPath=`url(#${Rn})`}_createPopup(){const{container:It,data:Mt}=this;It.setAttribute("aria-haspopup","dialog");const Vt=new ct({data:{color:Mt.color,titleObj:Mt.titleObj,modificationDate:Mt.modificationDate,contentsObj:Mt.contentsObj,richText:Mt.richText,parentRect:Mt.rect,borderStyle:0,id:`popup_${Mt.id}`,rotation:Mt.rotation},parent:this.parent,elements:[this]});this.parent.div.append(Vt.render())}render(){(0,a.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(It,Mt=null){const Vt=[];if(this._fieldObjects){const sn=this._fieldObjects[It];if(sn)for(const{page:an,id:ln,exportValues:cn}of sn){if(an===-1||ln===Mt)continue;const En=typeof cn=="string"?cn:null,xn=document.querySelector(`[data-element-id="${ln}"]`);if(xn&&!$.has(xn)){(0,a.warn)(`_getElementsByName - element not allowed: ${ln}`);continue}Vt.push({id:ln,exportValue:En,domElement:xn})}return Vt}for(const sn of document.getElementsByName(It)){const{exportValue:an}=sn,ln=sn.getAttribute("data-element-id");ln!==Mt&&$.has(sn)&&Vt.push({id:ln,exportValue:an,domElement:sn})}return Vt}show(){var It;this.container&&(this.container.hidden=!1),(It=this.popup)==null||It.maybeShow()}hide(){var It;this.container&&(this.container.hidden=!0),(It=this.popup)==null||It.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const It=this.getElementsToTriggerPopup();if(Array.isArray(It))for(const Mt of It)Mt.classList.add("highlightArea");else It.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:It,data:{id:Mt}}=this;this.container.addEventListener("dblclick",()=>{var Vt;(Vt=this.linkService.eventBus)==null||Vt.dispatch("switchannotationeditormode",{source:this,mode:It,editId:Mt})})}};Et=new WeakMap;let rt=bt;class it extends rt{constructor(Mt,Vt=null){super(Mt,{isRenderable:!0,ignoreBorder:!!(Vt!=null&&Vt.ignoreBorder),createQuadrilaterals:!0});Kt(this,At);this.isTooltipOnly=Mt.data.isTooltipOnly}render(){const{data:Mt,linkService:Vt}=this,sn=document.createElement("a");sn.setAttribute("data-element-id",Mt.id);let an=!1;return Mt.url?(Vt.addLinkAttributes(sn,Mt.url,Mt.newWindow),an=!0):Mt.action?(this._bindNamedAction(sn,Mt.action),an=!0):Mt.attachment?(this._bindAttachment(sn,Mt.attachment),an=!0):Mt.setOCGState?(Gt(this,At,vs).call(this,sn,Mt.setOCGState),an=!0):Mt.dest?(this._bindLink(sn,Mt.dest),an=!0):(Mt.actions&&(Mt.actions.Action||Mt.actions["Mouse Up"]||Mt.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(sn,Mt),an=!0),Mt.resetForm?(this._bindResetFormAction(sn,Mt.resetForm),an=!0):this.isTooltipOnly&&!an&&(this._bindLink(sn,""),an=!0)),this.container.classList.add("linkAnnotation"),an&&this.container.append(sn),this.container}_bindLink(Mt,Vt){Mt.href=this.linkService.getDestinationHash(Vt),Mt.onclick=()=>(Vt&&this.linkService.goToDestination(Vt),!1),(Vt||Vt==="")&&Gt(this,At,Wn).call(this)}_bindNamedAction(Mt,Vt){Mt.href=this.linkService.getAnchorUrl(""),Mt.onclick=()=>(this.linkService.executeNamedAction(Vt),!1),Gt(this,At,Wn).call(this)}_bindAttachment(Mt,Vt){Mt.href=this.linkService.getAnchorUrl(""),Mt.onclick=()=>{var sn;return(sn=this.downloadManager)==null||sn.openOrDownloadData(this.container,Vt.content,Vt.filename),!1},Gt(this,At,Wn).call(this)}_bindJSAction(Mt,Vt){Mt.href=this.linkService.getAnchorUrl("");const sn=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const an of Object.keys(Vt.actions)){const ln=sn.get(an);ln&&(Mt[ln]=()=>{var cn;return(cn=this.linkService.eventBus)==null||cn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Vt.id,name:an}}),!1})}Mt.onclick||(Mt.onclick=()=>!1),Gt(this,At,Wn).call(this)}_bindResetFormAction(Mt,Vt){const sn=Mt.onclick;if(sn||(Mt.href=this.linkService.getAnchorUrl("")),Gt(this,At,Wn).call(this),!this._fieldObjects){(0,a.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),sn||(Mt.onclick=()=>!1);return}Mt.onclick=()=>{var Tn;sn==null||sn();const{fields:an,refs:ln,include:cn}=Vt,En=[];if(an.length!==0||ln.length!==0){const bn=new Set(ln);for(const Sn of an){const Rn=this._fieldObjects[Sn]||[];for(const{id:Cn}of Rn)bn.add(Cn)}for(const Sn of Object.values(this._fieldObjects))for(const Rn of Sn)bn.has(Rn.id)===cn&&En.push(Rn)}else for(const bn of Object.values(this._fieldObjects))En.push(...bn);const xn=this.annotationStorage,pn=[];for(const bn of En){const{id:Sn}=bn;switch(pn.push(Sn),bn.type){case"text":{const Cn=bn.defaultValue||"";xn.setValue(Sn,{value:Cn});break}case"checkbox":case"radiobutton":{const Cn=bn.defaultValue===bn.exportValues;xn.setValue(Sn,{value:Cn});break}case"combobox":case"listbox":{const Cn=bn.defaultValue||"";xn.setValue(Sn,{value:Cn});break}default:continue}const Rn=document.querySelector(`[data-element-id="${Sn}"]`);if(Rn){if(!$.has(Rn)){(0,a.warn)(`_bindResetFormAction - element not allowed: ${Sn}`);continue}}else continue;Rn.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Tn=this.linkService.eventBus)==null||Tn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:pn,name:"ResetForm"}})),!1}}}At=new WeakSet,Wn=function(){this.container.setAttribute("data-internal-link","")},vs=function(Mt,Vt){Mt.href=this.linkService.getAnchorUrl(""),Mt.onclick=()=>(this.linkService.executeSetOCGState(Vt),!1),Gt(this,At,Wn).call(this)};class st extends rt{constructor(It){super(It,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const It=document.createElement("img");return It.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",It.alt="[{{type}} Annotation]",It.dataset.l10nId="text_annotation_type",It.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(It),this.container}}class et extends rt{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(It){var Mt;this.data.hasOwnCanvas&&(((Mt=It.previousSibling)==null?void 0:Mt.nodeName)==="CANVAS"&&(It.previousSibling.hidden=!0),It.hidden=!1)}_getKeyModifier(It){const{isWin:Mt,isMac:Vt}=a.FeatureTest.platform;return Mt&&It.ctrlKey||Vt&&It.metaKey}_setEventListener(It,Mt,Vt,sn,an){Vt.includes("mouse")?It.addEventListener(Vt,ln=>{var cn;(cn=this.linkService.eventBus)==null||cn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:sn,value:an(ln),shift:ln.shiftKey,modifier:this._getKeyModifier(ln)}})}):It.addEventListener(Vt,ln=>{var cn;if(Vt==="blur"){if(!Mt.focused||!ln.relatedTarget)return;Mt.focused=!1}else if(Vt==="focus"){if(Mt.focused)return;Mt.focused=!0}an&&((cn=this.linkService.eventBus)==null||cn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:sn,value:an(ln)}}))})}_setEventListeners(It,Mt,Vt,sn){var an,ln,cn;for(const[En,xn]of Vt)(xn==="Action"||(an=this.data.actions)!=null&&an[xn])&&((xn==="Focus"||xn==="Blur")&&(Mt||(Mt={focused:!1})),this._setEventListener(It,Mt,En,xn,sn),xn==="Focus"&&!((ln=this.data.actions)!=null&&ln.Blur)?this._setEventListener(It,Mt,"blur","Blur",null):xn==="Blur"&&!((cn=this.data.actions)!=null&&cn.Focus)&&this._setEventListener(It,Mt,"focus","Focus",null))}_setBackgroundColor(It){const Mt=this.data.backgroundColor||null;It.style.backgroundColor=Mt===null?"transparent":a.Util.makeHexColor(Mt[0],Mt[1],Mt[2])}_setTextStyle(It){const Mt=["left","center","right"],{fontColor:Vt}=this.data.defaultAppearanceData,sn=this.data.defaultAppearanceData.fontSize||_,an=It.style;let ln;const cn=2,En=xn=>Math.round(10*xn)/10;if(this.data.multiLine){const xn=Math.abs(this.data.rect[3]-this.data.rect[1]-cn),pn=Math.round(xn/(a.LINE_FACTOR*sn))||1,Tn=xn/pn;ln=Math.min(sn,En(Tn/a.LINE_FACTOR))}else{const xn=Math.abs(this.data.rect[3]-this.data.rect[1]-cn);ln=Math.min(sn,En(xn/a.LINE_FACTOR))}an.fontSize=`calc(${ln}px * var(--scale-factor))`,an.color=a.Util.makeHexColor(Vt[0],Vt[1],Vt[2]),this.data.textAlignment!==null&&(an.textAlign=Mt[this.data.textAlignment])}_setRequired(It,Mt){Mt?It.setAttribute("required",!0):It.removeAttribute("required"),It.setAttribute("aria-required",Mt)}}class tt extends et{constructor(It){const Mt=It.renderForms||!It.data.hasAppearance&&!!It.data.fieldValue;super(It,{isRenderable:Mt})}setPropertyOnSiblings(It,Mt,Vt,sn){const an=this.annotationStorage;for(const ln of this._getElementsByName(It.name,It.id))ln.domElement&&(ln.domElement[Mt]=Vt),an.setValue(ln.id,{[sn]:Vt})}render(){var sn,an;const It=this.annotationStorage,Mt=this.data.id;this.container.classList.add("textWidgetAnnotation");let Vt=null;if(this.renderForms){const ln=It.getValue(Mt,{value:this.data.fieldValue});let cn=ln.value||"";const En=It.getValue(Mt,{charLimit:this.data.maxLen}).charLimit;En&&cn.length>En&&(cn=cn.slice(0,En));let xn=ln.formattedValue||((sn=this.data.textContent)==null?void 0:sn.join(`
`))||null;xn&&this.data.comb&&(xn=xn.replaceAll(/\s+/g,""));const pn={userValue:cn,formattedValue:xn,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(Vt=document.createElement("textarea"),Vt.textContent=xn??cn,this.data.doNotScroll&&(Vt.style.overflowY="hidden")):(Vt=document.createElement("input"),Vt.type="text",Vt.setAttribute("value",xn??cn),this.data.doNotScroll&&(Vt.style.overflowX="hidden")),this.data.hasOwnCanvas&&(Vt.hidden=!0),$.add(Vt),Vt.setAttribute("data-element-id",Mt),Vt.disabled=this.data.readOnly,Vt.name=this.data.fieldName,Vt.tabIndex=b,this._setRequired(Vt,this.data.required),En&&(Vt.maxLength=En),Vt.addEventListener("input",bn=>{It.setValue(Mt,{value:bn.target.value}),this.setPropertyOnSiblings(Vt,"value",bn.target.value,"value"),pn.formattedValue=null}),Vt.addEventListener("resetform",bn=>{const Sn=this.data.defaultFieldValue??"";Vt.value=pn.userValue=Sn,pn.formattedValue=null});let Tn=bn=>{const{formattedValue:Sn}=pn;Sn!=null&&(bn.target.value=Sn),bn.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){Vt.addEventListener("focus",Sn=>{if(pn.focused)return;const{target:Rn}=Sn;pn.userValue&&(Rn.value=pn.userValue),pn.lastCommittedValue=Rn.value,pn.commitKey=1,pn.focused=!0}),Vt.addEventListener("updatefromsandbox",Sn=>{this.showElementAndHideCanvas(Sn.target);const Rn={value(Cn){pn.userValue=Cn.detail.value??"",It.setValue(Mt,{value:pn.userValue.toString()}),Cn.target.value=pn.userValue},formattedValue(Cn){const{formattedValue:Mn}=Cn.detail;pn.formattedValue=Mn,Mn!=null&&Cn.target!==document.activeElement&&(Cn.target.value=Mn),It.setValue(Mt,{formattedValue:Mn})},selRange(Cn){Cn.target.setSelectionRange(...Cn.detail.selRange)},charLimit:Cn=>{var Fn;const{charLimit:Mn}=Cn.detail,{target:Dn}=Cn;if(Mn===0){Dn.removeAttribute("maxLength");return}Dn.setAttribute("maxLength",Mn);let $n=pn.userValue;!$n||$n.length<=Mn||($n=$n.slice(0,Mn),Dn.value=pn.userValue=$n,It.setValue(Mt,{value:$n}),(Fn=this.linkService.eventBus)==null||Fn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Mt,name:"Keystroke",value:$n,willCommit:!0,commitKey:1,selStart:Dn.selectionStart,selEnd:Dn.selectionEnd}}))}};this._dispatchEventFromSandbox(Rn,Sn)}),Vt.addEventListener("keydown",Sn=>{var Mn;pn.commitKey=1;let Rn=-1;if(Sn.key==="Escape"?Rn=0:Sn.key==="Enter"&&!this.data.multiLine?Rn=2:Sn.key==="Tab"&&(pn.commitKey=3),Rn===-1)return;const{value:Cn}=Sn.target;pn.lastCommittedValue!==Cn&&(pn.lastCommittedValue=Cn,pn.userValue=Cn,(Mn=this.linkService.eventBus)==null||Mn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Mt,name:"Keystroke",value:Cn,willCommit:!0,commitKey:Rn,selStart:Sn.target.selectionStart,selEnd:Sn.target.selectionEnd}}))});const bn=Tn;Tn=null,Vt.addEventListener("blur",Sn=>{var Cn;if(!pn.focused||!Sn.relatedTarget)return;pn.focused=!1;const{value:Rn}=Sn.target;pn.userValue=Rn,pn.lastCommittedValue!==Rn&&((Cn=this.linkService.eventBus)==null||Cn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Mt,name:"Keystroke",value:Rn,willCommit:!0,commitKey:pn.commitKey,selStart:Sn.target.selectionStart,selEnd:Sn.target.selectionEnd}})),bn(Sn)}),(an=this.data.actions)!=null&&an.Keystroke&&Vt.addEventListener("beforeinput",Sn=>{var zn;pn.lastCommittedValue=null;const{data:Rn,target:Cn}=Sn,{value:Mn,selectionStart:Dn,selectionEnd:$n}=Cn;let Fn=Dn,Un=$n;switch(Sn.inputType){case"deleteWordBackward":{const Hn=Mn.substring(0,Dn).match(/\w*[^\w]*$/);Hn&&(Fn-=Hn[0].length);break}case"deleteWordForward":{const Hn=Mn.substring(Dn).match(/^[^\w]*\w*/);Hn&&(Un+=Hn[0].length);break}case"deleteContentBackward":Dn===$n&&(Fn-=1);break;case"deleteContentForward":Dn===$n&&(Un+=1);break}Sn.preventDefault(),(zn=this.linkService.eventBus)==null||zn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Mt,name:"Keystroke",value:Mn,change:Rn||"",willCommit:!1,selStart:Fn,selEnd:Un}})}),this._setEventListeners(Vt,pn,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Sn=>Sn.target.value)}if(Tn&&Vt.addEventListener("blur",Tn),this.data.comb){const Sn=(this.data.rect[2]-this.data.rect[0])/En;Vt.classList.add("comb"),Vt.style.letterSpacing=`calc(${Sn}px * var(--scale-factor) - 1ch)`}}else Vt=document.createElement("div"),Vt.textContent=this.data.fieldValue,Vt.style.verticalAlign="middle",Vt.style.display="table-cell";return this._setTextStyle(Vt),this._setBackgroundColor(Vt),this._setDefaultPropertiesFromJS(Vt),this.container.append(Vt),this.container}}class ot extends et{constructor(It){super(It,{isRenderable:!!It.data.hasOwnCanvas})}}class nt extends et{constructor(It){super(It,{isRenderable:It.renderForms})}render(){const It=this.annotationStorage,Mt=this.data,Vt=Mt.id;let sn=It.getValue(Vt,{value:Mt.exportValue===Mt.fieldValue}).value;typeof sn=="string"&&(sn=sn!=="Off",It.setValue(Vt,{value:sn})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const an=document.createElement("input");return $.add(an),an.setAttribute("data-element-id",Vt),an.disabled=Mt.readOnly,this._setRequired(an,this.data.required),an.type="checkbox",an.name=Mt.fieldName,sn&&an.setAttribute("checked",!0),an.setAttribute("exportValue",Mt.exportValue),an.tabIndex=b,an.addEventListener("change",ln=>{const{name:cn,checked:En}=ln.target;for(const xn of this._getElementsByName(cn,Vt)){const pn=En&&xn.exportValue===Mt.exportValue;xn.domElement&&(xn.domElement.checked=pn),It.setValue(xn.id,{value:pn})}It.setValue(Vt,{value:En})}),an.addEventListener("resetform",ln=>{const cn=Mt.defaultFieldValue||"Off";ln.target.checked=cn===Mt.exportValue}),this.enableScripting&&this.hasJSActions&&(an.addEventListener("updatefromsandbox",ln=>{const cn={value(En){En.target.checked=En.detail.value!=="Off",It.setValue(Vt,{value:En.target.checked})}};this._dispatchEventFromSandbox(cn,ln)}),this._setEventListeners(an,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ln=>ln.target.checked)),this._setBackgroundColor(an),this._setDefaultPropertiesFromJS(an),this.container.append(an),this.container}}class at extends et{constructor(It){super(It,{isRenderable:It.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const It=this.annotationStorage,Mt=this.data,Vt=Mt.id;let sn=It.getValue(Vt,{value:Mt.fieldValue===Mt.buttonValue}).value;typeof sn=="string"&&(sn=sn!==Mt.buttonValue,It.setValue(Vt,{value:sn}));const an=document.createElement("input");if($.add(an),an.setAttribute("data-element-id",Vt),an.disabled=Mt.readOnly,this._setRequired(an,this.data.required),an.type="radio",an.name=Mt.fieldName,sn&&an.setAttribute("checked",!0),an.tabIndex=b,an.addEventListener("change",ln=>{const{name:cn,checked:En}=ln.target;for(const xn of this._getElementsByName(cn,Vt))It.setValue(xn.id,{value:!1});It.setValue(Vt,{value:En})}),an.addEventListener("resetform",ln=>{const cn=Mt.defaultFieldValue;ln.target.checked=cn!=null&&cn===Mt.buttonValue}),this.enableScripting&&this.hasJSActions){const ln=Mt.buttonValue;an.addEventListener("updatefromsandbox",cn=>{const En={value:xn=>{const pn=ln===xn.detail.value;for(const Tn of this._getElementsByName(xn.target.name)){const bn=pn&&Tn.id===Vt;Tn.domElement&&(Tn.domElement.checked=bn),It.setValue(Tn.id,{value:bn})}}};this._dispatchEventFromSandbox(En,cn)}),this._setEventListeners(an,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],cn=>cn.target.checked)}return this._setBackgroundColor(an),this._setDefaultPropertiesFromJS(an),this.container.append(an),this.container}}class dt extends it{constructor(It){super(It,{ignoreBorder:It.data.hasAppearance})}render(){const It=super.render();It.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(It.title=this.data.alternativeText);const Mt=It.lastChild;return this.enableScripting&&this.hasJSActions&&Mt&&(this._setDefaultPropertiesFromJS(Mt),Mt.addEventListener("updatefromsandbox",Vt=>{this._dispatchEventFromSandbox({},Vt)})),It}}class ut extends et{constructor(It){super(It,{isRenderable:It.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const It=this.annotationStorage,Mt=this.data.id,Vt=It.getValue(Mt,{value:this.data.fieldValue}),sn=document.createElement("select");$.add(sn),sn.setAttribute("data-element-id",Mt),sn.disabled=this.data.readOnly,this._setRequired(sn,this.data.required),sn.name=this.data.fieldName,sn.tabIndex=b;let an=this.data.combo&&this.data.options.length>0;this.data.combo||(sn.size=this.data.options.length,this.data.multiSelect&&(sn.multiple=!0)),sn.addEventListener("resetform",pn=>{const Tn=this.data.defaultFieldValue;for(const bn of sn.options)bn.selected=bn.value===Tn});for(const pn of this.data.options){const Tn=document.createElement("option");Tn.textContent=pn.displayValue,Tn.value=pn.exportValue,Vt.value.includes(pn.exportValue)&&(Tn.setAttribute("selected",!0),an=!1),sn.append(Tn)}let ln=null;if(an){const pn=document.createElement("option");pn.value=" ",pn.setAttribute("hidden",!0),pn.setAttribute("selected",!0),sn.prepend(pn),ln=()=>{pn.remove(),sn.removeEventListener("input",ln),ln=null},sn.addEventListener("input",ln)}const cn=pn=>{const Tn=pn?"value":"textContent",{options:bn,multiple:Sn}=sn;return Sn?Array.prototype.filter.call(bn,Rn=>Rn.selected).map(Rn=>Rn[Tn]):bn.selectedIndex===-1?null:bn[bn.selectedIndex][Tn]};let En=cn(!1);const xn=pn=>{const Tn=pn.target.options;return Array.prototype.map.call(Tn,bn=>({displayValue:bn.textContent,exportValue:bn.value}))};return this.enableScripting&&this.hasJSActions?(sn.addEventListener("updatefromsandbox",pn=>{const Tn={value(bn){ln==null||ln();const Sn=bn.detail.value,Rn=new Set(Array.isArray(Sn)?Sn:[Sn]);for(const Cn of sn.options)Cn.selected=Rn.has(Cn.value);It.setValue(Mt,{value:cn(!0)}),En=cn(!1)},multipleSelection(bn){sn.multiple=!0},remove(bn){const Sn=sn.options,Rn=bn.detail.remove;Sn[Rn].selected=!1,sn.remove(Rn),Sn.length>0&&Array.prototype.findIndex.call(Sn,Mn=>Mn.selected)===-1&&(Sn[0].selected=!0),It.setValue(Mt,{value:cn(!0),items:xn(bn)}),En=cn(!1)},clear(bn){for(;sn.length!==0;)sn.remove(0);It.setValue(Mt,{value:null,items:[]}),En=cn(!1)},insert(bn){const{index:Sn,displayValue:Rn,exportValue:Cn}=bn.detail.insert,Mn=sn.children[Sn],Dn=document.createElement("option");Dn.textContent=Rn,Dn.value=Cn,Mn?Mn.before(Dn):sn.append(Dn),It.setValue(Mt,{value:cn(!0),items:xn(bn)}),En=cn(!1)},items(bn){const{items:Sn}=bn.detail;for(;sn.length!==0;)sn.remove(0);for(const Rn of Sn){const{displayValue:Cn,exportValue:Mn}=Rn,Dn=document.createElement("option");Dn.textContent=Cn,Dn.value=Mn,sn.append(Dn)}sn.options.length>0&&(sn.options[0].selected=!0),It.setValue(Mt,{value:cn(!0),items:xn(bn)}),En=cn(!1)},indices(bn){const Sn=new Set(bn.detail.indices);for(const Rn of bn.target.options)Rn.selected=Sn.has(Rn.index);It.setValue(Mt,{value:cn(!0)}),En=cn(!1)},editable(bn){bn.target.disabled=!bn.detail.editable}};this._dispatchEventFromSandbox(Tn,pn)}),sn.addEventListener("input",pn=>{var bn;const Tn=cn(!0);It.setValue(Mt,{value:Tn}),pn.preventDefault(),(bn=this.linkService.eventBus)==null||bn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Mt,name:"Keystroke",value:En,changeEx:Tn,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(sn,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],pn=>pn.target.value)):sn.addEventListener("input",function(pn){It.setValue(Mt,{value:cn(!0)})}),this.data.combo&&this._setTextStyle(sn),this._setBackgroundColor(sn),this._setDefaultPropertiesFromJS(sn),this.container.append(sn),this.container}}class ct extends rt{constructor(It){const{data:Mt,elements:Vt}=It;super(It,{isRenderable:rt._hasPopupData(Mt)}),this.elements=Vt}render(){this.container.classList.add("popupAnnotation");const It=new ht({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),Mt=[];for(const Vt of this.elements)Vt.popup=It,Mt.push(Vt.data.id),Vt.addHighlightArea();return this.container.setAttribute("aria-controls",Mt.map(Vt=>`${a.AnnotationPrefix}${Vt}`).join(",")),this.container}}class ht{constructor({container:It,color:Mt,elements:Vt,titleObj:sn,modificationDate:an,contentsObj:ln,richText:cn,parent:En,rect:xn,parentRect:pn,open:Tn}){Kt(this,dn);Kt(this,Dt,null);Kt(this,zt,Gt(this,dn,ys).bind(this));Kt(this,Yt,Gt(this,dn,zr).bind(this));Kt(this,Xt,Gt(this,dn,qr).bind(this));Kt(this,Jt,Gt(this,dn,hr).bind(this));Kt(this,nn,null);Kt(this,Wt,null);Kt(this,Ht,null);Kt(this,Rt,null);Kt(this,Ct,null);Kt(this,Ft,null);Kt(this,Bt,!1);Kt(this,Ut,null);Kt(this,rn,null);Kt(this,tn,null);Kt(this,qt,null);Kt(this,hn,!1);var Sn;Qt(this,Wt,It),Qt(this,qt,sn),Qt(this,Ht,ln),Qt(this,tn,cn),Qt(this,Ct,En),Qt(this,nn,Mt),Qt(this,rn,xn),Qt(this,Ft,pn),Qt(this,Rt,Vt);const bn=o.PDFDateString.toDateObject(an);bn&&Qt(this,Dt,En.l10n.get("annotation_date_string",{date:bn.toLocaleDateString(),time:bn.toLocaleTimeString()})),this.trigger=Vt.flatMap(Rn=>Rn.getElementsToTriggerPopup());for(const Rn of this.trigger)Rn.addEventListener("click",yt(this,Jt)),Rn.addEventListener("mouseenter",yt(this,Xt)),Rn.addEventListener("mouseleave",yt(this,Yt)),Rn.classList.add("popupTriggerArea");for(const Rn of Vt)(Sn=Rn.container)==null||Sn.addEventListener("keydown",yt(this,zt));yt(this,Wt).hidden=!0,Tn&&Gt(this,dn,hr).call(this)}render(){if(yt(this,Ut))return;const{page:{view:It},viewport:{rawDims:{pageWidth:Mt,pageHeight:Vt,pageX:sn,pageY:an}}}=yt(this,Ct),ln=Qt(this,Ut,document.createElement("div"));if(ln.className="popup",yt(this,nn)){const Fn=ln.style.outlineColor=a.Util.makeHexColor(...yt(this,nn));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?ln.style.backgroundColor=`color-mix(in srgb, ${Fn} 30%, white)`:ln.style.backgroundColor=a.Util.makeHexColor(...yt(this,nn).map(zn=>Math.floor(.7*(255-zn)+zn)))}const cn=document.createElement("span");cn.className="header";const En=document.createElement("h1");if(cn.append(En),{dir:En.dir,str:En.textContent}=yt(this,qt),ln.append(cn),yt(this,Dt)){const Fn=document.createElement("span");Fn.classList.add("popupDate"),yt(this,Dt).then(Un=>{Fn.textContent=Un}),cn.append(Fn)}const xn=yt(this,Ht),pn=yt(this,tn);if(pn!=null&&pn.str&&(!(xn!=null&&xn.str)||xn.str===pn.str))h.XfaLayer.render({xfaHtml:pn.html,intent:"richText",div:ln}),ln.lastChild.classList.add("richText","popupContent");else{const Fn=this._formatContents(xn);ln.append(Fn)}let Tn=!!yt(this,Ft),bn=Tn?yt(this,Ft):yt(this,rn);for(const Fn of yt(this,Rt))if(!bn||a.Util.intersect(Fn.data.rect,bn)!==null){bn=Fn.data.rect,Tn=!0;break}const Sn=a.Util.normalizeRect([bn[0],It[3]-bn[1]+It[1],bn[2],It[3]-bn[3]+It[1]]),Cn=Tn?bn[2]-bn[0]+5:0,Mn=Sn[0]+Cn,Dn=Sn[1],{style:$n}=yt(this,Wt);$n.left=`${100*(Mn-sn)/Mt}%`,$n.top=`${100*(Dn-an)/Vt}%`,yt(this,Wt).append(ln)}_formatContents({str:It,dir:Mt}){const Vt=document.createElement("p");Vt.classList.add("popupContent"),Vt.dir=Mt;const sn=It.split(/(?:\r\n?|\n)/);for(let an=0,ln=sn.length;an<ln;++an){const cn=sn[an];Vt.append(document.createTextNode(cn)),an<ln-1&&Vt.append(document.createElement("br"))}return Vt}forceHide(){Qt(this,hn,this.isVisible),yt(this,hn)&&(yt(this,Wt).hidden=!0)}maybeShow(){yt(this,hn)&&(Qt(this,hn,!1),yt(this,Wt).hidden=!1)}get isVisible(){return yt(this,Wt).hidden===!1}}Dt=new WeakMap,zt=new WeakMap,Yt=new WeakMap,Xt=new WeakMap,Jt=new WeakMap,nn=new WeakMap,Wt=new WeakMap,Ht=new WeakMap,Rt=new WeakMap,Ct=new WeakMap,Ft=new WeakMap,Bt=new WeakMap,Ut=new WeakMap,rn=new WeakMap,tn=new WeakMap,qt=new WeakMap,hn=new WeakMap,dn=new WeakSet,ys=function(It){It.altKey||It.shiftKey||It.ctrlKey||It.metaKey||(It.key==="Enter"||It.key==="Escape"&&yt(this,Bt))&&Gt(this,dn,hr).call(this)},hr=function(){Qt(this,Bt,!yt(this,Bt)),yt(this,Bt)?(Gt(this,dn,qr).call(this),yt(this,Wt).addEventListener("click",yt(this,Jt)),yt(this,Wt).addEventListener("keydown",yt(this,zt))):(Gt(this,dn,zr).call(this),yt(this,Wt).removeEventListener("click",yt(this,Jt)),yt(this,Wt).removeEventListener("keydown",yt(this,zt)))},qr=function(){yt(this,Ut)||this.render(),this.isVisible?yt(this,Bt)&&yt(this,Wt).classList.add("focused"):(yt(this,Wt).hidden=!1,yt(this,Wt).style.zIndex=parseInt(yt(this,Wt).style.zIndex)+1e3)},zr=function(){yt(this,Wt).classList.remove("focused"),!(yt(this,Bt)||!this.isVisible)&&(yt(this,Wt).hidden=!0,yt(this,Wt).style.zIndex=parseInt(yt(this,Wt).style.zIndex)-1e3)};class mt extends rt{constructor(It){super(It,{isRenderable:!0,ignoreBorder:!0}),this.textContent=It.data.textContent,this.textPosition=It.data.textPosition,this.annotationEditorType=a.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const It=document.createElement("div");It.classList.add("annotationTextContent"),It.setAttribute("role","comment");for(const Mt of this.textContent){const Vt=document.createElement("span");Vt.textContent=Mt,It.append(Vt)}this.container.append(It)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}i.FreeTextAnnotationElement=mt;class lt extends rt{constructor(Mt){super(Mt,{isRenderable:!0,ignoreBorder:!0});Kt(this,wn,null)}render(){this.container.classList.add("lineAnnotation");const Mt=this.data,{width:Vt,height:sn}=j(Mt.rect),an=this.svgFactory.create(Vt,sn,!0),ln=Qt(this,wn,this.svgFactory.createElement("svg:line"));return ln.setAttribute("x1",Mt.rect[2]-Mt.lineCoordinates[0]),ln.setAttribute("y1",Mt.rect[3]-Mt.lineCoordinates[1]),ln.setAttribute("x2",Mt.rect[2]-Mt.lineCoordinates[2]),ln.setAttribute("y2",Mt.rect[3]-Mt.lineCoordinates[3]),ln.setAttribute("stroke-width",Mt.borderStyle.width||1),ln.setAttribute("stroke","transparent"),ln.setAttribute("fill","transparent"),an.append(ln),this.container.append(an),!Mt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return yt(this,wn)}addHighlightArea(){this.container.classList.add("highlightArea")}}wn=new WeakMap;class ft extends rt{constructor(Mt){super(Mt,{isRenderable:!0,ignoreBorder:!0});Kt(this,Pn,null)}render(){this.container.classList.add("squareAnnotation");const Mt=this.data,{width:Vt,height:sn}=j(Mt.rect),an=this.svgFactory.create(Vt,sn,!0),ln=Mt.borderStyle.width,cn=Qt(this,Pn,this.svgFactory.createElement("svg:rect"));return cn.setAttribute("x",ln/2),cn.setAttribute("y",ln/2),cn.setAttribute("width",Vt-ln),cn.setAttribute("height",sn-ln),cn.setAttribute("stroke-width",ln||1),cn.setAttribute("stroke","transparent"),cn.setAttribute("fill","transparent"),an.append(cn),this.container.append(an),!Mt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return yt(this,Pn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Pn=new WeakMap;class vt extends rt{constructor(Mt){super(Mt,{isRenderable:!0,ignoreBorder:!0});Kt(this,Ln,null)}render(){this.container.classList.add("circleAnnotation");const Mt=this.data,{width:Vt,height:sn}=j(Mt.rect),an=this.svgFactory.create(Vt,sn,!0),ln=Mt.borderStyle.width,cn=Qt(this,Ln,this.svgFactory.createElement("svg:ellipse"));return cn.setAttribute("cx",Vt/2),cn.setAttribute("cy",sn/2),cn.setAttribute("rx",Vt/2-ln/2),cn.setAttribute("ry",sn/2-ln/2),cn.setAttribute("stroke-width",ln||1),cn.setAttribute("stroke","transparent"),cn.setAttribute("fill","transparent"),an.append(cn),this.container.append(an),!Mt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return yt(this,Ln)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ln=new WeakMap;class kt extends rt{constructor(Mt){super(Mt,{isRenderable:!0,ignoreBorder:!0});Kt(this,un,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const Mt=this.data,{width:Vt,height:sn}=j(Mt.rect),an=this.svgFactory.create(Vt,sn,!0);let ln=[];for(const En of Mt.vertices){const xn=En.x-Mt.rect[0],pn=Mt.rect[3]-En.y;ln.push(xn+","+pn)}ln=ln.join(" ");const cn=Qt(this,un,this.svgFactory.createElement(this.svgElementName));return cn.setAttribute("points",ln),cn.setAttribute("stroke-width",Mt.borderStyle.width||1),cn.setAttribute("stroke","transparent"),cn.setAttribute("fill","transparent"),an.append(cn),this.container.append(an),!Mt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return yt(this,un)}addHighlightArea(){this.container.classList.add("highlightArea")}}un=new WeakMap;class jt extends kt{constructor(It){super(It),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Ot extends rt{constructor(It){super(It,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Pt extends rt{constructor(Mt){super(Mt,{isRenderable:!0,ignoreBorder:!0});Kt(this,Zt,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=a.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const Mt=this.data,{width:Vt,height:sn}=j(Mt.rect),an=this.svgFactory.create(Vt,sn,!0);for(const ln of Mt.inkLists){let cn=[];for(const xn of ln){const pn=xn.x-Mt.rect[0],Tn=Mt.rect[3]-xn.y;cn.push(`${pn},${Tn}`)}cn=cn.join(" ");const En=this.svgFactory.createElement(this.svgElementName);yt(this,Zt).push(En),En.setAttribute("points",cn),En.setAttribute("stroke-width",Mt.borderStyle.width||1),En.setAttribute("stroke","transparent"),En.setAttribute("fill","transparent"),!Mt.popupRef&&this.hasPopupData&&this._createPopup(),an.append(En)}return this.container.append(an),this.container}getElementsToTriggerPopup(){return yt(this,Zt)}addHighlightArea(){this.container.classList.add("highlightArea")}}Zt=new WeakMap,i.InkAnnotationElement=Pt;class Lt extends rt{constructor(It){super(It,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class wt extends rt{constructor(It){super(It,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class St extends rt{constructor(It){super(It,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class _t extends rt{constructor(It){super(It,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class xt extends rt{constructor(It){super(It,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}i.StampAnnotationElement=xt;class pt extends rt{constructor(Mt){var an;super(Mt,{isRenderable:!0});Kt(this,vn);Kt(this,en,null);const{filename:Vt,content:sn}=this.data.file;this.filename=(0,o.getFilenameFromUrl)(Vt,!0),this.content=sn,(an=this.linkService.eventBus)==null||an.dispatch("fileattachmentannotation",{source:this,filename:Vt,content:sn})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:Mt,data:Vt}=this;let sn;Vt.hasAppearance||Vt.fillAlpha===0?sn=document.createElement("div"):(sn=document.createElement("img"),sn.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(Vt.name)?"paperclip":"pushpin"}.svg`,Vt.fillAlpha&&Vt.fillAlpha<1&&(sn.style=`filter: opacity(${Math.round(Vt.fillAlpha*100)}%);`)),sn.addEventListener("dblclick",Gt(this,vn,Hr).bind(this)),Qt(this,en,sn);const{isMac:an}=a.FeatureTest.platform;return Mt.addEventListener("keydown",ln=>{ln.key==="Enter"&&(an?ln.metaKey:ln.ctrlKey)&&Gt(this,vn,Hr).call(this)}),!Vt.popupRef&&this.hasPopupData?this._createPopup():sn.classList.add("popupTriggerArea"),Mt.append(sn),Mt}getElementsToTriggerPopup(){return yt(this,en)}addHighlightArea(){this.container.classList.add("highlightArea")}}en=new WeakMap,vn=new WeakSet,Hr=function(){var Mt;(Mt=this.downloadManager)==null||Mt.openOrDownloadData(this.container,this.content,this.filename)};class gt{constructor({div:It,accessibilityManager:Mt,annotationCanvasMap:Vt,l10n:sn,page:an,viewport:ln}){Kt(this,fn);Kt(this,On,null);Kt(this,$t,null);Kt(this,on,new Map);this.div=It,Qt(this,On,Mt),Qt(this,$t,Vt),this.l10n=sn,this.page=an,this.viewport=ln,this.zIndex=0,this.l10n||(this.l10n=g.NullL10n)}async render(It){const{annotations:Mt}=It,Vt=this.div;(0,o.setLayerDimensions)(Vt,this.viewport);const sn=new Map,an={data:null,layer:Vt,linkService:It.linkService,downloadManager:It.downloadManager,imageResourcesPath:It.imageResourcesPath||"",renderForms:It.renderForms!==!1,svgFactory:new o.DOMSVGFactory,annotationStorage:It.annotationStorage||new c.AnnotationStorage,enableScripting:It.enableScripting===!0,hasJSActions:It.hasJSActions,fieldObjects:It.fieldObjects,parent:this,elements:null};for(const ln of Mt){if(ln.noHTML)continue;const cn=ln.annotationType===a.AnnotationType.POPUP;if(cn){const pn=sn.get(ln.id);if(!pn)continue;an.elements=pn}else{const{width:pn,height:Tn}=j(ln.rect);if(pn<=0||Tn<=0)continue}an.data=ln;const En=_e.create(an);if(!En.isRenderable)continue;if(!cn&&ln.popupRef){const pn=sn.get(ln.popupRef);pn?pn.push(En):sn.set(ln.popupRef,[En])}En.annotationEditorType>0&&yt(this,on).set(En.data.id,En);const xn=En.render();ln.hidden&&(xn.style.visibility="hidden"),Gt(this,fn,xs).call(this,xn,ln.id)}Gt(this,fn,Wr).call(this),await this.l10n.translate(Vt)}update({viewport:It}){const Mt=this.div;this.viewport=It,(0,o.setLayerDimensions)(Mt,{rotation:It.rotation}),Gt(this,fn,Wr).call(this),Mt.hidden=!1}getEditableAnnotations(){return Array.from(yt(this,on).values())}getEditableAnnotation(It){return yt(this,on).get(It)}}On=new WeakMap,$t=new WeakMap,on=new WeakMap,fn=new WeakSet,xs=function(It,Mt){var sn;const Vt=It.firstChild||It;Vt.id=`${a.AnnotationPrefix}${Mt}`,this.div.append(It),(sn=yt(this,On))==null||sn.moveElementInDOM(this.div,It,Vt,!1)},Wr=function(){if(!yt(this,$t))return;const It=this.div;for(const[Mt,Vt]of yt(this,$t)){const sn=It.querySelector(`[data-annotation-id="${Mt}"]`);if(!sn)continue;const{firstChild:an}=sn;an?an.nodeName==="CANVAS"?an.replaceWith(Vt):an.before(Vt):sn.append(Vt)}yt(this,$t).clear()},i.AnnotationLayer=gt},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ColorConverters=void 0;function s(c){return Math.floor(Math.max(0,Math.min(1,c))*255).toString(16).padStart(2,"0")}function a(c){return Math.max(0,Math.min(255,255*c))}class o{static CMYK_G([d,g,h,b]){return["G",1-Math.min(1,.3*d+.59*h+.11*g+b)]}static G_CMYK([d]){return["CMYK",0,0,0,1-d]}static G_RGB([d]){return["RGB",d,d,d]}static G_rgb([d]){return d=a(d),[d,d,d]}static G_HTML([d]){const g=s(d);return`#${g}${g}${g}`}static RGB_G([d,g,h]){return["G",.3*d+.59*g+.11*h]}static RGB_rgb(d){return d.map(a)}static RGB_HTML(d){return`#${d.map(s).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([d,g,h,b]){return["RGB",1-Math.min(1,d+b),1-Math.min(1,h+b),1-Math.min(1,g+b)]}static CMYK_rgb([d,g,h,b]){return[a(1-Math.min(1,d+b)),a(1-Math.min(1,h+b)),a(1-Math.min(1,g+b))]}static CMYK_HTML(d){const g=this.CMYK_RGB(d).slice(1);return this.RGB_HTML(g)}static RGB_CMYK([d,g,h]){const b=1-d,_=1-g,$=1-h,j=Math.min(b,_,$);return["CMYK",b,_,$,j]}}i.ColorConverters=o},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.NullL10n=void 0,i.getL10nFallback=a;const s={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}}  {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};s.print_progress_percent="{{progress}}%";function a(d,g){switch(d){case"find_match_count":d=`find_match_count[${g.total===1?"one":"other"}]`;break;case"find_match_count_limit":d=`find_match_count_limit[${g.limit===1?"one":"other"}]`;break}return s[d]||""}function o(d,g){return g?d.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(h,b)=>b in g?g[b]:"{{"+b+"}}"):d}const c={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(d,g=null,h=a(d,g)){return o(h,g)},async translate(d){}};i.NullL10n=c},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.XfaLayer=void 0;var a=s(25);class o{static setupStorage(d,g,h,b,_){const $=b.getValue(g,{value:null});switch(h.name){case"textarea":if($.value!==null&&(d.textContent=$.value),_==="print")break;d.addEventListener("input",j=>{b.setValue(g,{value:j.target.value})});break;case"input":if(h.attributes.type==="radio"||h.attributes.type==="checkbox"){if($.value===h.attributes.xfaOn?d.setAttribute("checked",!0):$.value===h.attributes.xfaOff&&d.removeAttribute("checked"),_==="print")break;d.addEventListener("change",j=>{b.setValue(g,{value:j.target.checked?j.target.getAttribute("xfaOn"):j.target.getAttribute("xfaOff")})})}else{if($.value!==null&&d.setAttribute("value",$.value),_==="print")break;d.addEventListener("input",j=>{b.setValue(g,{value:j.target.value})})}break;case"select":if($.value!==null){d.setAttribute("value",$.value);for(const j of h.children)j.attributes.value===$.value?j.attributes.selected=!0:j.attributes.hasOwnProperty("selected")&&delete j.attributes.selected}d.addEventListener("input",j=>{const _e=j.target.options,rt=_e.selectedIndex===-1?"":_e[_e.selectedIndex].value;b.setValue(g,{value:rt})});break}}static setAttributes({html:d,element:g,storage:h=null,intent:b,linkService:_}){const{attributes:$}=g,j=d instanceof HTMLAnchorElement;$.type==="radio"&&($.name=`${$.name}-${b}`);for(const[_e,rt]of Object.entries($))if(rt!=null)switch(_e){case"class":rt.length&&d.setAttribute(_e,rt.join(" "));break;case"dataId":break;case"id":d.setAttribute("data-element-id",rt);break;case"style":Object.assign(d.style,rt);break;case"textContent":d.textContent=rt;break;default:(!j||_e!=="href"&&_e!=="newWindow")&&d.setAttribute(_e,rt)}j&&_.addLinkAttributes(d,$.href,$.newWindow),h&&$.dataId&&this.setupStorage(d,$.dataId,g,h)}static render(d){var it;const g=d.annotationStorage,h=d.linkService,b=d.xfaHtml,_=d.intent||"display",$=document.createElement(b.name);b.attributes&&this.setAttributes({html:$,element:b,intent:_,linkService:h});const j=[[b,-1,$]],_e=d.div;if(_e.append($),d.viewport){const st=`matrix(${d.viewport.transform.join(",")})`;_e.style.transform=st}_!=="richText"&&_e.setAttribute("class","xfaLayer xfaFont");const rt=[];for(;j.length>0;){const[st,et,tt]=j.at(-1);if(et+1===st.children.length){j.pop();continue}const ot=st.children[++j.at(-1)[1]];if(ot===null)continue;const{name:nt}=ot;if(nt==="#text"){const dt=document.createTextNode(ot.value);rt.push(dt),tt.append(dt);continue}const at=(it=ot==null?void 0:ot.attributes)!=null&&it.xmlns?document.createElementNS(ot.attributes.xmlns,nt):document.createElement(nt);if(tt.append(at),ot.attributes&&this.setAttributes({html:at,element:ot,storage:g,intent:_,linkService:h}),ot.children&&ot.children.length>0)j.push([ot,-1,at]);else if(ot.value){const dt=document.createTextNode(ot.value);a.XfaText.shouldBuildText(nt)&&rt.push(dt),at.append(dt)}}for(const st of _e.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))st.setAttribute("readOnly",!0);return{textDivs:rt}}static update(d){const g=`matrix(${d.viewport.transform.join(",")})`;d.div.style.transform=g,d.div.hidden=!1}}i.XfaLayer=o},(e,i,s)=>{var b,_,$,j,_e,rt,it,st,et,tt,ot,nt,at,dt,ut,bs,_s,Es,ws,Vr,Ss,Gr,As,ks,js,Rs,Ts,qn,Yr,fr,pr,Xn,Xr,mr,At,Ps,Kr,Cs,Os,Zr,gr,Kn;Object.defineProperty(i,"__esModule",{value:!0}),i.InkEditor=void 0;var a=s(1),o=s(4),c=s(29),d=s(6),g=s(5);const nn=class nn extends o.AnnotationEditor{constructor(Rt){super({...Rt,name:"inkEditor"});Kt(this,ut);Kt(this,b,0);Kt(this,_,0);Kt(this,$,this.canvasPointermove.bind(this));Kt(this,j,this.canvasPointerleave.bind(this));Kt(this,_e,this.canvasPointerup.bind(this));Kt(this,rt,this.canvasPointerdown.bind(this));Kt(this,it,new Path2D);Kt(this,st,!1);Kt(this,et,!1);Kt(this,tt,!1);Kt(this,ot,null);Kt(this,nt,0);Kt(this,at,0);Kt(this,dt,null);this.color=Rt.color||null,this.thickness=Rt.thickness||null,this.opacity=Rt.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(Rt){o.AnnotationEditor.initialize(Rt,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(Rt,Ct){switch(Rt){case a.AnnotationEditorParamsType.INK_THICKNESS:nn._defaultThickness=Ct;break;case a.AnnotationEditorParamsType.INK_COLOR:nn._defaultColor=Ct;break;case a.AnnotationEditorParamsType.INK_OPACITY:nn._defaultOpacity=Ct/100;break}}updateParams(Rt,Ct){switch(Rt){case a.AnnotationEditorParamsType.INK_THICKNESS:Gt(this,ut,bs).call(this,Ct);break;case a.AnnotationEditorParamsType.INK_COLOR:Gt(this,ut,_s).call(this,Ct);break;case a.AnnotationEditorParamsType.INK_OPACITY:Gt(this,ut,Es).call(this,Ct);break}}static get defaultPropertiesToUpdate(){return[[a.AnnotationEditorParamsType.INK_THICKNESS,nn._defaultThickness],[a.AnnotationEditorParamsType.INK_COLOR,nn._defaultColor||o.AnnotationEditor._defaultLineColor],[a.AnnotationEditorParamsType.INK_OPACITY,Math.round(nn._defaultOpacity*100)]]}get propertiesToUpdate(){return[[a.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||nn._defaultThickness],[a.AnnotationEditorParamsType.INK_COLOR,this.color||nn._defaultColor||o.AnnotationEditor._defaultLineColor],[a.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??nn._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(Gt(this,ut,fr).call(this),Gt(this,ut,pr).call(this)),this.isAttachedToDOM||(this.parent.add(this),Gt(this,ut,Xn).call(this)),Gt(this,ut,Kn).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,yt(this,ot).disconnect(),Qt(this,ot,null),super.remove())}setParent(Rt){!this.parent&&Rt?this._uiManager.removeShouldRescale(this):this.parent&&Rt===null&&this._uiManager.addShouldRescale(this),super.setParent(Rt)}onScaleChanging(){const[Rt,Ct]=this.parentDimensions,Ft=this.width*Rt,Bt=this.height*Ct;this.setDimensions(Ft,Bt)}enableEditMode(){yt(this,st)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",yt(this,rt)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",yt(this,rt)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){yt(this,st)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Qt(this,st,!0),this.div.classList.add("disabled"),Gt(this,ut,Kn).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(Rt){this._focusEventsAllowed&&(super.focusin(Rt),this.enableEditMode())}canvasPointerdown(Rt){Rt.button!==0||!this.isInEditMode()||yt(this,st)||(this.setInForeground(),Rt.preventDefault(),Rt.type!=="mouse"&&this.div.focus(),Gt(this,ut,Ss).call(this,Rt.offsetX,Rt.offsetY))}canvasPointermove(Rt){Rt.preventDefault(),Gt(this,ut,Gr).call(this,Rt.offsetX,Rt.offsetY)}canvasPointerup(Rt){Rt.preventDefault(),Gt(this,ut,Yr).call(this,Rt)}canvasPointerleave(Rt){Gt(this,ut,Yr).call(this,Rt)}get isResizable(){return!this.isEmpty()&&yt(this,st)}render(){if(this.div)return this.div;let Rt,Ct;this.width&&(Rt=this.x,Ct=this.y),super.render(),o.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(tn=>{var qt;return(qt=this.div)==null?void 0:qt.setAttribute("aria-label",tn)});const[Ft,Bt,Ut,rn]=Gt(this,ut,ws).call(this);if(this.setAt(Ft,Bt,0,0),this.setDims(Ut,rn),Gt(this,ut,fr).call(this),this.width){const[tn,qt]=this.parentDimensions;this.setAspectRatio(this.width*tn,this.height*qt),this.setAt(Rt*tn,Ct*qt,this.width*tn,this.height*qt),Qt(this,tt,!0),Gt(this,ut,Xn).call(this),this.setDims(this.width*tn,this.height*qt),Gt(this,ut,qn).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Gt(this,ut,pr).call(this),this.div}setDimensions(Rt,Ct){const Ft=Math.round(Rt),Bt=Math.round(Ct);if(yt(this,nt)===Ft&&yt(this,at)===Bt)return;Qt(this,nt,Ft),Qt(this,at,Bt),this.canvas.style.visibility="hidden";const[Ut,rn]=this.parentDimensions;this.width=Rt/Ut,this.height=Ct/rn,this.fixAndSetPosition(),yt(this,st)&&Gt(this,ut,Xr).call(this,Rt,Ct),Gt(this,ut,Xn).call(this),Gt(this,ut,qn).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(Rt,Ct,Ft){var wn,Pn,Ln;if(Rt instanceof c.InkAnnotationElement)return null;const Bt=super.deserialize(Rt,Ct,Ft);Bt.thickness=Rt.thickness,Bt.color=a.Util.makeHexColor(...Rt.color),Bt.opacity=Rt.opacity;const[Ut,rn]=Bt.pageDimensions,tn=Bt.width*Ut,qt=Bt.height*rn,hn=Bt.parentScale,dn=Rt.thickness/2;Qt(Bt,st,!0),Qt(Bt,nt,Math.round(tn)),Qt(Bt,at,Math.round(qt));const{paths:yn,rect:jn,rotation:kn}=Rt;for(let{bezier:un}of yn){un=Gt(wn=nn,At,Cs).call(wn,un,jn,kn);const Zt=[];Bt.paths.push(Zt);let en=hn*(un[0]-dn),vn=hn*(un[1]-dn);for(let On=2,$t=un.length;On<$t;On+=6){const on=hn*(un[On]-dn),fn=hn*(un[On+1]-dn),_n=hn*(un[On+2]-dn),An=hn*(un[On+3]-dn),gn=hn*(un[On+4]-dn),It=hn*(un[On+5]-dn);Zt.push([[en,vn],[on,fn],[_n,An],[gn,It]]),en=gn,vn=It}const Nn=Gt(this,At,Ps).call(this,Zt);Bt.bezierPath2D.push(Nn)}const mn=Gt(Pn=Bt,ut,Zr).call(Pn);return Qt(Bt,_,Math.max(o.AnnotationEditor.MIN_SIZE,mn[2]-mn[0])),Qt(Bt,b,Math.max(o.AnnotationEditor.MIN_SIZE,mn[3]-mn[1])),Gt(Ln=Bt,ut,Xr).call(Ln,tn,qt),Bt}serialize(){if(this.isEmpty())return null;const Rt=this.getRect(0,0),Ct=o.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:a.AnnotationEditorType.INK,color:Ct,thickness:this.thickness,opacity:this.opacity,paths:Gt(this,ut,Os).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,Rt),pageIndex:this.pageIndex,rect:Rt,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};b=new WeakMap,_=new WeakMap,$=new WeakMap,j=new WeakMap,_e=new WeakMap,rt=new WeakMap,it=new WeakMap,st=new WeakMap,et=new WeakMap,tt=new WeakMap,ot=new WeakMap,nt=new WeakMap,at=new WeakMap,dt=new WeakMap,ut=new WeakSet,bs=function(Rt){const Ct=this.thickness;this.addCommands({cmd:()=>{this.thickness=Rt,Gt(this,ut,Kn).call(this)},undo:()=>{this.thickness=Ct,Gt(this,ut,Kn).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},_s=function(Rt){const Ct=this.color;this.addCommands({cmd:()=>{this.color=Rt,Gt(this,ut,qn).call(this)},undo:()=>{this.color=Ct,Gt(this,ut,qn).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Es=function(Rt){Rt/=100;const Ct=this.opacity;this.addCommands({cmd:()=>{this.opacity=Rt,Gt(this,ut,qn).call(this)},undo:()=>{this.opacity=Ct,Gt(this,ut,qn).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},ws=function(){const{parentRotation:Rt,parentDimensions:[Ct,Ft]}=this;switch(Rt){case 90:return[0,Ft,Ft,Ct];case 180:return[Ct,Ft,Ct,Ft];case 270:return[Ct,0,Ft,Ct];default:return[0,0,Ct,Ft]}},Vr=function(){const{ctx:Rt,color:Ct,opacity:Ft,thickness:Bt,parentScale:Ut,scaleFactor:rn}=this;Rt.lineWidth=Bt*Ut/rn,Rt.lineCap="round",Rt.lineJoin="round",Rt.miterLimit=10,Rt.strokeStyle=`${Ct}${(0,g.opacityToHex)(Ft)}`},Ss=function(Rt,Ct){this.canvas.addEventListener("contextmenu",d.noContextMenu),this.canvas.addEventListener("pointerleave",yt(this,j)),this.canvas.addEventListener("pointermove",yt(this,$)),this.canvas.addEventListener("pointerup",yt(this,_e)),this.canvas.removeEventListener("pointerdown",yt(this,rt)),this.isEditing=!0,yt(this,tt)||(Qt(this,tt,!0),Gt(this,ut,Xn).call(this),this.thickness||(this.thickness=nn._defaultThickness),this.color||(this.color=nn._defaultColor||o.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=nn._defaultOpacity)),this.currentPath.push([Rt,Ct]),Qt(this,et,!1),Gt(this,ut,Vr).call(this),Qt(this,dt,()=>{Gt(this,ut,js).call(this),yt(this,dt)&&window.requestAnimationFrame(yt(this,dt))}),window.requestAnimationFrame(yt(this,dt))},Gr=function(Rt,Ct){const[Ft,Bt]=this.currentPath.at(-1);if(this.currentPath.length>1&&Rt===Ft&&Ct===Bt)return;const Ut=this.currentPath;let rn=yt(this,it);if(Ut.push([Rt,Ct]),Qt(this,et,!0),Ut.length<=2){rn.moveTo(...Ut[0]),rn.lineTo(Rt,Ct);return}Ut.length===3&&(Qt(this,it,rn=new Path2D),rn.moveTo(...Ut[0])),Gt(this,ut,Rs).call(this,rn,...Ut.at(-3),...Ut.at(-2),Rt,Ct)},As=function(){if(this.currentPath.length===0)return;const Rt=this.currentPath.at(-1);yt(this,it).lineTo(...Rt)},ks=function(Rt,Ct){Qt(this,dt,null),Rt=Math.min(Math.max(Rt,0),this.canvas.width),Ct=Math.min(Math.max(Ct,0),this.canvas.height),Gt(this,ut,Gr).call(this,Rt,Ct),Gt(this,ut,As).call(this);let Ft;if(this.currentPath.length!==1)Ft=Gt(this,ut,Ts).call(this);else{const qt=[Rt,Ct];Ft=[[qt,qt.slice(),qt.slice(),qt]]}const Bt=yt(this,it),Ut=this.currentPath;this.currentPath=[],Qt(this,it,new Path2D);const rn=()=>{this.allRawPaths.push(Ut),this.paths.push(Ft),this.bezierPath2D.push(Bt),this.rebuild()},tn=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Gt(this,ut,fr).call(this),Gt(this,ut,pr).call(this)),Gt(this,ut,Kn).call(this))};this.addCommands({cmd:rn,undo:tn,mustExec:!0})},js=function(){if(!yt(this,et))return;Qt(this,et,!1);const Rt=Math.ceil(this.thickness*this.parentScale),Ct=this.currentPath.slice(-3),Ft=Ct.map(rn=>rn[0]),Bt=Ct.map(rn=>rn[1]);Math.min(...Ft)-Rt,Math.max(...Ft)+Rt,Math.min(...Bt)-Rt,Math.max(...Bt)+Rt;const{ctx:Ut}=this;Ut.save(),Ut.clearRect(0,0,this.canvas.width,this.canvas.height);for(const rn of this.bezierPath2D)Ut.stroke(rn);Ut.stroke(yt(this,it)),Ut.restore()},Rs=function(Rt,Ct,Ft,Bt,Ut,rn,tn){const qt=(Ct+Bt)/2,hn=(Ft+Ut)/2,dn=(Bt+rn)/2,yn=(Ut+tn)/2;Rt.bezierCurveTo(qt+2*(Bt-qt)/3,hn+2*(Ut-hn)/3,dn+2*(Bt-dn)/3,yn+2*(Ut-yn)/3,dn,yn)},Ts=function(){const Rt=this.currentPath;if(Rt.length<=2)return[[Rt[0],Rt[0],Rt.at(-1),Rt.at(-1)]];const Ct=[];let Ft,[Bt,Ut]=Rt[0];for(Ft=1;Ft<Rt.length-2;Ft++){const[jn,kn]=Rt[Ft],[mn,wn]=Rt[Ft+1],Pn=(jn+mn)/2,Ln=(kn+wn)/2,un=[Bt+2*(jn-Bt)/3,Ut+2*(kn-Ut)/3],Zt=[Pn+2*(jn-Pn)/3,Ln+2*(kn-Ln)/3];Ct.push([[Bt,Ut],un,Zt,[Pn,Ln]]),[Bt,Ut]=[Pn,Ln]}const[rn,tn]=Rt[Ft],[qt,hn]=Rt[Ft+1],dn=[Bt+2*(rn-Bt)/3,Ut+2*(tn-Ut)/3],yn=[qt+2*(rn-qt)/3,hn+2*(tn-hn)/3];return Ct.push([[Bt,Ut],dn,yn,[qt,hn]]),Ct},qn=function(){if(this.isEmpty()){Gt(this,ut,mr).call(this);return}Gt(this,ut,Vr).call(this);const{canvas:Rt,ctx:Ct}=this;Ct.setTransform(1,0,0,1,0,0),Ct.clearRect(0,0,Rt.width,Rt.height),Gt(this,ut,mr).call(this);for(const Ft of this.bezierPath2D)Ct.stroke(Ft)},Yr=function(Rt){this.canvas.removeEventListener("pointerleave",yt(this,j)),this.canvas.removeEventListener("pointermove",yt(this,$)),this.canvas.removeEventListener("pointerup",yt(this,_e)),this.canvas.addEventListener("pointerdown",yt(this,rt)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",d.noContextMenu)},10),Gt(this,ut,ks).call(this,Rt.offsetX,Rt.offsetY),this.addToAnnotationStorage(),this.setInBackground()},fr=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",o.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(Rt=>{var Ct;return(Ct=this.canvas)==null?void 0:Ct.setAttribute("aria-label",Rt)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},pr=function(){Qt(this,ot,new ResizeObserver(Rt=>{const Ct=Rt[0].contentRect;Ct.width&&Ct.height&&this.setDimensions(Ct.width,Ct.height)})),yt(this,ot).observe(this.div)},Xn=function(){if(!yt(this,tt))return;const[Rt,Ct]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*Rt),this.canvas.height=Math.ceil(this.height*Ct),Gt(this,ut,mr).call(this)},Xr=function(Rt,Ct){const Ft=Gt(this,ut,gr).call(this),Bt=(Rt-Ft)/yt(this,_),Ut=(Ct-Ft)/yt(this,b);this.scaleFactor=Math.min(Bt,Ut)},mr=function(){const Rt=Gt(this,ut,gr).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Rt,this.translationY*this.scaleFactor+Rt)},At=new WeakSet,Ps=function(Rt){const Ct=new Path2D;for(let Ft=0,Bt=Rt.length;Ft<Bt;Ft++){const[Ut,rn,tn,qt]=Rt[Ft];Ft===0&&Ct.moveTo(...Ut),Ct.bezierCurveTo(rn[0],rn[1],tn[0],tn[1],qt[0],qt[1])}return Ct},Kr=function(Rt,Ct,Ft){const[Bt,Ut,rn,tn]=Ct;switch(Ft){case 0:for(let qt=0,hn=Rt.length;qt<hn;qt+=2)Rt[qt]+=Bt,Rt[qt+1]=tn-Rt[qt+1];break;case 90:for(let qt=0,hn=Rt.length;qt<hn;qt+=2){const dn=Rt[qt];Rt[qt]=Rt[qt+1]+Bt,Rt[qt+1]=dn+Ut}break;case 180:for(let qt=0,hn=Rt.length;qt<hn;qt+=2)Rt[qt]=rn-Rt[qt],Rt[qt+1]+=Ut;break;case 270:for(let qt=0,hn=Rt.length;qt<hn;qt+=2){const dn=Rt[qt];Rt[qt]=rn-Rt[qt+1],Rt[qt+1]=tn-dn}break;default:throw new Error("Invalid rotation")}return Rt},Cs=function(Rt,Ct,Ft){const[Bt,Ut,rn,tn]=Ct;switch(Ft){case 0:for(let qt=0,hn=Rt.length;qt<hn;qt+=2)Rt[qt]-=Bt,Rt[qt+1]=tn-Rt[qt+1];break;case 90:for(let qt=0,hn=Rt.length;qt<hn;qt+=2){const dn=Rt[qt];Rt[qt]=Rt[qt+1]-Ut,Rt[qt+1]=dn-Bt}break;case 180:for(let qt=0,hn=Rt.length;qt<hn;qt+=2)Rt[qt]=rn-Rt[qt],Rt[qt+1]-=Ut;break;case 270:for(let qt=0,hn=Rt.length;qt<hn;qt+=2){const dn=Rt[qt];Rt[qt]=tn-Rt[qt+1],Rt[qt+1]=rn-dn}break;default:throw new Error("Invalid rotation")}return Rt},Os=function(Rt,Ct,Ft,Bt){var hn,dn;const Ut=[],rn=this.thickness/2,tn=Rt*Ct+rn,qt=Rt*Ft+rn;for(const yn of this.paths){const jn=[],kn=[];for(let mn=0,wn=yn.length;mn<wn;mn++){const[Pn,Ln,un,Zt]=yn[mn],en=Rt*Pn[0]+tn,vn=Rt*Pn[1]+qt,Nn=Rt*Ln[0]+tn,On=Rt*Ln[1]+qt,$t=Rt*un[0]+tn,on=Rt*un[1]+qt,fn=Rt*Zt[0]+tn,_n=Rt*Zt[1]+qt;mn===0&&(jn.push(en,vn),kn.push(en,vn)),jn.push(Nn,On,$t,on,fn,_n),kn.push(Nn,On),mn===wn-1&&kn.push(fn,_n)}Ut.push({bezier:Gt(hn=nn,At,Kr).call(hn,jn,Bt,this.rotation),points:Gt(dn=nn,At,Kr).call(dn,kn,Bt,this.rotation)})}return Ut},Zr=function(){let Rt=1/0,Ct=-1/0,Ft=1/0,Bt=-1/0;for(const Ut of this.paths)for(const[rn,tn,qt,hn]of Ut){const dn=a.Util.bezierBoundingBox(...rn,...tn,...qt,...hn);Rt=Math.min(Rt,dn[0]),Ft=Math.min(Ft,dn[1]),Ct=Math.max(Ct,dn[2]),Bt=Math.max(Bt,dn[3])}return[Rt,Ft,Ct,Bt]},gr=function(){return yt(this,st)?Math.ceil(this.thickness*this.parentScale):0},Kn=function(Rt=!1){if(this.isEmpty())return;if(!yt(this,st)){Gt(this,ut,qn).call(this);return}const Ct=Gt(this,ut,Zr).call(this),Ft=Gt(this,ut,gr).call(this);Qt(this,_,Math.max(o.AnnotationEditor.MIN_SIZE,Ct[2]-Ct[0])),Qt(this,b,Math.max(o.AnnotationEditor.MIN_SIZE,Ct[3]-Ct[1]));const Bt=Math.ceil(Ft+yt(this,_)*this.scaleFactor),Ut=Math.ceil(Ft+yt(this,b)*this.scaleFactor),[rn,tn]=this.parentDimensions;this.width=Bt/rn,this.height=Ut/tn,this.setAspectRatio(Bt,Ut);const qt=this.translationX,hn=this.translationY;this.translationX=-Ct[0],this.translationY=-Ct[1],Gt(this,ut,Xn).call(this),Gt(this,ut,qn).call(this),Qt(this,nt,Bt),Qt(this,at,Ut),this.setDims(Bt,Ut);const dn=Rt?Ft/this.scaleFactor/2:0;this.translate(qt-this.translationX-dn,hn-this.translationY-dn)},Kt(nn,At),In(nn,"_defaultColor",null),In(nn,"_defaultOpacity",1),In(nn,"_defaultThickness",1),In(nn,"_type","ink");let h=nn;i.InkEditor=h},(e,i,s)=>{var h,b,_,$,j,_e,rt,it,st,et,tt,rr,ir,vr,Qr,Ns,Ls,Jr,yr,Ms;Object.defineProperty(i,"__esModule",{value:!0}),i.StampEditor=void 0;var a=s(1),o=s(4),c=s(6),d=s(29);const ft=class ft extends o.AnnotationEditor{constructor(jt){super({...jt,name:"stampEditor"});Kt(this,tt);Kt(this,h,null);Kt(this,b,null);Kt(this,_,null);Kt(this,$,null);Kt(this,j,null);Kt(this,_e,null);Kt(this,rt,null);Kt(this,it,null);Kt(this,st,!1);Kt(this,et,!1);Qt(this,$,jt.bitmapUrl),Qt(this,j,jt.bitmapFile)}static initialize(jt){o.AnnotationEditor.initialize(jt)}static get supportedTypes(){const jt=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,a.shadow)(this,"supportedTypes",jt.map(Ot=>`image/${Ot}`))}static get supportedTypesStr(){return(0,a.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(jt){return this.supportedTypes.includes(jt)}static paste(jt,Ot){Ot.pasteEditor(a.AnnotationEditorType.STAMP,{bitmapFile:jt.getAsFile()})}remove(){var jt,Ot;yt(this,b)&&(Qt(this,h,null),this._uiManager.imageManager.deleteId(yt(this,b)),(jt=yt(this,_e))==null||jt.remove(),Qt(this,_e,null),(Ot=yt(this,rt))==null||Ot.disconnect(),Qt(this,rt,null)),super.remove()}rebuild(){if(!this.parent){yt(this,b)&&Gt(this,tt,vr).call(this);return}super.rebuild(),this.div!==null&&(yt(this,b)&&Gt(this,tt,vr).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(yt(this,_)||yt(this,h)||yt(this,$)||yt(this,j))}get isResizable(){return!0}render(){if(this.div)return this.div;let jt,Ot;if(this.width&&(jt=this.x,Ot=this.y),super.render(),this.div.hidden=!0,yt(this,h)?Gt(this,tt,Qr).call(this):Gt(this,tt,vr).call(this),this.width){const[Pt,Lt]=this.parentDimensions;this.setAt(jt*Pt,Ot*Lt,this.width*Pt,this.height*Lt)}return this.div}static deserialize(jt,Ot,Pt){if(jt instanceof d.StampAnnotationElement)return null;const Lt=super.deserialize(jt,Ot,Pt),{rect:wt,bitmapUrl:St,bitmapId:_t,isSvg:xt,accessibilityData:pt}=jt;_t&&Pt.imageManager.isValidId(_t)?Qt(Lt,b,_t):Qt(Lt,$,St),Qt(Lt,st,xt);const[gt,Et]=Lt.pageDimensions;return Lt.width=(wt[2]-wt[0])/gt,Lt.height=(wt[3]-wt[1])/Et,pt&&(Lt.altTextData=pt),Lt}serialize(jt=!1,Ot=null){if(this.isEmpty())return null;const Pt={annotationType:a.AnnotationEditorType.STAMP,bitmapId:yt(this,b),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:yt(this,st),structTreeParentId:this._structTreeParentId};if(jt)return Pt.bitmapUrl=Gt(this,tt,yr).call(this,!0),Pt.accessibilityData=this.altTextData,Pt;const{decorative:Lt,altText:wt}=this.altTextData;if(!Lt&&wt&&(Pt.accessibilityData={type:"Figure",alt:wt}),Ot===null)return Pt;Ot.stamps||(Ot.stamps=new Map);const St=yt(this,st)?(Pt.rect[2]-Pt.rect[0])*(Pt.rect[3]-Pt.rect[1]):null;if(!Ot.stamps.has(yt(this,b)))Ot.stamps.set(yt(this,b),{area:St,serialized:Pt}),Pt.bitmap=Gt(this,tt,yr).call(this,!1);else if(yt(this,st)){const _t=Ot.stamps.get(yt(this,b));St>_t.area&&(_t.area=St,_t.serialized.bitmap.close(),_t.serialized.bitmap=Gt(this,tt,yr).call(this,!1))}return Pt}};h=new WeakMap,b=new WeakMap,_=new WeakMap,$=new WeakMap,j=new WeakMap,_e=new WeakMap,rt=new WeakMap,it=new WeakMap,st=new WeakMap,et=new WeakMap,tt=new WeakSet,rr=function(jt,Ot=!1){if(!jt){this.remove();return}Qt(this,h,jt.bitmap),Ot||(Qt(this,b,jt.id),Qt(this,st,jt.isSvg)),Gt(this,tt,Qr).call(this)},ir=function(){Qt(this,_,null),this._uiManager.enableWaiting(!1),yt(this,_e)&&this.div.focus()},vr=function(){if(yt(this,b)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(yt(this,b)).then(Ot=>Gt(this,tt,rr).call(this,Ot,!0)).finally(()=>Gt(this,tt,ir).call(this));return}if(yt(this,$)){const Ot=yt(this,$);Qt(this,$,null),this._uiManager.enableWaiting(!0),Qt(this,_,this._uiManager.imageManager.getFromUrl(Ot).then(Pt=>Gt(this,tt,rr).call(this,Pt)).finally(()=>Gt(this,tt,ir).call(this)));return}if(yt(this,j)){const Ot=yt(this,j);Qt(this,j,null),this._uiManager.enableWaiting(!0),Qt(this,_,this._uiManager.imageManager.getFromFile(Ot).then(Pt=>Gt(this,tt,rr).call(this,Pt)).finally(()=>Gt(this,tt,ir).call(this)));return}const jt=document.createElement("input");jt.type="file",jt.accept=ft.supportedTypesStr,Qt(this,_,new Promise(Ot=>{jt.addEventListener("change",async()=>{if(!jt.files||jt.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const Pt=await this._uiManager.imageManager.getFromFile(jt.files[0]);Gt(this,tt,rr).call(this,Pt)}Ot()}),jt.addEventListener("cancel",()=>{this.remove(),Ot()})}).finally(()=>Gt(this,tt,ir).call(this))),jt.click()},Qr=function(){const{div:jt}=this;let{width:Ot,height:Pt}=yt(this,h);const[Lt,wt]=this.pageDimensions,St=.75;if(this.width)Ot=this.width*Lt,Pt=this.height*wt;else if(Ot>St*Lt||Pt>St*wt){const gt=Math.min(St*Lt/Ot,St*wt/Pt);Ot*=gt,Pt*=gt}const[_t,xt]=this.parentDimensions;this.setDims(Ot*_t/Lt,Pt*xt/wt),this._uiManager.enableWaiting(!1);const pt=Qt(this,_e,document.createElement("canvas"));jt.append(pt),jt.hidden=!1,Gt(this,tt,Jr).call(this,Ot,Pt),Gt(this,tt,Ms).call(this),yt(this,et)||(this.parent.addUndoableEditor(this),Qt(this,et,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},Ns=function(jt,Ot){var St;const[Pt,Lt]=this.parentDimensions;this.width=jt/Pt,this.height=Ot/Lt,this.setDims(jt,Ot),(St=this._initialOptions)!=null&&St.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,yt(this,it)!==null&&clearTimeout(yt(this,it)),Qt(this,it,setTimeout(()=>{Qt(this,it,null),Gt(this,tt,Jr).call(this,jt,Ot)},200))},Ls=function(jt,Ot){const{width:Pt,height:Lt}=yt(this,h);let wt=Pt,St=Lt,_t=yt(this,h);for(;wt>2*jt||St>2*Ot;){const xt=wt,pt=St;wt>2*jt&&(wt=wt>=16384?Math.floor(wt/2)-1:Math.ceil(wt/2)),St>2*Ot&&(St=St>=16384?Math.floor(St/2)-1:Math.ceil(St/2));const gt=new OffscreenCanvas(wt,St);gt.getContext("2d").drawImage(_t,0,0,xt,pt,0,0,wt,St),_t=gt.transferToImageBitmap()}return _t},Jr=function(jt,Ot){jt=Math.ceil(jt),Ot=Math.ceil(Ot);const Pt=yt(this,_e);if(!Pt||Pt.width===jt&&Pt.height===Ot)return;Pt.width=jt,Pt.height=Ot;const Lt=yt(this,st)?yt(this,h):Gt(this,tt,Ls).call(this,jt,Ot),wt=Pt.getContext("2d");wt.filter=this._uiManager.hcmFilter,wt.drawImage(Lt,0,0,Lt.width,Lt.height,0,0,jt,Ot)},yr=function(jt){if(jt){if(yt(this,st)){const Lt=this._uiManager.imageManager.getSvgUrl(yt(this,b));if(Lt)return Lt}const Ot=document.createElement("canvas");return{width:Ot.width,height:Ot.height}=yt(this,h),Ot.getContext("2d").drawImage(yt(this,h),0,0),Ot.toDataURL()}if(yt(this,st)){const[Ot,Pt]=this.pageDimensions,Lt=Math.round(this.width*Ot*c.PixelsPerInch.PDF_TO_CSS_UNITS),wt=Math.round(this.height*Pt*c.PixelsPerInch.PDF_TO_CSS_UNITS),St=new OffscreenCanvas(Lt,wt);return St.getContext("2d").drawImage(yt(this,h),0,0,yt(this,h).width,yt(this,h).height,0,0,Lt,wt),St.transferToImageBitmap()}return structuredClone(yt(this,h))},Ms=function(){Qt(this,rt,new ResizeObserver(jt=>{const Ot=jt[0].contentRect;Ot.width&&Ot.height&&Gt(this,tt,Ns).call(this,Ot.width,Ot.height)})),yt(this,rt).observe(this.div)},In(ft,"_type","stamp");let g=ft;i.StampEditor=g}],__webpack_module_cache__={};function __w_pdfjs_require__(e){var i=__webpack_module_cache__[e];if(i!==void 0)return i.exports;var s=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](s,s.exports,__w_pdfjs_require__),s.exports}var __webpack_exports__={};return(()=>{var e=__webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AbortException",{enumerable:!0,get:function(){return i.AbortException}}),Object.defineProperty(e,"AnnotationEditorLayer",{enumerable:!0,get:function(){return c.AnnotationEditorLayer}}),Object.defineProperty(e,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return i.AnnotationEditorParamsType}}),Object.defineProperty(e,"AnnotationEditorType",{enumerable:!0,get:function(){return i.AnnotationEditorType}}),Object.defineProperty(e,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return d.AnnotationEditorUIManager}}),Object.defineProperty(e,"AnnotationLayer",{enumerable:!0,get:function(){return g.AnnotationLayer}}),Object.defineProperty(e,"AnnotationMode",{enumerable:!0,get:function(){return i.AnnotationMode}}),Object.defineProperty(e,"CMapCompressionType",{enumerable:!0,get:function(){return i.CMapCompressionType}}),Object.defineProperty(e,"DOMSVGFactory",{enumerable:!0,get:function(){return a.DOMSVGFactory}}),Object.defineProperty(e,"FeatureTest",{enumerable:!0,get:function(){return i.FeatureTest}}),Object.defineProperty(e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return h.GlobalWorkerOptions}}),Object.defineProperty(e,"ImageKind",{enumerable:!0,get:function(){return i.ImageKind}}),Object.defineProperty(e,"InvalidPDFException",{enumerable:!0,get:function(){return i.InvalidPDFException}}),Object.defineProperty(e,"MissingPDFException",{enumerable:!0,get:function(){return i.MissingPDFException}}),Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return i.OPS}}),Object.defineProperty(e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return s.PDFDataRangeTransport}}),Object.defineProperty(e,"PDFDateString",{enumerable:!0,get:function(){return a.PDFDateString}}),Object.defineProperty(e,"PDFWorker",{enumerable:!0,get:function(){return s.PDFWorker}}),Object.defineProperty(e,"PasswordResponses",{enumerable:!0,get:function(){return i.PasswordResponses}}),Object.defineProperty(e,"PermissionFlag",{enumerable:!0,get:function(){return i.PermissionFlag}}),Object.defineProperty(e,"PixelsPerInch",{enumerable:!0,get:function(){return a.PixelsPerInch}}),Object.defineProperty(e,"PromiseCapability",{enumerable:!0,get:function(){return i.PromiseCapability}}),Object.defineProperty(e,"RenderingCancelledException",{enumerable:!0,get:function(){return a.RenderingCancelledException}}),Object.defineProperty(e,"SVGGraphics",{enumerable:!0,get:function(){return s.SVGGraphics}}),Object.defineProperty(e,"UnexpectedResponseException",{enumerable:!0,get:function(){return i.UnexpectedResponseException}}),Object.defineProperty(e,"Util",{enumerable:!0,get:function(){return i.Util}}),Object.defineProperty(e,"VerbosityLevel",{enumerable:!0,get:function(){return i.VerbosityLevel}}),Object.defineProperty(e,"XfaLayer",{enumerable:!0,get:function(){return b.XfaLayer}}),Object.defineProperty(e,"build",{enumerable:!0,get:function(){return s.build}}),Object.defineProperty(e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return i.createValidAbsoluteUrl}}),Object.defineProperty(e,"getDocument",{enumerable:!0,get:function(){return s.getDocument}}),Object.defineProperty(e,"getFilenameFromUrl",{enumerable:!0,get:function(){return a.getFilenameFromUrl}}),Object.defineProperty(e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return a.getPdfFilenameFromUrl}}),Object.defineProperty(e,"getXfaPageViewport",{enumerable:!0,get:function(){return a.getXfaPageViewport}}),Object.defineProperty(e,"isDataScheme",{enumerable:!0,get:function(){return a.isDataScheme}}),Object.defineProperty(e,"isPdfFile",{enumerable:!0,get:function(){return a.isPdfFile}}),Object.defineProperty(e,"loadScript",{enumerable:!0,get:function(){return a.loadScript}}),Object.defineProperty(e,"noContextMenu",{enumerable:!0,get:function(){return a.noContextMenu}}),Object.defineProperty(e,"normalizeUnicode",{enumerable:!0,get:function(){return i.normalizeUnicode}}),Object.defineProperty(e,"renderTextLayer",{enumerable:!0,get:function(){return o.renderTextLayer}}),Object.defineProperty(e,"setLayerDimensions",{enumerable:!0,get:function(){return a.setLayerDimensions}}),Object.defineProperty(e,"shadow",{enumerable:!0,get:function(){return i.shadow}}),Object.defineProperty(e,"updateTextLayer",{enumerable:!0,get:function(){return o.updateTextLayer}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return s.version}});var i=__w_pdfjs_require__(1),s=__w_pdfjs_require__(2),a=__w_pdfjs_require__(6),o=__w_pdfjs_require__(26),c=__w_pdfjs_require__(27),d=__w_pdfjs_require__(5),g=__w_pdfjs_require__(29),h=__w_pdfjs_require__(14),b=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf$1);var pdfExports=pdf$1.exports;const pdf=getDefaultExportFromCjs(pdfExports),pdfjsModule=_mergeNamespaces({__proto__:null,default:pdf},[pdfExports]),pdfjs="default"in pdfjsModule?pdf:pdfjsModule;var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function e(a,o,c,d,g,h){if(h!==ReactPropTypesSecret){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}e.isRequired=e;function i(){return e}var s={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:i,element:e,elementType:e,instanceOf:i,node:e,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return s.PropTypes=s,s};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports);var __spreadArray$1=function(e,i,s){if(s||arguments.length===2)for(var a=0,o=i.length,c;a<o;a++)(c||!(a in i))&&(c||(c=Array.prototype.slice.call(i,0,a)),c[a]=i[a]);return e.concat(c||Array.prototype.slice.call(i))},clipboardEvents=["onCopy","onCut","onPaste"],compositionEvents=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],focusEvents=["onFocus","onBlur"],formEvents=["onInput","onInvalid","onReset","onSubmit"],imageEvents=["onLoad","onError"],keyboardEvents=["onKeyDown","onKeyPress","onKeyUp"],mediaEvents=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],mouseEvents=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],dragEvents=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],selectionEvents=["onSelect"],touchEvents=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],pointerEvents=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],uiEvents=["onScroll"],wheelEvents=["onWheel"],animationEvents=["onAnimationStart","onAnimationEnd","onAnimationIteration"],transitionEvents=["onTransitionEnd"],otherEvents=["onToggle"],changeEvents=["onChange"],allEvents=__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1([],clipboardEvents,!0),compositionEvents,!0),focusEvents,!0),formEvents,!0),imageEvents,!0),keyboardEvents,!0),mediaEvents,!0),mouseEvents,!0),dragEvents,!0),selectionEvents,!0),touchEvents,!0),pointerEvents,!0),uiEvents,!0),wheelEvents,!0),animationEvents,!0),transitionEvents,!0),changeEvents,!0),otherEvents,!0);function makeEventProps(e,i){var s={};return allEvents.forEach(function(a){var o=e[a];o&&(i?s[a]=function(c){return o(c,i(a))}:s[a]=o)}),s}function makeCancellablePromise(e){var i=!1,s=new Promise(function(a,o){e.then(function(c){return!i&&a(c)}).catch(function(c){return!i&&o(c)})});return{promise:s,cancel:function(){i=!0}}}function r(e){var i,s,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(i=0;i<o;i++)e[i]&&(s=r(e[i]))&&(a&&(a+=" "),a+=s)}else for(s in e)e[s]&&(a&&(a+=" "),a+=s);return a}function clsx(){for(var e,i,s=0,a="",o=arguments.length;s<o;s++)(e=arguments[s])&&(i=r(e))&&(a&&(a+=" "),a+=i);return a}var prefix="Invariant failed";function invariant(e,i){if(!e)throw new Error(prefix)}var warning=function(){},warning_1=warning;const warning$1=getDefaultExportFromCjs(warning_1);var has=Object.prototype.hasOwnProperty;function find(e,i,s){for(s of e.keys())if(dequal(s,i))return s}function dequal(e,i){var s,a,o;if(e===i)return!0;if(e&&i&&(s=e.constructor)===i.constructor){if(s===Date)return e.getTime()===i.getTime();if(s===RegExp)return e.toString()===i.toString();if(s===Array){if((a=e.length)===i.length)for(;a--&&dequal(e[a],i[a]););return a===-1}if(s===Set){if(e.size!==i.size)return!1;for(a of e)if(o=a,o&&typeof o=="object"&&(o=find(i,o),!o)||!i.has(o))return!1;return!0}if(s===Map){if(e.size!==i.size)return!1;for(a of e)if(o=a[0],o&&typeof o=="object"&&(o=find(i,o),!o)||!dequal(a[1],i.get(o)))return!1;return!0}if(s===ArrayBuffer)e=new Uint8Array(e),i=new Uint8Array(i);else if(s===DataView){if((a=e.byteLength)===i.byteLength)for(;a--&&e.getInt8(a)===i.getInt8(a););return a===-1}if(ArrayBuffer.isView(e)){if((a=e.byteLength)===i.byteLength)for(;a--&&e[a]===i[a];);return a===-1}if(!s||typeof e=="object"){a=0;for(s in e)if(has.call(e,s)&&++a&&!has.call(i,s)||!(s in i)||!dequal(e[s],i[s]))return!1;return Object.keys(i).length===a}}return e!==e&&i!==i}const DocumentContext=reactExports.createContext(null);function Message({children:e,type:i}){return React.createElement("div",{className:`react-pdf__message react-pdf__message--${i}`},e)}const DEFAULT_LINK_REL="noopener noreferrer nofollow";class LinkService{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(i){this.pdfDocument=i}setViewer(i){this.pdfViewer=i}setExternalLinkRel(i){this.externalLinkRel=i}setExternalLinkTarget(i){this.externalLinkTarget=i}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return invariant(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(i){invariant(this.pdfViewer),this.pdfViewer.currentPageNumber=i}get rotation(){return 0}set rotation(i){}goToDestination(i){return new Promise(s=>{invariant(this.pdfDocument),invariant(i),typeof i=="string"?this.pdfDocument.getDestination(i).then(s):Array.isArray(i)?s(i):i.then(s)}).then(s=>{invariant(Array.isArray(s));const a=s[0];new Promise(o=>{invariant(this.pdfDocument),a instanceof Object?this.pdfDocument.getPageIndex(a).then(c=>{o(c)}).catch(()=>{invariant(!1)}):typeof a=="number"?o(a):invariant(!1)}).then(o=>{const c=o+1;invariant(this.pdfViewer),invariant(c>=1&&c<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:s,pageIndex:o,pageNumber:c})})})}navigateTo(i){this.goToDestination(i)}goToPage(i){const s=i-1;invariant(this.pdfViewer),invariant(i>=1&&i<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:s,pageNumber:i})}addLinkAttributes(i,s,a){i.href=s,i.rel=this.externalLinkRel||DEFAULT_LINK_REL,i.target=a?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},isBrowser=typeof document<"u",isLocalFileSystem=isBrowser&&window.location.protocol==="file:";function isDefined(e){return typeof e<"u"}function isProvided(e){return isDefined(e)&&e!==null}function isString(e){return typeof e=="string"}function isArrayBuffer(e){return e instanceof ArrayBuffer}function isBlob(e){return invariant(isBrowser),e instanceof Blob}function isDataURI(e){return isString(e)&&/^data:/.test(e)}function dataURItoByteString(e){invariant(isDataURI(e));const[i="",s=""]=e.split(",");return i.split(";").indexOf("base64")!==-1?atob(s):unescape(s)}function getDevicePixelRatio(){return isBrowser&&window.devicePixelRatio||1}const allowFileAccessFromFilesTip="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function displayCORSWarning(){warning$1(!isLocalFileSystem,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function displayWorkerWarning(){warning$1(!isLocalFileSystem,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function cancelRunningTask(e){e&&e.cancel&&e.cancel()}function makePageCallback(e,i){return Object.defineProperty(e,"width",{get(){return this.view[2]*i},configurable:!0}),Object.defineProperty(e,"height",{get(){return this.view[3]*i},configurable:!0}),Object.defineProperty(e,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(e,"originalHeight",{get(){return this.view[3]},configurable:!0}),e}function isCancelException(e){return e.name==="RenderingCancelledException"}function loadFromFile(e){return new Promise((i,s)=>{const a=new FileReader;a.onload=()=>{if(!a.result)return s(new Error("Error while reading a file."));i(a.result)},a.onerror=o=>{if(!o.target)return s(new Error("Error while reading a file."));const{error:c}=o.target;if(!c)return s(new Error("Error while reading a file."));switch(c.code){case c.NOT_FOUND_ERR:return s(new Error("Error while reading a file: File not found."));case c.SECURITY_ERR:return s(new Error("Error while reading a file: Security error."));case c.ABORT_ERR:return s(new Error("Error while reading a file: Aborted."));default:return s(new Error("Error while reading a file."))}},a.readAsArrayBuffer(e)})}function reducer(e,i){switch(i.type){case"RESOLVE":return{value:i.value,error:void 0};case"REJECT":return{value:!1,error:i.error};case"RESET":return{value:void 0,error:void 0};default:return e}}function useResolver(){return reactExports.useReducer(reducer,{value:void 0,error:void 0})}const{PDFDataRangeTransport:PDFDataRangeTransport$1}=pdfjs,eventProps=(()=>{const e={};return allEvents.forEach(i=>{e[i]=PropTypes.func}),e})(),isTypedArray$3=PropTypes.oneOfType([PropTypes.instanceOf(Int8Array),PropTypes.instanceOf(Uint8Array),PropTypes.instanceOf(Uint8ClampedArray),PropTypes.instanceOf(Int16Array),PropTypes.instanceOf(Uint16Array),PropTypes.instanceOf(Int32Array),PropTypes.instanceOf(Uint32Array),PropTypes.instanceOf(Float32Array),PropTypes.instanceOf(Float64Array)]),fileTypes=[PropTypes.string,PropTypes.instanceOf(ArrayBuffer),PropTypes.shape({data:PropTypes.oneOfType([PropTypes.string,PropTypes.instanceOf(ArrayBuffer),PropTypes.arrayOf(PropTypes.number.isRequired),isTypedArray$3]).isRequired}),PropTypes.shape({range:PropTypes.instanceOf(PDFDataRangeTransport$1).isRequired}),PropTypes.shape({url:PropTypes.string.isRequired})];typeof Blob<"u"&&fileTypes.push(PropTypes.instanceOf(Blob));const isClassName=PropTypes.oneOfType([PropTypes.string,PropTypes.arrayOf(PropTypes.string)]),isFile=PropTypes.oneOfType(fileTypes);PropTypes.instanceOf(LinkService);PropTypes.oneOf(["_self","_blank","_parent","_top"]);PropTypes.shape({commonObjs:PropTypes.shape({}).isRequired,getAnnotations:PropTypes.func.isRequired,getTextContent:PropTypes.func.isRequired,getViewport:PropTypes.func.isRequired,render:PropTypes.func.isRequired});const isPageIndex=function e(i,s,a){const{[s]:o,pageNumber:c,pdf:d}=i;if(!isDefined(d))return null;if(isDefined(o)){if(typeof o!="number")return new Error(`\`${s}\` of type \`${typeof o}\` supplied to \`${a}\`, expected \`number\`.`);if(o<0)return new Error(`Expected \`${s}\` to be greater or equal to 0.`);const{numPages:g}=d;if(o+1>g)return new Error(`Expected \`${s}\` to be less or equal to ${g-1}.`)}else if(!isDefined(c))return new Error(`\`${s}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${a}\`.`);return null},isPageNumber=function e(i,s,a){const{[s]:o,pageIndex:c,pdf:d}=i;if(!isDefined(d))return null;if(isDefined(o)){if(typeof o!="number")return new Error(`\`${s}\` of type \`${typeof o}\` supplied to \`${a}\`, expected \`number\`.`);if(o<1)return new Error(`Expected \`${s}\` to be greater or equal to 1.`);const{numPages:g}=d;if(o>g)return new Error(`Expected \`${s}\` to be less or equal to ${g}.`)}else if(!isDefined(c))return new Error(`\`${s}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${a}\`.`);return null},isPdf=PropTypes.oneOfType([PropTypes.any,PropTypes.oneOf([!1])]),isRef=PropTypes.oneOfType([PropTypes.func,PropTypes.exact({current:PropTypes.any})]),isRenderMode=PropTypes.oneOf(["canvas","custom","none","svg"]),isRotate=PropTypes.oneOf([0,90,180,270]);var __awaiter=function(e,i,s,a){function o(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function g(_){try{b(a.next(_))}catch($){d($)}}function h(_){try{b(a.throw(_))}catch($){d($)}}function b(_){_.done?c(_.value):o(_.value).then(g,h)}b((a=a.apply(e,i||[])).next())})},__rest$1=function(e,i){var s={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&i.indexOf(a)<0&&(s[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)i.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(s[a[o]]=e[a[o]]);return s};const{PDFDataRangeTransport}=pdfjs,defaultOnPassword=(e,i)=>{switch(i){case PasswordResponses.NEED_PASSWORD:{const s=prompt("Enter the password to open this PDF file.");e(s);break}case PasswordResponses.INCORRECT_PASSWORD:{const s=prompt("Invalid password. Please try again.");e(s);break}}};function isParameterObject(e){return typeof e=="object"&&e!==null&&("data"in e||"range"in e||"url"in e)}const Document=reactExports.forwardRef(function e(i,s){var{children:a,className:o,error:c="Failed to load PDF file.",externalLinkRel:d,externalLinkTarget:g,file:h,inputRef:b,imageResourcesPath:_,loading:$="Loading PDF",noData:j="No PDF file specified.",onItemClick:_e,onLoadError:rt,onLoadProgress:it,onLoadSuccess:st,onPassword:et=defaultOnPassword,onSourceError:tt,onSourceSuccess:ot,options:nt,renderMode:at,rotate:dt}=i,ut=__rest$1(i,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[ct,ht]=useResolver(),{value:mt,error:lt}=ct,[ft,vt]=useResolver(),{value:kt,error:jt}=ft,Ot=reactExports.useRef(new LinkService),Pt=reactExports.useRef([]),Lt=reactExports.useRef(),wt=reactExports.useRef();reactExports.useEffect(()=>{h&&h!==Lt.current&&isParameterObject(h)&&(warning$1(!dequal(h,Lt.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),Lt.current=h)},[h]),reactExports.useEffect(()=>{nt&&nt!==wt.current&&(warning$1(!dequal(nt,wt.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),wt.current=nt)},[nt]);const St=reactExports.useRef({scrollPageIntoView:Wt=>{const{dest:Ht,pageNumber:Rt,pageIndex:Ct=Rt-1}=Wt;if(_e){_e({dest:Ht,pageIndex:Ct,pageNumber:Rt});return}const Ft=Pt.current[Ct];if(Ft){Ft.scrollIntoView();return}warning$1(!1,`An internal link leading to page ${Rt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});reactExports.useImperativeHandle(s,()=>({linkService:Ot,pages:Pt,viewer:St}),[]);function _t(){ot&&ot()}function xt(){lt&&(warning$1(!1,lt.toString()),tt&&tt(lt))}function pt(){ht({type:"RESET"})}reactExports.useEffect(pt,[h,ht]);const gt=reactExports.useCallback(()=>__awaiter(this,void 0,void 0,function*(){if(!h)return null;if(typeof h=="string")return isDataURI(h)?{data:dataURItoByteString(h)}:(displayCORSWarning(),{url:h});if(h instanceof PDFDataRangeTransport)return{range:h};if(isArrayBuffer(h))return{data:h};if(isBrowser&&isBlob(h))return{data:yield loadFromFile(h)};if(invariant(typeof h=="object"),invariant(isParameterObject(h)),"url"in h&&typeof h.url=="string"){if(isDataURI(h.url)){const{url:Wt}=h,Ht=__rest$1(h,["url"]),Rt=dataURItoByteString(Wt);return Object.assign({data:Rt},Ht)}displayCORSWarning()}return h}),[h]);reactExports.useEffect(()=>{const Wt=makeCancellablePromise(gt());return Wt.promise.then(Ht=>{ht({type:"RESOLVE",value:Ht})}).catch(Ht=>{ht({type:"REJECT",error:Ht})}),()=>{cancelRunningTask(Wt)}},[gt,ht]),reactExports.useEffect(()=>{if(!(typeof mt>"u")){if(mt===!1){xt();return}_t()}},[mt]);function Et(){kt&&(st&&st(kt),Pt.current=new Array(kt.numPages),Ot.current.setDocument(kt))}function bt(){jt&&(warning$1(!1,jt.toString()),rt&&rt(jt))}function At(){vt({type:"RESET"})}reactExports.useEffect(At,[vt,mt]);function Tt(){if(!mt)return;const Wt=Object.assign(Object.assign({},nt),{isEvalSupported:!1}),Ht=Object.assign(Object.assign({},mt),Wt),Rt=pdfjs.getDocument(Ht);it&&(Rt.onProgress=it),et&&(Rt.onPassword=et);const Ct=Rt;return Ct.promise.then(Ft=>{vt({type:"RESOLVE",value:Ft})}).catch(Ft=>{Ct.destroyed||vt({type:"REJECT",error:Ft})}),()=>{Ct.destroy()}}reactExports.useEffect(Tt,[nt,vt,mt]),reactExports.useEffect(()=>{if(!(typeof kt>"u")){if(kt===!1){bt();return}Et()}},[kt]);function Nt(){Ot.current.setViewer(St.current),Ot.current.setExternalLinkRel(d),Ot.current.setExternalLinkTarget(g)}reactExports.useEffect(Nt,[d,g]);function Dt(Wt,Ht){Pt.current[Wt]=Ht}function zt(Wt){delete Pt.current[Wt]}const Yt=reactExports.useMemo(()=>({imageResourcesPath:_,linkService:Ot.current,onItemClick:_e,pdf:kt,registerPage:Dt,renderMode:at,rotate:dt,unregisterPage:zt}),[_,_e,kt,at,dt]),Xt=reactExports.useMemo(()=>makeEventProps(ut,()=>kt),[ut,kt]);function Jt(){return React.createElement(DocumentContext.Provider,{value:Yt},a)}function nn(){return h?kt==null?React.createElement(Message,{type:"loading"},typeof $=="function"?$():$):kt===!1?React.createElement(Message,{type:"error"},typeof c=="function"?c():c):Jt():React.createElement(Message,{type:"no-data"},typeof j=="function"?j():j)}return React.createElement("div",Object.assign({className:clsx("react-pdf__Document",o),ref:b,style:{"--scale-factor":"1"}},Xt),nn())}),isFunctionOrNode$1=PropTypes.oneOfType([PropTypes.func,PropTypes.node]);Document.propTypes=Object.assign(Object.assign({},eventProps),{children:PropTypes.node,className:isClassName,error:isFunctionOrNode$1,externalLinkRel:PropTypes.string,externalLinkTarget:PropTypes.oneOf(["_self","_blank","_parent","_top"]),file:isFile,imageResourcesPath:PropTypes.string,inputRef:isRef,loading:isFunctionOrNode$1,noData:isFunctionOrNode$1,onItemClick:PropTypes.func,onLoadError:PropTypes.func,onLoadProgress:PropTypes.func,onLoadSuccess:PropTypes.func,onPassword:PropTypes.func,onSourceError:PropTypes.func,onSourceSuccess:PropTypes.func,options:PropTypes.shape({canvasFactory:PropTypes.any,canvasMaxAreaInBytes:PropTypes.number,cMapPacked:PropTypes.bool,CMapReaderFactory:PropTypes.any,cMapUrl:PropTypes.string,disableAutoFetch:PropTypes.bool,disableFontFace:PropTypes.bool,disableRange:PropTypes.bool,disableStream:PropTypes.bool,docBaseUrl:PropTypes.string,enableXfa:PropTypes.bool,filterFactory:PropTypes.any,fontExtraProperties:PropTypes.bool,httpHeaders:PropTypes.object,isEvalSupported:PropTypes.bool,isOffscreenCanvasSupported:PropTypes.bool,length:PropTypes.number,maxImageSize:PropTypes.number,ownerDocument:PropTypes.any,password:PropTypes.string,pdfBug:PropTypes.bool,rangeChunkSize:PropTypes.number,StandardFontDataFactory:PropTypes.any,standardFontDataUrl:PropTypes.string,stopAtErrors:PropTypes.bool,useSystemFonts:PropTypes.bool,useWorkerFetch:PropTypes.bool,verbosity:PropTypes.number,withCredentials:PropTypes.bool,worker:PropTypes.any}),rotate:PropTypes.number});function useDocumentContext(){return reactExports.useContext(DocumentContext)}function mergeRefs$1(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var s=e.filter(Boolean);if(s.length<=1){var a=s[0];return a||null}return function(c){s.forEach(function(d){typeof d=="function"?d(c):d&&(d.current=c)})}}const PageContext=reactExports.createContext(null),PDF_ROLE_TO_HTML_ROLE={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},HEADING_PATTERN=/^H(\d+)$/;function isPdfRole(e){return e in PDF_ROLE_TO_HTML_ROLE}function isStructTreeNode(e){return"children"in e}function isStructTreeNodeWithOnlyContentChild(e){return isStructTreeNode(e)?e.children.length===1&&0 in e.children&&"id"in e.children[0]:!1}function getRoleAttributes(e){const i={};if(isStructTreeNode(e)){const{role:s}=e,a=s.match(HEADING_PATTERN);if(a)i.role="heading",i["aria-level"]=Number(a[1]);else if(isPdfRole(s)){const o=PDF_ROLE_TO_HTML_ROLE[s];o&&(i.role=o)}}return i}function getBaseAttributes(e){const i={};if(isStructTreeNode(e)){if(e.alt!==void 0&&(i["aria-label"]=e.alt),e.lang!==void 0&&(i.lang=e.lang),isStructTreeNodeWithOnlyContentChild(e)){const[s]=e.children;if(s){const a=getBaseAttributes(s);return Object.assign(Object.assign({},i),a)}}}else"id"in e&&(i["aria-owns"]=e.id);return i}function getAttributes(e){return e?Object.assign(Object.assign({},getRoleAttributes(e)),getBaseAttributes(e)):null}function StructTreeItem({className:e,node:i}){const s=reactExports.useMemo(()=>getAttributes(i),[i]),a=reactExports.useMemo(()=>!isStructTreeNode(i)||isStructTreeNodeWithOnlyContentChild(i)?null:i.children.map((o,c)=>React.createElement(StructTreeItem,{key:c,node:o})),[i]);return React.createElement("span",Object.assign({className:e},s),a)}function usePageContext(){return reactExports.useContext(PageContext)}function StructTree(){const e=usePageContext();invariant(e);const{onGetStructTreeError:i,onGetStructTreeSuccess:s}=e,[a,o]=useResolver(),{value:c,error:d}=a,{customTextRenderer:g,page:h}=e;function b(){c&&s&&s(c)}function _(){d&&(warning$1(!1,d.toString()),i&&i(d))}function $(){o({type:"RESET"})}reactExports.useEffect($,[o,h]);function j(){if(g||!h)return;const _e=makeCancellablePromise(h.getStructTree()),rt=_e;return _e.promise.then(it=>{o({type:"RESOLVE",value:it})}).catch(it=>{o({type:"REJECT",error:it})}),()=>cancelRunningTask(rt)}return reactExports.useEffect(j,[g,h,o]),reactExports.useEffect(()=>{if(c!==void 0){if(c===!1){_();return}b()}},[c]),c?React.createElement(StructTreeItem,{className:"react-pdf__Page__structTree structTree",node:c}):null}const ANNOTATION_MODE=pdfjs.AnnotationMode;function PageCanvas(e){const i=usePageContext();invariant(i);const s=Object.assign(Object.assign({},i),e),{_className:a,canvasBackground:o,devicePixelRatio:c=getDevicePixelRatio(),onRenderError:d,onRenderSuccess:g,page:h,renderForms:b,renderTextLayer:_,rotate:$,scale:j}=s,{canvasRef:_e}=e;invariant(h);const rt=reactExports.useRef(null);function it(){h&&g&&g(makePageCallback(h,j))}function st(at){isCancelException(at)||(warning$1(!1,at.toString()),d&&d(at))}const et=reactExports.useMemo(()=>h.getViewport({scale:j*c,rotation:$}),[c,h,$,j]),tt=reactExports.useMemo(()=>h.getViewport({scale:j,rotation:$}),[h,$,j]);function ot(){if(!h)return;h.cleanup();const{current:at}=rt;if(!at)return;at.width=et.width,at.height=et.height,at.style.width=`${Math.floor(tt.width)}px`,at.style.height=`${Math.floor(tt.height)}px`,at.style.visibility="hidden";const dt={annotationMode:b?ANNOTATION_MODE.ENABLE_FORMS:ANNOTATION_MODE.ENABLE,canvasContext:at.getContext("2d",{alpha:!1}),viewport:et};o&&(dt.background=o);const ut=h.render(dt),ct=ut;return ut.promise.then(()=>{at.style.visibility="",it()}).catch(st),()=>cancelRunningTask(ct)}reactExports.useEffect(ot,[o,rt,c,h,b,et,tt]);const nt=reactExports.useCallback(()=>{const{current:at}=rt;at&&(at.width=0,at.height=0)},[rt]);return reactExports.useEffect(()=>nt,[nt]),React.createElement("canvas",{className:`${a}__canvas`,dir:"ltr",ref:mergeRefs$1(_e,rt),style:{display:"block",userSelect:"none"}},_?React.createElement(StructTree,null):null)}function PageSVG(){const e=usePageContext();invariant(e);const{_className:i,onRenderSuccess:s,onRenderError:a,page:o,rotate:c,scale:d}=e;invariant(o);const[g,h]=useResolver(),{value:b,error:_}=g;function $(){o&&s&&s(makePageCallback(o,d))}function j(){_&&(isCancelException(_)||(warning$1(!1,_.toString()),a&&a(_)))}const _e=reactExports.useMemo(()=>o.getViewport({scale:d,rotation:c}),[o,c,d]);function rt(){h({type:"RESET"})}reactExports.useEffect(rt,[o,h,_e]);function it(){if(!o)return;const ot=makeCancellablePromise(o.getOperatorList());return ot.promise.then(nt=>{new pdfjs.SVGGraphics(o.commonObjs,o.objs).getSVG(nt,_e).then(dt=>{if(!(dt instanceof SVGElement))throw new Error("getSVG returned unexpected result.");h({type:"RESOLVE",value:dt})}).catch(dt=>{h({type:"REJECT",error:dt})})}).catch(nt=>{h({type:"REJECT",error:nt})}),()=>cancelRunningTask(ot)}reactExports.useEffect(it,[o,h,_e]),reactExports.useEffect(()=>{if(b!==void 0){if(b===!1){j();return}$()}},[b]);function st(ot){if(!ot||!b)return;ot.firstElementChild||ot.appendChild(b);const{width:nt,height:at}=_e;b.setAttribute("width",`${nt}`),b.setAttribute("height",`${at}`)}const{width:et,height:tt}=_e;return React.createElement("div",{className:`${i}__svg`,ref:ot=>st(ot),style:{display:"block",backgroundColor:"white",overflow:"hidden",width:et,height:tt,userSelect:"none"}})}function isTextItem(e){return"str"in e}function TextLayer(){const e=usePageContext();invariant(e);const{customTextRenderer:i,onGetTextError:s,onGetTextSuccess:a,onRenderTextLayerError:o,onRenderTextLayerSuccess:c,page:d,pageIndex:g,pageNumber:h,rotate:b,scale:_}=e;invariant(d);const[$,j]=useResolver(),{value:_e,error:rt}=$,it=reactExports.useRef(null),st=reactExports.useRef();warning$1(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function et(){_e&&a&&a(_e)}function tt(){rt&&(warning$1(!1,rt.toString()),s&&s(rt))}function ot(){j({type:"RESET"})}reactExports.useEffect(ot,[d,j]);function nt(){if(!d)return;const lt=makeCancellablePromise(d.getTextContent()),ft=lt;return lt.promise.then(vt=>{j({type:"RESOLVE",value:vt})}).catch(vt=>{j({type:"REJECT",error:vt})}),()=>cancelRunningTask(ft)}reactExports.useEffect(nt,[d,j]),reactExports.useEffect(()=>{if(_e!==void 0){if(_e===!1){tt();return}et()}},[_e]);const at=reactExports.useCallback(()=>{c&&c()},[c]),dt=reactExports.useCallback(lt=>{warning$1(!1,lt.toString()),o&&o(lt)},[o]);function ut(){const lt=st.current;lt&&lt.classList.add("active")}function ct(){const lt=st.current;lt&&lt.classList.remove("active")}const ht=reactExports.useMemo(()=>d.getViewport({scale:_,rotation:b}),[d,b,_]);function mt(){if(!d||!_e)return;const{current:lt}=it;if(!lt)return;lt.innerHTML="";const ft=d.streamTextContent({includeMarkedContent:!0}),vt={container:lt,textContentSource:ft,viewport:ht},kt=pdfjs.renderTextLayer(vt),jt=kt;return kt.promise.then(()=>{const Ot=document.createElement("div");Ot.className="endOfContent",lt.append(Ot),st.current=Ot;const Pt=lt.querySelectorAll('[role="presentation"]');if(i){let Lt=0;_e.items.forEach((wt,St)=>{if(!isTextItem(wt))return;const _t=Pt[Lt];if(!_t)return;const xt=i(Object.assign({pageIndex:g,pageNumber:h,itemIndex:St},wt));_t.innerHTML=xt,Lt+=wt.str&&wt.hasEOL?2:1})}at()}).catch(dt),()=>cancelRunningTask(jt)}return reactExports.useLayoutEffect(mt,[i,dt,at,d,g,h,_e,ht]),React.createElement("div",{className:clsx("react-pdf__Page__textContent","textLayer"),onMouseUp:ct,onMouseDown:ut,ref:it})}function AnnotationLayer(){const e=useDocumentContext(),i=usePageContext();invariant(i);const s=Object.assign(Object.assign({},e),i),{imageResourcesPath:a,linkService:o,onGetAnnotationsError:c,onGetAnnotationsSuccess:d,onRenderAnnotationLayerError:g,onRenderAnnotationLayerSuccess:h,page:b,pdf:_,renderForms:$,rotate:j,scale:_e=1}=s;invariant(_),invariant(b),invariant(o);const[rt,it]=useResolver(),{value:st,error:et}=rt,tt=reactExports.useRef(null);warning$1(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function ot(){st&&d&&d(st)}function nt(){et&&(warning$1(!1,et.toString()),c&&c(et))}function at(){it({type:"RESET"})}reactExports.useEffect(at,[it,b]);function dt(){if(!b)return;const lt=makeCancellablePromise(b.getAnnotations()),ft=lt;return lt.promise.then(vt=>{it({type:"RESOLVE",value:vt})}).catch(vt=>{it({type:"REJECT",error:vt})}),()=>{cancelRunningTask(ft)}}reactExports.useEffect(dt,[it,b,$]),reactExports.useEffect(()=>{if(st!==void 0){if(st===!1){nt();return}ot()}},[st]);function ut(){h&&h()}function ct(lt){warning$1(!1,`${lt}`),g&&g(lt)}const ht=reactExports.useMemo(()=>b.getViewport({scale:_e,rotation:j}),[b,j,_e]);function mt(){if(!_||!b||!o||!st)return;const{current:lt}=tt;if(!lt)return;const ft=ht.clone({dontFlip:!0}),vt={accessibilityManager:null,annotationCanvasMap:null,div:lt,l10n:null,page:b,viewport:ft},kt={annotations:st,annotationStorage:_.annotationStorage,div:lt,downloadManager:null,imageResourcesPath:a,linkService:o,page:b,renderForms:$,viewport:ft};lt.innerHTML="";try{new pdfjs.AnnotationLayer(vt).render(kt),ut()}catch(jt){ct(jt)}return()=>{}}return reactExports.useEffect(mt,[st,a,o,b,$,ht]),React.createElement("div",{className:clsx("react-pdf__Page__annotations","annotationLayer"),ref:tt})}var __rest=function(e,i){var s={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&i.indexOf(a)<0&&(s[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)i.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(s[a[o]]=e[a[o]]);return s};const defaultScale=1,Page=function e(i){const s=useDocumentContext(),a=Object.assign(Object.assign({},s),i),{_className:o="react-pdf__Page",_enableRegisterUnregisterPage:c=!0,canvasBackground:d,canvasRef:g,children:h,className:b,customRenderer:_,customTextRenderer:$,devicePixelRatio:j,error:_e="Failed to load the page.",height:rt,inputRef:it,loading:st="Loading page",noData:et="No page specified.",onGetAnnotationsError:tt,onGetAnnotationsSuccess:ot,onGetStructTreeError:nt,onGetStructTreeSuccess:at,onGetTextError:dt,onGetTextSuccess:ut,onLoadError:ct,onLoadSuccess:ht,onRenderAnnotationLayerError:mt,onRenderAnnotationLayerSuccess:lt,onRenderError:ft,onRenderSuccess:vt,onRenderTextLayerError:kt,onRenderTextLayerSuccess:jt,pageIndex:Ot,pageNumber:Pt,pdf:Lt,registerPage:wt,renderAnnotationLayer:St=!0,renderForms:_t=!1,renderMode:xt="canvas",renderTextLayer:pt=!0,rotate:gt,scale:Et=defaultScale,unregisterPage:bt,width:At}=a,Tt=__rest(a,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Nt,Dt]=useResolver(),{value:zt,error:Yt}=Nt,Xt=reactExports.useRef(null);invariant(Lt);const Jt=isProvided(Pt)?Pt-1:Ot??null,nn=Pt??(isProvided(Ot)?Ot+1:null),Wt=gt??(zt?zt.rotate:null),Ht=reactExports.useMemo(()=>{if(!zt)return null;let wn=1;const Pn=Et??defaultScale;if(At||rt){const Ln=zt.getViewport({scale:1,rotation:Wt});At?wn=At/Ln.width:rt&&(wn=rt/Ln.height)}return Pn*wn},[rt,zt,Wt,Et,At]);function Rt(){return()=>{isProvided(Jt)&&c&&bt&&bt(Jt)}}reactExports.useEffect(Rt,[c,Lt,Jt,bt]);function Ct(){if(ht){if(!zt||!Ht)return;ht(makePageCallback(zt,Ht))}if(c&&wt){if(!isProvided(Jt)||!Xt.current)return;wt(Jt,Xt.current)}}function Ft(){Yt&&(warning$1(!1,Yt.toString()),ct&&ct(Yt))}function Bt(){Dt({type:"RESET"})}reactExports.useEffect(Bt,[Dt,Lt,Jt]);function Ut(){if(!Lt||!nn)return;const wn=makeCancellablePromise(Lt.getPage(nn)),Pn=wn;return wn.promise.then(Ln=>{Dt({type:"RESOLVE",value:Ln})}).catch(Ln=>{Dt({type:"REJECT",error:Ln})}),()=>cancelRunningTask(Pn)}reactExports.useEffect(Ut,[Dt,Lt,Jt,nn,wt]),reactExports.useEffect(()=>{if(zt!==void 0){if(zt===!1){Ft();return}Ct()}},[zt,Ht]);const rn=reactExports.useMemo(()=>zt&&isProvided(Jt)&&nn&&isProvided(Wt)&&isProvided(Ht)?{_className:o,canvasBackground:d,customTextRenderer:$,devicePixelRatio:j,onGetAnnotationsError:tt,onGetAnnotationsSuccess:ot,onGetStructTreeError:nt,onGetStructTreeSuccess:at,onGetTextError:dt,onGetTextSuccess:ut,onRenderAnnotationLayerError:mt,onRenderAnnotationLayerSuccess:lt,onRenderError:ft,onRenderSuccess:vt,onRenderTextLayerError:kt,onRenderTextLayerSuccess:jt,page:zt,pageIndex:Jt,pageNumber:nn,renderForms:_t,renderTextLayer:pt,rotate:Wt,scale:Ht}:null,[o,d,$,j,tt,ot,nt,at,dt,ut,mt,lt,ft,vt,kt,jt,zt,Jt,nn,_t,pt,Wt,Ht]),tn=reactExports.useMemo(()=>makeEventProps(Tt,()=>zt&&(Ht?makePageCallback(zt,Ht):void 0)),[Tt,zt,Ht]),qt=`${Jt}@${Ht}/${Wt}`,hn=`${Jt}/${Wt}`;function dn(){switch(xt){case"custom":return invariant(_),React.createElement(_,{key:`${qt}_custom`});case"none":return null;case"svg":return React.createElement(PageSVG,{key:`${hn}_svg`});case"canvas":default:return React.createElement(PageCanvas,{key:`${qt}_canvas`,canvasRef:g})}}function yn(){return pt?React.createElement(TextLayer,{key:`${qt}_text`}):null}function jn(){return St?React.createElement(AnnotationLayer,{key:`${qt}_annotations`}):null}function kn(){return React.createElement(PageContext.Provider,{value:rn},dn(),yn(),jn(),h)}function mn(){return nn?Lt===null||zt===void 0||zt===null?React.createElement(Message,{type:"loading"},typeof st=="function"?st():st):Lt===!1||zt===!1?React.createElement(Message,{type:"error"},typeof _e=="function"?_e():_e):kn():React.createElement(Message,{type:"no-data"},typeof et=="function"?et():et)}return React.createElement("div",Object.assign({className:clsx(o,b),"data-page-number":nn,ref:mergeRefs$1(it,Xt),style:{"--scale-factor":`${Ht}`,backgroundColor:d||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},tn),mn())},isFunctionOrNode=PropTypes.oneOfType([PropTypes.func,PropTypes.node]);Page.propTypes=Object.assign(Object.assign({},eventProps),{canvasBackground:PropTypes.string,canvasRef:isRef,children:PropTypes.node,className:isClassName,customRenderer:PropTypes.func,customTextRenderer:PropTypes.func,devicePixelRatio:PropTypes.number,error:isFunctionOrNode,height:PropTypes.number,imageResourcesPath:PropTypes.string,inputRef:isRef,loading:isFunctionOrNode,noData:isFunctionOrNode,onGetTextError:PropTypes.func,onGetTextSuccess:PropTypes.func,onLoadError:PropTypes.func,onLoadSuccess:PropTypes.func,onRenderError:PropTypes.func,onRenderSuccess:PropTypes.func,onRenderTextLayerError:PropTypes.func,onRenderTextLayerSuccess:PropTypes.func,pageIndex:isPageIndex,pageNumber:isPageNumber,pdf:isPdf,renderAnnotationLayer:PropTypes.bool,renderForms:PropTypes.bool,renderMode:isRenderMode,renderTextLayer:PropTypes.bool,rotate:isRotate,scale:PropTypes.number,width:PropTypes.number});displayWorkerWarning();pdfjs.GlobalWorkerOptions.workerSrc="pdf.worker.js";var roundNumber=function(e,i){return Number(e.toFixed(i))},checkIsNumber=function(e,i){return i},handleCallback=function(e,i,s){s&&typeof s=="function"&&s(e,i)},easeOut=function(e){return-Math.cos(e*Math.PI)/2+.5},linear=function(e){return e},easeInQuad=function(e){return e*e},easeOutQuad=function(e){return e*(2-e)},easeInOutQuad=function(e){return e<.5?2*e*e:-1+(4-2*e)*e},easeInCubic=function(e){return e*e*e},easeOutCubic=function(e){return--e*e*e+1},easeInOutCubic=function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart=function(e){return e*e*e*e},easeOutQuart=function(e){return 1- --e*e*e*e},easeInOutQuart=function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint=function(e){return e*e*e*e*e},easeOutQuint=function(e){return 1+--e*e*e*e*e},easeInOutQuint=function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e},animations={easeOut,linear,easeInQuad,easeOutQuad,easeInOutQuad,easeInCubic,easeOutCubic,easeInOutCubic,easeInQuart,easeOutQuart,easeInOutQuart,easeInQuint,easeOutQuint,easeInOutQuint},handleCancelAnimationFrame=function(e){typeof e=="number"&&cancelAnimationFrame(e)},handleCancelAnimation=function(e){e.mounted&&(handleCancelAnimationFrame(e.animation),e.animate=!1,e.animation=null,e.velocity=null)};function handleSetupAnimation(e,i,s,a){if(e.mounted){var o=new Date().getTime(),c=1;handleCancelAnimation(e),e.animation=function(){if(!e.mounted)return handleCancelAnimationFrame(e.animation);var d=new Date().getTime()-o,g=d/s,h=animations[i],b=h(g);d>=s?(a(c),e.animation=null):e.animation&&(a(b),requestAnimationFrame(e.animation))},requestAnimationFrame(e.animation)}}function isValidTargetState(e){var i=e.scale,s=e.positionX,a=e.positionY;return!(Number.isNaN(i)||Number.isNaN(s)||Number.isNaN(a))}function animate(e,i,s,a){var o=isValidTargetState(i);if(!(!e.mounted||!o)){var c=e.setTransformState,d=e.transformState,g=d.scale,h=d.positionX,b=d.positionY,_=i.scale-g,$=i.positionX-h,j=i.positionY-b;s===0?c(i.scale,i.positionX,i.positionY):handleSetupAnimation(e,a,s,function(_e){var rt=g+_*_e,it=h+$*_e,st=b+j*_e;c(rt,it,st)})}}function getComponentsSizes(e,i,s){var a=e.offsetWidth,o=e.offsetHeight,c=i.offsetWidth,d=i.offsetHeight,g=c*s,h=d*s,b=a-g,_=o-h;return{wrapperWidth:a,wrapperHeight:o,newContentWidth:g,newDiffWidth:b,newContentHeight:h,newDiffHeight:_}}var getBounds=function(e,i,s,a,o,c,d){var g=e>i?s*(d?1:.5):0,h=a>o?c*(d?1:.5):0,b=e-i-g,_=g,$=a-o-h,j=h;return{minPositionX:b,maxPositionX:_,minPositionY:$,maxPositionY:j}},calculateBounds=function(e,i){var s=e.wrapperComponent,a=e.contentComponent,o=e.setup.centerZoomedOut;if(!s||!a)throw new Error("Components are not mounted");var c=getComponentsSizes(s,a,i),d=c.wrapperWidth,g=c.wrapperHeight,h=c.newContentWidth,b=c.newDiffWidth,_=c.newContentHeight,$=c.newDiffHeight,j=getBounds(d,h,b,g,_,$,!!o);return j},boundLimiter=function(e,i,s,a){return a?e<i?roundNumber(i,2):e>s?roundNumber(s,2):roundNumber(e,2):roundNumber(e,2)},handleCalculateBounds=function(e,i){var s=calculateBounds(e,i);return e.bounds=s,s};function getMouseBoundedPosition(e,i,s,a,o,c,d){var g=s.minPositionX,h=s.minPositionY,b=s.maxPositionX,_=s.maxPositionY,$=0,j=0;d&&($=o,j=c);var _e=boundLimiter(e,g-$,b+$,a),rt=boundLimiter(i,h-j,_+j,a);return{x:_e,y:rt}}function handleCalculateZoomPositions(e,i,s,a,o,c){var d=e.transformState,g=d.scale,h=d.positionX,b=d.positionY,_=a-g;if(typeof i!="number"||typeof s!="number")return console.error("Mouse X and Y position were not provided!"),{x:h,y:b};var $=h-i*_,j=b-s*_,_e=getMouseBoundedPosition($,j,o,c,0,0,null);return _e}function checkZoomBounds(e,i,s,a,o){var c=o?a:0,d=i-c;return!Number.isNaN(s)&&e>=s?s:!Number.isNaN(i)&&e<=d?d:e}var isPanningStartAllowed=function(e,i){var s=e.setup.panning.excluded,a=e.isInitialized,o=e.wrapperComponent,c=i.target,d="shadowRoot"in c&&"composedPath"in i,g=d?i.composedPath().some(function(_){return _ instanceof Element?o==null?void 0:o.contains(_):!1}):o==null?void 0:o.contains(c),h=a&&c&&g;if(!h)return!1;var b=isExcludedNode(c,s);return!b},isPanningAllowed=function(e){var i=e.isInitialized,s=e.isPanning,a=e.setup,o=a.panning.disabled,c=i&&s&&!o;return!!c},handlePanningSetup=function(e,i){var s=e.transformState,a=s.positionX,o=s.positionY;e.isPanning=!0;var c=i.clientX,d=i.clientY;e.startCoords={x:c-a,y:d-o}},handleTouchPanningSetup=function(e,i){var s=i.touches,a=e.transformState,o=a.positionX,c=a.positionY;e.isPanning=!0;var d=s.length===1;if(d){var g=s[0].clientX,h=s[0].clientY;e.startCoords={x:g-o,y:h-c}}};function handlePanToBounds(e){var i=e.transformState,s=i.positionX,a=i.positionY,o=i.scale,c=e.setup,d=c.disabled,g=c.limitToBounds,h=c.centerZoomedOut,b=e.wrapperComponent;if(!(d||!b||!e.bounds)){var _=e.bounds,$=_.maxPositionX,j=_.minPositionX,_e=_.maxPositionY,rt=_.minPositionY,it=s>$||s<j,st=a>_e||a<rt,et=s>$?b.offsetWidth:e.setup.minPositionX||0,tt=a>_e?b.offsetHeight:e.setup.minPositionY||0,ot=handleCalculateZoomPositions(e,et,tt,o,e.bounds,g||h),nt=ot.x,at=ot.y;return{scale:o,positionX:it?nt:s,positionY:st?at:a}}}function handleNewPosition(e,i,s,a,o){var c=e.setup.limitToBounds,d=e.wrapperComponent,g=e.bounds,h=e.transformState,b=h.scale,_=h.positionX,$=h.positionY;if(!(d===null||g===null||i===_&&s===$)){var j=getMouseBoundedPosition(i,s,g,c,a,o,d),_e=j.x,rt=j.y;e.setTransformState(b,_e,rt)}}var getPanningClientPosition=function(e,i,s){var a=e.startCoords,o=e.transformState,c=e.setup.panning,d=c.lockAxisX,g=c.lockAxisY,h=o.positionX,b=o.positionY;if(!a)return{x:h,y:b};var _=i-a.x,$=s-a.y,j=d?h:_,_e=g?b:$;return{x:j,y:_e}},getPaddingValue=function(e,i){var s=e.setup,a=e.transformState,o=a.scale,c=s.minScale,d=s.disablePadding;return i>0&&o>=c&&!d?i:0},isVelocityCalculationAllowed=function(e){var i=e.mounted,s=e.setup,a=s.disabled,o=s.velocityAnimation,c=e.transformState.scale,d=o.disabled,g=!d||c>1||!a||i;return!!g},isVelocityAllowed=function(e){var i=e.mounted,s=e.velocity,a=e.bounds,o=e.setup,c=o.disabled,d=o.velocityAnimation,g=e.transformState.scale,h=d.disabled,b=!h||g>1||!c||i;return!(!b||!s||!a)};function getVelocityMoveTime(e,i){var s=e.setup.velocityAnimation,a=s.equalToMove,o=s.animationTime,c=s.sensitivity;return a?o*i*c:o}function getVelocityPosition(e,i,s,a,o,c,d,g,h,b){if(o){if(i>d&&s>d){var _=d+(e-d)*b;return _>h?h:_<d?d:_}if(i<c&&s<c){var _=c+(e-c)*b;return _<g?g:_>c?c:_}}return a?i:boundLimiter(e,c,d,o)}function getSizeMultiplier(e,i){var s=1;return i?Math.min(s,e.offsetWidth/window.innerWidth):s}function handleCalculateVelocity(e,i){var s=isVelocityCalculationAllowed(e);if(s){var a=e.lastMousePosition,o=e.velocityTime,c=e.setup,d=e.wrapperComponent,g=c.velocityAnimation.equalToMove,h=Date.now();if(a&&o&&d){var b=getSizeMultiplier(d,g),_=i.x-a.x,$=i.y-a.y,j=_/b,_e=$/b,rt=h-o,it=_*_+$*$,st=Math.sqrt(it)/rt;e.velocity={velocityX:j,velocityY:_e,total:st}}e.lastMousePosition=i,e.velocityTime=h}}function handleVelocityPanning(e){var i=e.velocity,s=e.bounds,a=e.setup,o=e.wrapperComponent,c=isVelocityAllowed(e);if(!(!c||!i||!s||!o)){var d=i.velocityX,g=i.velocityY,h=i.total,b=s.maxPositionX,_=s.minPositionX,$=s.maxPositionY,j=s.minPositionY,_e=a.limitToBounds,rt=a.alignmentAnimation,it=a.zoomAnimation,st=a.panning,et=st.lockAxisY,tt=st.lockAxisX,ot=it.animationType,nt=rt.sizeX,at=rt.sizeY,dt=rt.velocityAlignmentTime,ut=dt,ct=getVelocityMoveTime(e,h),ht=Math.max(ct,ut),mt=getPaddingValue(e,nt),lt=getPaddingValue(e,at),ft=mt*o.offsetWidth/100,vt=lt*o.offsetHeight/100,kt=b+ft,jt=_-ft,Ot=$+vt,Pt=j-vt,Lt=e.transformState,wt=new Date().getTime();handleSetupAnimation(e,ot,ht,function(St){var _t=e.transformState,xt=_t.scale,pt=_t.positionX,gt=_t.positionY,Et=new Date().getTime()-wt,bt=Et/ut,At=animations[rt.animationType],Tt=1-At(Math.min(1,bt)),Nt=1-St,Dt=pt+d*Nt,zt=gt+g*Nt,Yt=getVelocityPosition(Dt,Lt.positionX,pt,tt,_e,_,b,jt,kt,Tt),Xt=getVelocityPosition(zt,Lt.positionY,gt,et,_e,j,$,Pt,Ot,Tt);(pt!==Dt||gt!==zt)&&e.setTransformState(xt,Yt,Xt)})}}function handlePanningStart(e,i){var s=e.transformState.scale;handleCancelAnimation(e),handleCalculateBounds(e,s),window.TouchEvent!==void 0&&i instanceof TouchEvent?handleTouchPanningSetup(e,i):handlePanningSetup(e,i)}function handleAlignToBounds(e){var i=e.transformState.scale,s=e.setup,a=s.minScale,o=s.alignmentAnimation,c=o.disabled,d=o.sizeX,g=o.sizeY,h=o.animationTime,b=o.animationType,_=c||i<a||!d&&!g;if(!_){var $=handlePanToBounds(e);$&&animate(e,$,h,b)}}function handlePanning(e,i,s){var a=e.startCoords,o=e.setup,c=o.alignmentAnimation,d=c.sizeX,g=c.sizeY;if(a){var h=getPanningClientPosition(e,i,s),b=h.x,_=h.y,$=getPaddingValue(e,d),j=getPaddingValue(e,g);handleCalculateVelocity(e,{x:b,y:_}),handleNewPosition(e,b,_,$,j)}}function handlePanningEnd(e){if(e.isPanning){var i=e.setup.panning.velocityDisabled,s=e.velocity,a=e.wrapperComponent,o=e.contentComponent;e.isPanning=!1,e.animate=!1,e.animation=null;var c=a==null?void 0:a.getBoundingClientRect(),d=o==null?void 0:o.getBoundingClientRect(),g=(c==null?void 0:c.width)||0,h=(c==null?void 0:c.height)||0,b=(d==null?void 0:d.width)||0,_=(d==null?void 0:d.height)||0,$=g<b||h<_,j=!i&&s&&(s==null?void 0:s.total)>.1&&$;j?handleVelocityPanning(e):handleAlignToBounds(e)}}function handleZoomToPoint(e,i,s,a){var o=e.setup,c=o.minScale,d=o.maxScale,g=o.limitToBounds,h=checkZoomBounds(roundNumber(i,2),c,d,0,!1),b=handleCalculateBounds(e,h),_=handleCalculateZoomPositions(e,s,a,h,b,g),$=_.x,j=_.y;return{scale:h,positionX:$,positionY:j}}function handleAlignToScaleBounds(e,i,s){var a=e.transformState.scale,o=e.wrapperComponent,c=e.setup,d=c.minScale,g=c.limitToBounds,h=c.zoomAnimation,b=h.disabled,_=h.animationTime,$=h.animationType,j=b||a>=d;if((a>=1||g)&&handleAlignToBounds(e),!(j||!o||!e.mounted)){var _e=i||o.offsetWidth/2,rt=s||o.offsetHeight/2,it=handleZoomToPoint(e,d,_e,rt);it&&animate(e,it,_,$)}}var __assign$1=function(){return __assign$1=Object.assign||function(i){for(var s,a=1,o=arguments.length;a<o;a++){s=arguments[a];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(i[c]=s[c])}return i},__assign$1.apply(this,arguments)};function __spreadArray(e,i,s){for(var a=0,o=i.length,c;a<o;a++)(c||!(a in i))&&(c||(c=Array.prototype.slice.call(i,0,a)),c[a]=i[a]);return e.concat(c||Array.prototype.slice.call(i))}var initialState={previousScale:1,scale:1,positionX:0,positionY:0},initialSetup={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,disablePadding:!1,smooth:!0,wheel:{step:.2,disabled:!1,smoothStep:.001,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,allowLeftClickPan:!0,allowMiddleClickPan:!0,allowRightClickPan:!0,wheelPanning:!1,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}},baseClasses={wrapperClass:"react-transform-wrapper",contentClass:"react-transform-component"},createState=function(e){var i,s,a,o;return{previousScale:(i=e.initialScale)!==null&&i!==void 0?i:initialState.scale,scale:(s=e.initialScale)!==null&&s!==void 0?s:initialState.scale,positionX:(a=e.initialPositionX)!==null&&a!==void 0?a:initialState.positionX,positionY:(o=e.initialPositionY)!==null&&o!==void 0?o:initialState.positionY}},createSetup=function(e){var i=__assign$1({},initialSetup);return Object.keys(e).forEach(function(s){var a=typeof e[s]<"u",o=typeof initialSetup[s]<"u";if(o&&a){var c=Object.prototype.toString.call(initialSetup[s]),d=c==="[object Object]",g=c==="[object Array]";d?i[s]=__assign$1(__assign$1({},initialSetup[s]),e[s]):g?i[s]=__spreadArray(__spreadArray([],initialSetup[s],!0),e[s]):i[s]=e[s]}}),i},handleCalculateButtonZoom=function(e,i,s){var a=e.transformState.scale,o=e.wrapperComponent,c=e.setup,d=c.maxScale,g=c.minScale,h=c.zoomAnimation,b=c.smooth,_=h.size;if(!o)throw new Error("Wrapper is not mounted");var $=b?a*Math.exp(i*s):a+i*s,j=checkZoomBounds(roundNumber($,3),g,d,_,!1);return j};function handleZoomToViewCenter(e,i,s,a,o){var c=e.wrapperComponent,d=e.transformState,g=d.scale,h=d.positionX,b=d.positionY;if(!c)return console.error("No WrapperComponent found");var _=c.offsetWidth,$=c.offsetHeight,j=(_/2-h)/g,_e=($/2-b)/g,rt=handleCalculateButtonZoom(e,i,s),it=handleZoomToPoint(e,rt,j,_e);if(!it)return console.error("Error during zoom event. New transformation state was not calculated.");animate(e,it,a,o)}function resetTransformations(e,i,s,a){var o=e.setup,c=e.wrapperComponent,d=o.limitToBounds,g=createState(e.props),h=e.transformState,b=h.scale,_=h.positionX,$=h.positionY;if(c){var j=calculateBounds(e,g.scale),_e=getMouseBoundedPosition(g.positionX,g.positionY,j,d,0,0,c),rt={scale:g.scale,positionX:_e.x,positionY:_e.y};b===g.scale&&_===g.positionX&&$===g.positionY||(a==null||a(),animate(e,rt,i,s))}}function getOffset(e,i,s,a){var o=e.getBoundingClientRect(),c=i.getBoundingClientRect(),d=s.getBoundingClientRect(),g=c.x*a.scale,h=c.y*a.scale;return{x:(o.x-d.x+g)/a.scale,y:(o.y-d.y+h)/a.scale}}function calculateZoomToNode(e,i,s){var a=e.wrapperComponent,o=e.contentComponent,c=e.transformState,d=e.setup,g=d.limitToBounds,h=d.minScale,b=d.maxScale;if(!a||!o)return c;var _=a.getBoundingClientRect(),$=i.getBoundingClientRect(),j=getOffset(i,a,o,c),_e=j.x,rt=j.y,it=$.width/c.scale,st=$.height/c.scale,et=a.offsetWidth/it,tt=a.offsetHeight/st,ot=checkZoomBounds(s||Math.min(et,tt),h,b,0,!1),nt=(_.width-it*ot)/2,at=(_.height-st*ot)/2,dt=(_.left-_e)*ot+nt,ut=(_.top-rt)*ot+at,ct=calculateBounds(e,ot),ht=getMouseBoundedPosition(dt,ut,ct,g,0,0,a),mt=ht.x,lt=ht.y;return{positionX:mt,positionY:lt,scale:ot}}var zoomIn=function(e){return function(i,s,a){i===void 0&&(i=.5),s===void 0&&(s=300),a===void 0&&(a="easeOut"),handleZoomToViewCenter(e,1,i,s,a)}},zoomOut=function(e){return function(i,s,a){i===void 0&&(i=.5),s===void 0&&(s=300),a===void 0&&(a="easeOut"),handleZoomToViewCenter(e,-1,i,s,a)}},setTransform=function(e){return function(i,s,a,o,c){o===void 0&&(o=300),c===void 0&&(c="easeOut");var d=e.transformState,g=d.positionX,h=d.positionY,b=d.scale,_=e.wrapperComponent,$=e.contentComponent,j=e.setup.disabled;if(!(j||!_||!$)){var _e={positionX:Number.isNaN(i)?g:i,positionY:Number.isNaN(s)?h:s,scale:Number.isNaN(a)?b:a};animate(e,_e,o,c)}}},resetTransform=function(e){return function(i,s){i===void 0&&(i=200),s===void 0&&(s="easeOut"),resetTransformations(e,i,s)}},centerView=function(e){return function(i,s,a){s===void 0&&(s=200),a===void 0&&(a="easeOut");var o=e.transformState,c=e.wrapperComponent,d=e.contentComponent;if(c&&d){var g=getCenterPosition(i||o.scale,c,d);animate(e,g,s,a)}}},zoomToElement=function(e){return function(i,s,a,o){a===void 0&&(a=600),o===void 0&&(o="easeOut"),handleCancelAnimation(e);var c=e.wrapperComponent,d=typeof i=="string"?document.getElementById(i):i;if(c&&d&&c.contains(d)){var g=calculateZoomToNode(e,d,s);animate(e,g,a,o)}}},getControls=function(e){return{instance:e,zoomIn:zoomIn(e),zoomOut:zoomOut(e),setTransform:setTransform(e),resetTransform:resetTransform(e),centerView:centerView(e),zoomToElement:zoomToElement(e)}},getState=function(e){return{instance:e,state:e.transformState}},getContext=function(e){var i={};return Object.assign(i,getState(e)),Object.assign(i,getControls(e)),i},passiveSupported=!1;function makePassiveEventOption(){try{var e={get passive(){return passiveSupported=!0,!1}};return e}catch{return passiveSupported=!1,passiveSupported}}var matchPrefix=".".concat(baseClasses.wrapperClass),isExcludedNode=function(e,i){return i.some(function(s){return e.matches("".concat(matchPrefix," ").concat(s,", ").concat(matchPrefix," .").concat(s,", ").concat(matchPrefix," ").concat(s," *, ").concat(matchPrefix," .").concat(s," *"))})},cancelTimeout=function(e){e&&clearTimeout(e)},getTransformStyles=function(e,i,s){return"translate(".concat(e,"px, ").concat(i,"px) scale(").concat(s,")")},getCenterPosition=function(e,i,s){var a=s.offsetWidth*e,o=s.offsetHeight*e,c=(i.offsetWidth-a)/2,d=(i.offsetHeight-o)/2;return{scale:e,positionX:c,positionY:d}};function mergeRefs(e){return function(i){e.forEach(function(s){typeof s=="function"?s(i):s!=null&&(s.current=i)})}}var isWheelAllowed=function(e,i){var s=e.setup.wheel,a=s.disabled,o=s.wheelDisabled,c=s.touchPadDisabled,d=s.excluded,g=e.isInitialized,h=e.isPanning,b=i.target,_=g&&!h&&!a&&b;if(!_||o&&!i.ctrlKey||c&&i.ctrlKey)return!1;var $=isExcludedNode(b,d);return!$},getDeltaY=function(e){return e?e.deltaY<0?1:-1:0};function getDelta(e,i){var s=getDeltaY(e),a=checkIsNumber(i,s);return a}function getMousePosition(e,i,s){var a=i.getBoundingClientRect(),o=0,c=0;if("clientX"in e)o=(e.clientX-a.left)/s,c=(e.clientY-a.top)/s;else{var d=e.touches[0];o=(d.clientX-a.left)/s,c=(d.clientY-a.top)/s}return(Number.isNaN(o)||Number.isNaN(c))&&console.error("No mouse or touch offset found"),{x:o,y:c}}var handleCalculateWheelZoom=function(e,i,s,a,o){var c=e.transformState.scale,d=e.wrapperComponent,g=e.setup,h=g.maxScale,b=g.minScale,_=g.zoomAnimation,$=g.disablePadding,j=_.size,_e=_.disabled;if(!d)throw new Error("Wrapper is not mounted");var rt=c+i*s,it=a?!1:!_e,st=checkZoomBounds(roundNumber(rt,3),b,h,j,it&&!$);return st},handleWheelZoomStop=function(e,i){var s=e.previousWheelEvent,a=e.transformState.scale,o=e.setup,c=o.maxScale,d=o.minScale;return s?a<c||a>d||Math.sign(s.deltaY)!==Math.sign(i.deltaY)||s.deltaY>0&&s.deltaY<i.deltaY||s.deltaY<0&&s.deltaY>i.deltaY||Math.sign(s.deltaY)!==Math.sign(i.deltaY):!1},isPinchStartAllowed=function(e,i){var s=e.setup.pinch,a=s.disabled,o=s.excluded,c=e.isInitialized,d=i.target,g=c&&!a&&d;if(!g)return!1;var h=isExcludedNode(d,o);return!h},isPinchAllowed=function(e){var i=e.setup.pinch.disabled,s=e.isInitialized,a=e.pinchStartDistance,o=s&&!i&&a;return!!o},calculateTouchMidPoint=function(e,i,s){var a=s.getBoundingClientRect(),o=e.touches,c=roundNumber(o[0].clientX-a.left,5),d=roundNumber(o[0].clientY-a.top,5),g=roundNumber(o[1].clientX-a.left,5),h=roundNumber(o[1].clientY-a.top,5);return{x:(c+g)/2/i,y:(d+h)/2/i}},getTouchDistance=function(e){return Math.sqrt(Math.pow(e.touches[0].pageX-e.touches[1].pageX,2)+Math.pow(e.touches[0].pageY-e.touches[1].pageY,2))},calculatePinchZoom=function(e,i){var s=e.pinchStartScale,a=e.pinchStartDistance,o=e.setup,c=o.maxScale,d=o.minScale,g=o.zoomAnimation,h=o.disablePadding,b=g.size,_=g.disabled;if(!s||a===null||!i)throw new Error("Pinch touches distance was not provided");if(i<0)return e.transformState.scale;var $=i/a,j=$*s;return checkZoomBounds(roundNumber(j,2),d,c,b,!_&&!h)},wheelStopEventTime=160,wheelAnimationTime=100,handleWheelStart=function(e,i){var s=e.props,a=s.onWheelStart,o=s.onZoomStart;e.wheelStopEventTimer||(handleCancelAnimation(e),handleCallback(getContext(e),i,a),handleCallback(getContext(e),i,o))},handleWheelZoom=function(e,i){var s=e.props,a=s.onWheel,o=s.onZoom,c=e.contentComponent,d=e.setup,g=e.transformState,h=g.scale,b=d.limitToBounds,_=d.centerZoomedOut,$=d.zoomAnimation,j=d.wheel,_e=d.disablePadding,rt=d.smooth,it=$.size,st=$.disabled,et=j.step,tt=j.smoothStep;if(!c)throw new Error("Component not mounted");i.preventDefault(),i.stopPropagation();var ot=getDelta(i,null),nt=rt?tt*Math.abs(i.deltaY):et,at=handleCalculateWheelZoom(e,ot,nt,!i.ctrlKey);if(h!==at){var dt=handleCalculateBounds(e,at),ut=getMousePosition(i,c,h),ct=st||it===0||_||_e,ht=b&&ct,mt=handleCalculateZoomPositions(e,ut.x,ut.y,at,dt,ht),lt=mt.x,ft=mt.y;e.previousWheelEvent=i,e.setTransformState(at,lt,ft),handleCallback(getContext(e),i,a),handleCallback(getContext(e),i,o)}},handleWheelStop=function(e,i){var s=e.props,a=s.onWheelStop,o=s.onZoomStop;cancelTimeout(e.wheelAnimationTimer),e.wheelAnimationTimer=setTimeout(function(){e.mounted&&(handleAlignToScaleBounds(e,i.x,i.y),e.wheelAnimationTimer=null)},wheelAnimationTime);var c=handleWheelZoomStop(e,i);c&&(cancelTimeout(e.wheelStopEventTimer),e.wheelStopEventTimer=setTimeout(function(){e.mounted&&(e.wheelStopEventTimer=null,handleCallback(getContext(e),i,a),handleCallback(getContext(e),i,o))},wheelStopEventTime))},getTouchCenter=function(e){for(var i=0,s=0,a=0;a<2;a+=1)i+=e.touches[a].clientX,s+=e.touches[a].clientY;var o=i/2,c=s/2;return{x:o,y:c}},handlePinchStart=function(e,i){var s=getTouchDistance(i);e.pinchStartDistance=s,e.lastDistance=s,e.pinchStartScale=e.transformState.scale,e.isPanning=!1;var a=getTouchCenter(i);e.pinchLastCenterX=a.x,e.pinchLastCenterY=a.y,handleCancelAnimation(e)},handlePinchZoom=function(e,i){var s=e.contentComponent,a=e.pinchStartDistance,o=e.wrapperComponent,c=e.transformState.scale,d=e.setup,g=d.limitToBounds,h=d.centerZoomedOut,b=d.zoomAnimation,_=d.alignmentAnimation,$=b.disabled,j=b.size;if(!(a===null||!s)){var _e=calculateTouchMidPoint(i,c,s);if(!(!Number.isFinite(_e.x)||!Number.isFinite(_e.y))){var rt=getTouchDistance(i),it=calculatePinchZoom(e,rt),st=getTouchCenter(i),et=st.x-(e.pinchLastCenterX||0),tt=st.y-(e.pinchLastCenterY||0);if(!(it===c&&et===0&&tt===0)){e.pinchLastCenterX=st.x,e.pinchLastCenterY=st.y;var ot=handleCalculateBounds(e,it),nt=$||j===0||h,at=g&&nt,dt=handleCalculateZoomPositions(e,_e.x,_e.y,it,ot,at),ut=dt.x,ct=dt.y;e.pinchMidpoint=_e,e.lastDistance=rt;var ht=_.sizeX,mt=_.sizeY,lt=getPaddingValue(e,ht),ft=getPaddingValue(e,mt),vt=ut+et,kt=ct+tt,jt=getMouseBoundedPosition(vt,kt,ot,g,lt,ft,o),Ot=jt.x,Pt=jt.y;e.setTransformState(it,Ot,Pt)}}}},handlePinchStop=function(e){var i=e.pinchMidpoint;e.velocity=null,e.lastDistance=null,e.pinchMidpoint=null,e.pinchStartScale=null,e.pinchStartDistance=null,handleAlignToScaleBounds(e,i==null?void 0:i.x,i==null?void 0:i.y)},handleDoubleClickStop=function(e,i){var s=e.props.onZoomStop,a=e.setup.doubleClick.animationTime;cancelTimeout(e.doubleClickStopEventTimer),e.doubleClickStopEventTimer=setTimeout(function(){e.doubleClickStopEventTimer=null,handleCallback(getContext(e),i,s)},a)},handleDoubleClickResetMode=function(e,i){var s=e.props,a=s.onZoomStart,o=s.onZoom,c=e.setup.doubleClick,d=c.animationTime,g=c.animationType;handleCallback(getContext(e),i,a),resetTransformations(e,d,g,function(){return handleCallback(getContext(e),i,o)}),handleDoubleClickStop(e,i)};function getDoubleClickScale(e,i){return e==="toggle"?i===1?1:-1:e==="zoomOut"?-1:1}function handleDoubleClick(e,i){var s=e.setup,a=e.doubleClickStopEventTimer,o=e.transformState,c=e.contentComponent,d=o.scale,g=e.props,h=g.onZoomStart,b=g.onZoom,_=s.doubleClick,$=_.disabled,j=_.mode,_e=_.step,rt=_.animationTime,it=_.animationType;if(!$&&!a){if(j==="reset")return handleDoubleClickResetMode(e,i);if(!c)return console.error("No ContentComponent found");var st=getDoubleClickScale(j,e.transformState.scale),et=handleCalculateButtonZoom(e,st,_e);if(d!==et){handleCallback(getContext(e),i,h);var tt=getMousePosition(i,c,d),ot=handleZoomToPoint(e,et,tt.x,tt.y);if(!ot)return console.error("Error during zoom event. New transformation state was not calculated.");handleCallback(getContext(e),i,b),animate(e,ot,rt,it),handleDoubleClickStop(e,i)}}}var isDoubleClickAllowed=function(e,i){var s=e.isInitialized,a=e.setup,o=e.wrapperComponent,c=a.doubleClick,d=c.disabled,g=c.excluded,h=i.target,b=o==null?void 0:o.contains(h),_=s&&h&&b&&!d;if(!_)return!1;var $=isExcludedNode(h,g);return!$},ZoomPanPinch=function(){function e(i){var s=this;this.mounted=!0,this.pinchLastCenterX=null,this.pinchLastCenterY=null,this.onChangeCallbacks=new Set,this.onInitCallbacks=new Set,this.wrapperComponent=null,this.contentComponent=null,this.isInitialized=!1,this.bounds=null,this.previousWheelEvent=null,this.wheelStopEventTimer=null,this.wheelAnimationTimer=null,this.isPanning=!1,this.isWheelPanning=!1,this.startCoords=null,this.lastTouch=null,this.distance=null,this.lastDistance=null,this.pinchStartDistance=null,this.pinchStartScale=null,this.pinchMidpoint=null,this.doubleClickStopEventTimer=null,this.velocity=null,this.velocityTime=null,this.lastMousePosition=null,this.animate=!1,this.animation=null,this.maxBounds=null,this.pressedKeys={},this.mount=function(){s.initializeWindowEvents()},this.unmount=function(){s.cleanupWindowEvents()},this.update=function(a){s.props=a,handleCalculateBounds(s,s.transformState.scale),s.setup=createSetup(a)},this.initializeWindowEvents=function(){var a,o,c=makePassiveEventOption(),d=(a=s.wrapperComponent)===null||a===void 0?void 0:a.ownerDocument,g=d==null?void 0:d.defaultView;(o=s.wrapperComponent)===null||o===void 0||o.addEventListener("wheel",s.onWheelPanning,c),g==null||g.addEventListener("mousedown",s.onPanningStart,c),g==null||g.addEventListener("mousemove",s.onPanning,c),g==null||g.addEventListener("mouseup",s.onPanningStop,c),d==null||d.addEventListener("mouseleave",s.clearPanning,c),g==null||g.addEventListener("keyup",s.setKeyUnPressed,c),g==null||g.addEventListener("keydown",s.setKeyPressed,c)},this.cleanupWindowEvents=function(){var a,o,c=makePassiveEventOption(),d=(a=s.wrapperComponent)===null||a===void 0?void 0:a.ownerDocument,g=d==null?void 0:d.defaultView;g==null||g.removeEventListener("mousedown",s.onPanningStart,c),g==null||g.removeEventListener("mousemove",s.onPanning,c),g==null||g.removeEventListener("mouseup",s.onPanningStop,c),d==null||d.removeEventListener("mouseleave",s.clearPanning,c),g==null||g.removeEventListener("keyup",s.setKeyUnPressed,c),g==null||g.removeEventListener("keydown",s.setKeyPressed,c),document.removeEventListener("mouseleave",s.clearPanning,c),handleCancelAnimation(s),(o=s.observer)===null||o===void 0||o.disconnect()},this.handleInitializeWrapperEvents=function(a){var o=makePassiveEventOption();a.addEventListener("wheel",s.onWheelZoom,o),a.addEventListener("dblclick",s.onDoubleClick,o),a.addEventListener("touchstart",s.onTouchPanningStart,o),a.addEventListener("touchmove",s.onTouchPanning,o),a.addEventListener("touchend",s.onTouchPanningStop,o)},this.handleInitialize=function(a){var o=s.setup.centerOnInit;s.applyTransformation(),s.onInitCallbacks.forEach(function(c){return c(getContext(s))}),o&&(s.setCenter(),s.observer=new ResizeObserver(function(){var c,d=a.offsetWidth,g=a.offsetHeight;(d>0||g>0)&&(s.onInitCallbacks.forEach(function(h){return h(getContext(s))}),s.setCenter(),(c=s.observer)===null||c===void 0||c.disconnect())}),setTimeout(function(){var c;(c=s.observer)===null||c===void 0||c.disconnect()},5e3),s.observer.observe(a))},this.onWheelZoom=function(a){var o=s.setup.disabled;if(!o){var c=isWheelAllowed(s,a);if(c){var d=s.isPressingKeys(s.setup.wheel.activationKeys);d&&(handleWheelStart(s,a),handleWheelZoom(s,a),handleWheelStop(s,a))}}},this.onWheelPanning=function(a){var o=s.setup,c=o.disabled,d=o.wheel,g=o.panning;if(!(!s.wrapperComponent||!s.contentComponent||c||!d.wheelDisabled||g.disabled||!g.wheelPanning||a.ctrlKey)){a.preventDefault(),a.stopPropagation();var h=s.transformState,b=h.positionX,_=h.positionY,$=b-a.deltaX,j=_-a.deltaY,_e=g.lockAxisX?b:$,rt=g.lockAxisY?_:j,it=s.setup.alignmentAnimation,st=it.sizeX,et=it.sizeY,tt=getPaddingValue(s,st),ot=getPaddingValue(s,et);_e===b&&rt===_||handleNewPosition(s,_e,rt,tt,ot)}},this.onPanningStart=function(a){var o=s.setup.disabled,c=s.props.onPanningStart;if(!o){var d=isPanningStartAllowed(s,a);if(d){var g=s.isPressingKeys(s.setup.panning.activationKeys);g&&(a.button===0&&!s.setup.panning.allowLeftClickPan||a.button===1&&!s.setup.panning.allowMiddleClickPan||a.button===2&&!s.setup.panning.allowRightClickPan||(a.preventDefault(),a.stopPropagation(),handleCancelAnimation(s),handlePanningStart(s,a),handleCallback(getContext(s),a,c)))}}},this.onPanning=function(a){var o=s.setup.disabled,c=s.props.onPanning;if(!o){var d=isPanningAllowed(s);if(d){var g=s.isPressingKeys(s.setup.panning.activationKeys);g&&(a.preventDefault(),a.stopPropagation(),handlePanning(s,a.clientX,a.clientY),handleCallback(getContext(s),a,c))}}},this.onPanningStop=function(a){var o=s.props.onPanningStop;s.isPanning&&(handlePanningEnd(s),handleCallback(getContext(s),a,o))},this.onPinchStart=function(a){var o=s.setup.disabled,c=s.props,d=c.onPinchingStart,g=c.onZoomStart;if(!o){var h=isPinchStartAllowed(s,a);h&&(handlePinchStart(s,a),handleCancelAnimation(s),handleCallback(getContext(s),a,d),handleCallback(getContext(s),a,g))}},this.onPinch=function(a){var o=s.setup.disabled,c=s.props,d=c.onPinching,g=c.onZoom;if(!o){var h=isPinchAllowed(s);h&&(a.preventDefault(),a.stopPropagation(),handlePinchZoom(s,a),handleCallback(getContext(s),a,d),handleCallback(getContext(s),a,g))}},this.onPinchStop=function(a){var o=s.props,c=o.onPinchingStop,d=o.onZoomStop;s.pinchStartScale&&(handlePinchStop(s),handleCallback(getContext(s),a,c),handleCallback(getContext(s),a,d))},this.onTouchPanningStart=function(a){var o=s.setup.disabled,c=s.props.onPanningStart;if(!o){var d=isPanningStartAllowed(s,a);if(d){var g=s.lastTouch&&+new Date-s.lastTouch<200;if(!g){s.lastTouch=+new Date,handleCancelAnimation(s);var h=a.touches,b=h.length===1,_=h.length===2;b&&(handleCancelAnimation(s),handlePanningStart(s,a),handleCallback(getContext(s),a,c)),_&&s.onPinchStart(a)}}}},this.onTouchPanning=function(a){var o=s.setup.disabled,c=s.props.onPanning;if(s.isPanning&&a.touches.length===1){if(o)return;var d=isPanningAllowed(s);if(!d)return;a.preventDefault(),a.stopPropagation();var g=a.touches[0];handlePanning(s,g.clientX,g.clientY),handleCallback(getContext(s),a,c)}else a.touches.length>1&&s.onPinch(a)},this.onTouchPanningStop=function(a){s.onPanningStop(a),s.onPinchStop(a)},this.onDoubleClick=function(a){var o=s.setup.disabled;if(!o){var c=isDoubleClickAllowed(s,a);c&&handleDoubleClick(s,a)}},this.clearPanning=function(a){s.isPanning&&s.onPanningStop(a)},this.setKeyPressed=function(a){s.pressedKeys[a.key]=!0},this.setKeyUnPressed=function(a){s.pressedKeys[a.key]=!1},this.isPressingKeys=function(a){return a.length?!!a.find(function(o){return s.pressedKeys[o]}):!0},this.setTransformState=function(a,o,c){var d=s.props.onTransformed;if(!Number.isNaN(a)&&!Number.isNaN(o)&&!Number.isNaN(c)){a!==s.transformState.scale&&(s.transformState.previousScale=s.transformState.scale,s.transformState.scale=a),s.transformState.positionX=o,s.transformState.positionY=c,s.applyTransformation();var g=getContext(s);s.onChangeCallbacks.forEach(function(h){return h(g)}),handleCallback(g,{scale:a,positionX:o,positionY:c},d)}else console.error("Detected NaN set state values")},this.setCenter=function(){if(s.wrapperComponent&&s.contentComponent){var a=getCenterPosition(s.transformState.scale,s.wrapperComponent,s.contentComponent);s.setTransformState(a.scale,a.positionX,a.positionY)}},this.handleTransformStyles=function(a,o,c){return s.props.customTransform?s.props.customTransform(a,o,c):getTransformStyles(a,o,c)},this.applyTransformation=function(){if(!(!s.mounted||!s.contentComponent)){var a=s.transformState,o=a.scale,c=a.positionX,d=a.positionY,g=s.handleTransformStyles(c,d,o);s.contentComponent.style.transform=g}},this.getContext=function(){return getContext(s)},this.onChange=function(a){return s.onChangeCallbacks.has(a)||s.onChangeCallbacks.add(a),function(){s.onChangeCallbacks.delete(a)}},this.onInit=function(a){return s.onInitCallbacks.has(a)||s.onInitCallbacks.add(a),function(){s.onInitCallbacks.delete(a)}},this.init=function(a,o){s.cleanupWindowEvents(),s.wrapperComponent=a,s.contentComponent=o,handleCalculateBounds(s,s.transformState.scale),s.handleInitializeWrapperEvents(a),s.handleInitialize(o),s.initializeWindowEvents(),s.isInitialized=!0;var c=getContext(s);handleCallback(c,void 0,s.props.onInit)},this.props=i,this.setup=createSetup(this.props),this.transformState=createState(this.props)}return e}(),Context=React.createContext(null),getContent=function(e,i){return typeof e=="function"?e(i):e},TransformWrapper=React.forwardRef(function(e,i){var s=reactExports.useRef(new ZoomPanPinch(e)).current,a=getContent(e.children,getControls(s));return reactExports.useImperativeHandle(i,function(){return getControls(s)},[s]),reactExports.useEffect(function(){s.update(e)},[s,e]),React.createElement(Context.Provider,{value:s},a)});React.forwardRef(function(e,i){var s=reactExports.useRef(null),a=reactExports.useContext(Context);return reactExports.useEffect(function(){return a.onChange(function(o){if(s.current){var c=0,d=0;s.current.style.transform=a.handleTransformStyles(c,d,1/o.instance.transformState.scale)}})},[a]),React.createElement("div",__assign$1({},e,{ref:mergeRefs([s,i])}))});function styleInject(e,i){i===void 0&&(i={});var s=i.insertAt;if(!(typeof document>"u")){var a=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",s==="top"&&a.firstChild?a.insertBefore(o,a.firstChild):a.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}var css_248z=`.transform-component-module_wrapper__SPB86 {
  position: relative;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  overflow: hidden;
  -webkit-touch-callout: none; /* iOS Safari */
  -webkit-user-select: none; /* Safari */
  -khtml-user-select: none; /* Konqueror HTML */
  -moz-user-select: none; /* Firefox */
  -ms-user-select: none; /* Internet Explorer/Edge */
  user-select: none;
  margin: 0;
  padding: 0;
}
.transform-component-module_content__FBWxo {
  display: flex;
  flex-wrap: wrap;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  margin: 0;
  padding: 0;
  transform-origin: 0% 0%;
}
.transform-component-module_content__FBWxo img {
  pointer-events: none;
}
`,styles={wrapper:"transform-component-module_wrapper__SPB86",content:"transform-component-module_content__FBWxo"};styleInject(css_248z);var TransformComponent=function(e){var i=e.children,s=e.wrapperClass,a=s===void 0?"":s,o=e.contentClass,c=o===void 0?"":o,d=e.wrapperStyle,g=e.contentStyle,h=e.wrapperProps,b=h===void 0?{}:h,_=e.contentProps,$=_===void 0?{}:_,j=reactExports.useContext(Context),_e=j.init,rt=j.cleanupWindowEvents,it=reactExports.useRef(null),st=reactExports.useRef(null);return reactExports.useEffect(function(){var et=it.current,tt=st.current;return et!==null&&tt!==null&&_e&&(_e==null||_e(et,tt)),function(){rt==null||rt()}},[]),React.createElement("div",__assign$1({},b,{ref:it,className:"".concat(baseClasses.wrapperClass," ").concat(styles.wrapper," ").concat(a),style:d}),React.createElement("div",__assign$1({},$,{ref:st,className:"".concat(baseClasses.contentClass," ").concat(styles.content," ").concat(c),style:g}),i))};function LoadingSpinner(){return jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-full",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-700"})})}pdfjs.GlobalWorkerOptions.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.min.js`;function PDFViewer({pdfUrl:e}){const[i,s]=reactExports.useState(null),[a,o]=reactExports.useState(1),[c,d]=reactExports.useState(0),[g,h]=reactExports.useState(!0),[b,_]=reactExports.useState(null),$=({numPages:_e})=>{s(_e),h(!1),_(null)},j=_e=>{console.error("Error loading PDF:",_e),_("Failed to load PDF document"),h(!1)};return jsxRuntimeExports.jsxs("div",{className:"h-full flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-2 border-b bg-white",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>o(_e=>Math.max(_e-1,1)),disabled:a<=1,className:"p-1 rounded hover:bg-gray-100 disabled:opacity-50",children:jsxRuntimeExports.jsx(ChevronLeft,{size:20})}),jsxRuntimeExports.jsxs("span",{className:"text-sm",children:["Page ",a," of ",i||"--"]}),jsxRuntimeExports.jsx("button",{onClick:()=>o(_e=>Math.min(_e+1,i||_e)),disabled:a>=(i||1),className:"p-1 rounded hover:bg-gray-100 disabled:opacity-50",children:jsxRuntimeExports.jsx(ChevronRight,{size:20})})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:jsxRuntimeExports.jsx("button",{onClick:()=>d(_e=>(_e+90)%360),className:"p-1 rounded hover:bg-gray-100",children:jsxRuntimeExports.jsx(RotateCw,{size:20})})})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-auto bg-gray-100",children:[g&&jsxRuntimeExports.jsx("div",{className:"h-full flex items-center justify-center",children:jsxRuntimeExports.jsx(LoadingSpinner,{})}),b&&jsxRuntimeExports.jsx("div",{className:"h-full flex items-center justify-center text-red-600",children:b}),jsxRuntimeExports.jsx(Document,{file:e,onLoadSuccess:$,onLoadError:j,loading:jsxRuntimeExports.jsx(LoadingSpinner,{}),className:"min-h-full w-full flex justify-center p-4",children:jsxRuntimeExports.jsx(TransformWrapper,{initialScale:1,minScale:.5,maxScale:3,centerOnInit:!0,children:jsxRuntimeExports.jsx(TransformComponent,{children:jsxRuntimeExports.jsx(Page,{pageNumber:a,rotate:c,className:"shadow-lg",renderTextLayer:!1,renderAnnotationLayer:!1,loading:jsxRuntimeExports.jsx(LoadingSpinner,{})},`page_${a}_${c}`)})})})]})]})}function listCacheClear$1(){this.__data__=[],this.size=0}var _listCacheClear=listCacheClear$1;function eq$2(e,i){return e===i||e!==e&&i!==i}var eq_1=eq$2,eq$1=eq_1;function assocIndexOf$4(e,i){for(var s=e.length;s--;)if(eq$1(e[s][0],i))return s;return-1}var _assocIndexOf=assocIndexOf$4,assocIndexOf$3=_assocIndexOf,arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete$1(e){var i=this.__data__,s=assocIndexOf$3(i,e);if(s<0)return!1;var a=i.length-1;return s==a?i.pop():splice.call(i,s,1),--this.size,!0}var _listCacheDelete=listCacheDelete$1,assocIndexOf$2=_assocIndexOf;function listCacheGet$1(e){var i=this.__data__,s=assocIndexOf$2(i,e);return s<0?void 0:i[s][1]}var _listCacheGet=listCacheGet$1,assocIndexOf$1=_assocIndexOf;function listCacheHas$1(e){return assocIndexOf$1(this.__data__,e)>-1}var _listCacheHas=listCacheHas$1,assocIndexOf=_assocIndexOf;function listCacheSet$1(e,i){var s=this.__data__,a=assocIndexOf(s,e);return a<0?(++this.size,s.push([e,i])):s[a][1]=i,this}var _listCacheSet=listCacheSet$1,listCacheClear=_listCacheClear,listCacheDelete=_listCacheDelete,listCacheGet=_listCacheGet,listCacheHas=_listCacheHas,listCacheSet=_listCacheSet;function ListCache$4(e){var i=-1,s=e==null?0:e.length;for(this.clear();++i<s;){var a=e[i];this.set(a[0],a[1])}}ListCache$4.prototype.clear=listCacheClear;ListCache$4.prototype.delete=listCacheDelete;ListCache$4.prototype.get=listCacheGet;ListCache$4.prototype.has=listCacheHas;ListCache$4.prototype.set=listCacheSet;var _ListCache=ListCache$4,ListCache$3=_ListCache;function stackClear$1(){this.__data__=new ListCache$3,this.size=0}var _stackClear=stackClear$1;function stackDelete$1(e){var i=this.__data__,s=i.delete(e);return this.size=i.size,s}var _stackDelete=stackDelete$1;function stackGet$1(e){return this.__data__.get(e)}var _stackGet=stackGet$1;function stackHas$1(e){return this.__data__.has(e)}var _stackHas=stackHas$1,freeGlobal$1=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,_freeGlobal=freeGlobal$1,freeGlobal=_freeGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$8=freeGlobal||freeSelf||Function("return this")(),_root=root$8,root$7=_root,Symbol$4=root$7.Symbol,_Symbol=Symbol$4,Symbol$3=_Symbol,objectProto$b=Object.prototype,hasOwnProperty$8=objectProto$b.hasOwnProperty,nativeObjectToString$1=objectProto$b.toString,symToStringTag$1=Symbol$3?Symbol$3.toStringTag:void 0;function getRawTag$1(e){var i=hasOwnProperty$8.call(e,symToStringTag$1),s=e[symToStringTag$1];try{e[symToStringTag$1]=void 0;var a=!0}catch{}var o=nativeObjectToString$1.call(e);return a&&(i?e[symToStringTag$1]=s:delete e[symToStringTag$1]),o}var _getRawTag=getRawTag$1,objectProto$a=Object.prototype,nativeObjectToString=objectProto$a.toString;function objectToString$1(e){return nativeObjectToString.call(e)}var _objectToString=objectToString$1,Symbol$2=_Symbol,getRawTag=_getRawTag,objectToString=_objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$2?Symbol$2.toStringTag:void 0;function baseGetTag$4(e){return e==null?e===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(e)?getRawTag(e):objectToString(e)}var _baseGetTag=baseGetTag$4;function isObject$2(e){var i=typeof e;return e!=null&&(i=="object"||i=="function")}var isObject_1=isObject$2,baseGetTag$3=_baseGetTag,isObject$1=isObject_1,asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$2(e){if(!isObject$1(e))return!1;var i=baseGetTag$3(e);return i==funcTag$1||i==genTag||i==asyncTag||i==proxyTag}var isFunction_1=isFunction$2,root$6=_root,coreJsData$1=root$6["__core-js_shared__"],_coreJsData=coreJsData$1,coreJsData=_coreJsData,maskSrcKey=function(){var e=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function isMasked$1(e){return!!maskSrcKey&&maskSrcKey in e}var _isMasked=isMasked$1,funcProto$1=Function.prototype,funcToString$1=funcProto$1.toString;function toSource$2(e){if(e!=null){try{return funcToString$1.call(e)}catch{}try{return e+""}catch{}}return""}var _toSource=toSource$2,isFunction$1=isFunction_1,isMasked=_isMasked,isObject=isObject_1,toSource$1=_toSource,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto$9=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$7=objectProto$9.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty$7).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative$1(e){if(!isObject(e)||isMasked(e))return!1;var i=isFunction$1(e)?reIsNative:reIsHostCtor;return i.test(toSource$1(e))}var _baseIsNative=baseIsNative$1;function getValue$1(e,i){return e==null?void 0:e[i]}var _getValue=getValue$1,baseIsNative=_baseIsNative,getValue=_getValue;function getNative$6(e,i){var s=getValue(e,i);return baseIsNative(s)?s:void 0}var _getNative=getNative$6,getNative$5=_getNative,root$5=_root,Map$4=getNative$5(root$5,"Map"),_Map=Map$4,getNative$4=_getNative,nativeCreate$4=getNative$4(Object,"create"),_nativeCreate=nativeCreate$4,nativeCreate$3=_nativeCreate;function hashClear$1(){this.__data__=nativeCreate$3?nativeCreate$3(null):{},this.size=0}var _hashClear=hashClear$1;function hashDelete$1(e){var i=this.has(e)&&delete this.__data__[e];return this.size-=i?1:0,i}var _hashDelete=hashDelete$1,nativeCreate$2=_nativeCreate,HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$8=Object.prototype,hasOwnProperty$6=objectProto$8.hasOwnProperty;function hashGet$1(e){var i=this.__data__;if(nativeCreate$2){var s=i[e];return s===HASH_UNDEFINED$2?void 0:s}return hasOwnProperty$6.call(i,e)?i[e]:void 0}var _hashGet=hashGet$1,nativeCreate$1=_nativeCreate,objectProto$7=Object.prototype,hasOwnProperty$5=objectProto$7.hasOwnProperty;function hashHas$1(e){var i=this.__data__;return nativeCreate$1?i[e]!==void 0:hasOwnProperty$5.call(i,e)}var _hashHas=hashHas$1,nativeCreate=_nativeCreate,HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet$1(e,i){var s=this.__data__;return this.size+=this.has(e)?0:1,s[e]=nativeCreate&&i===void 0?HASH_UNDEFINED$1:i,this}var _hashSet=hashSet$1,hashClear=_hashClear,hashDelete=_hashDelete,hashGet=_hashGet,hashHas=_hashHas,hashSet=_hashSet;function Hash$1(e){var i=-1,s=e==null?0:e.length;for(this.clear();++i<s;){var a=e[i];this.set(a[0],a[1])}}Hash$1.prototype.clear=hashClear;Hash$1.prototype.delete=hashDelete;Hash$1.prototype.get=hashGet;Hash$1.prototype.has=hashHas;Hash$1.prototype.set=hashSet;var _Hash=Hash$1,Hash=_Hash,ListCache$2=_ListCache,Map$3=_Map;function mapCacheClear$1(){this.size=0,this.__data__={hash:new Hash,map:new(Map$3||ListCache$2),string:new Hash}}var _mapCacheClear=mapCacheClear$1;function isKeyable$1(e){var i=typeof e;return i=="string"||i=="number"||i=="symbol"||i=="boolean"?e!=="__proto__":e===null}var _isKeyable=isKeyable$1,isKeyable=_isKeyable;function getMapData$4(e,i){var s=e.__data__;return isKeyable(i)?s[typeof i=="string"?"string":"hash"]:s.map}var _getMapData=getMapData$4,getMapData$3=_getMapData;function mapCacheDelete$1(e){var i=getMapData$3(this,e).delete(e);return this.size-=i?1:0,i}var _mapCacheDelete=mapCacheDelete$1,getMapData$2=_getMapData;function mapCacheGet$1(e){return getMapData$2(this,e).get(e)}var _mapCacheGet=mapCacheGet$1,getMapData$1=_getMapData;function mapCacheHas$1(e){return getMapData$1(this,e).has(e)}var _mapCacheHas=mapCacheHas$1,getMapData=_getMapData;function mapCacheSet$1(e,i){var s=getMapData(this,e),a=s.size;return s.set(e,i),this.size+=s.size==a?0:1,this}var _mapCacheSet=mapCacheSet$1,mapCacheClear=_mapCacheClear,mapCacheDelete=_mapCacheDelete,mapCacheGet=_mapCacheGet,mapCacheHas=_mapCacheHas,mapCacheSet=_mapCacheSet;function MapCache$2(e){var i=-1,s=e==null?0:e.length;for(this.clear();++i<s;){var a=e[i];this.set(a[0],a[1])}}MapCache$2.prototype.clear=mapCacheClear;MapCache$2.prototype.delete=mapCacheDelete;MapCache$2.prototype.get=mapCacheGet;MapCache$2.prototype.has=mapCacheHas;MapCache$2.prototype.set=mapCacheSet;var _MapCache=MapCache$2,ListCache$1=_ListCache,Map$2=_Map,MapCache$1=_MapCache,LARGE_ARRAY_SIZE=200;function stackSet$1(e,i){var s=this.__data__;if(s instanceof ListCache$1){var a=s.__data__;if(!Map$2||a.length<LARGE_ARRAY_SIZE-1)return a.push([e,i]),this.size=++s.size,this;s=this.__data__=new MapCache$1(a)}return s.set(e,i),this.size=s.size,this}var _stackSet=stackSet$1,ListCache=_ListCache,stackClear=_stackClear,stackDelete=_stackDelete,stackGet=_stackGet,stackHas=_stackHas,stackSet=_stackSet;function Stack$1(e){var i=this.__data__=new ListCache(e);this.size=i.size}Stack$1.prototype.clear=stackClear;Stack$1.prototype.delete=stackDelete;Stack$1.prototype.get=stackGet;Stack$1.prototype.has=stackHas;Stack$1.prototype.set=stackSet;var _Stack=Stack$1,HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd$1(e){return this.__data__.set(e,HASH_UNDEFINED),this}var _setCacheAdd=setCacheAdd$1;function setCacheHas$1(e){return this.__data__.has(e)}var _setCacheHas=setCacheHas$1,MapCache=_MapCache,setCacheAdd=_setCacheAdd,setCacheHas=_setCacheHas;function SetCache$1(e){var i=-1,s=e==null?0:e.length;for(this.__data__=new MapCache;++i<s;)this.add(e[i])}SetCache$1.prototype.add=SetCache$1.prototype.push=setCacheAdd;SetCache$1.prototype.has=setCacheHas;var _SetCache=SetCache$1;function arraySome$1(e,i){for(var s=-1,a=e==null?0:e.length;++s<a;)if(i(e[s],s,e))return!0;return!1}var _arraySome=arraySome$1;function cacheHas$1(e,i){return e.has(i)}var _cacheHas=cacheHas$1,SetCache=_SetCache,arraySome=_arraySome,cacheHas=_cacheHas,COMPARE_PARTIAL_FLAG$3=1,COMPARE_UNORDERED_FLAG$1=2;function equalArrays$2(e,i,s,a,o,c){var d=s&COMPARE_PARTIAL_FLAG$3,g=e.length,h=i.length;if(g!=h&&!(d&&h>g))return!1;var b=c.get(e),_=c.get(i);if(b&&_)return b==i&&_==e;var $=-1,j=!0,_e=s&COMPARE_UNORDERED_FLAG$1?new SetCache:void 0;for(c.set(e,i),c.set(i,e);++$<g;){var rt=e[$],it=i[$];if(a)var st=d?a(it,rt,$,i,e,c):a(rt,it,$,e,i,c);if(st!==void 0){if(st)continue;j=!1;break}if(_e){if(!arraySome(i,function(et,tt){if(!cacheHas(_e,tt)&&(rt===et||o(rt,et,s,a,c)))return _e.push(tt)})){j=!1;break}}else if(!(rt===it||o(rt,it,s,a,c))){j=!1;break}}return c.delete(e),c.delete(i),j}var _equalArrays=equalArrays$2,root$4=_root,Uint8Array$2=root$4.Uint8Array,_Uint8Array=Uint8Array$2;function mapToArray$1(e){var i=-1,s=Array(e.size);return e.forEach(function(a,o){s[++i]=[o,a]}),s}var _mapToArray=mapToArray$1;function setToArray$1(e){var i=-1,s=Array(e.size);return e.forEach(function(a){s[++i]=a}),s}var _setToArray=setToArray$1,Symbol$1=_Symbol,Uint8Array$1=_Uint8Array,eq=eq_1,equalArrays$1=_equalArrays,mapToArray=_mapToArray,setToArray=_setToArray,COMPARE_PARTIAL_FLAG$2=1,COMPARE_UNORDERED_FLAG=2,boolTag$1="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",mapTag$2="[object Map]",numberTag$1="[object Number]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",symbolTag="[object Symbol]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$2="[object DataView]",symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag$1(e,i,s,a,o,c,d){switch(s){case dataViewTag$2:if(e.byteLength!=i.byteLength||e.byteOffset!=i.byteOffset)return!1;e=e.buffer,i=i.buffer;case arrayBufferTag$1:return!(e.byteLength!=i.byteLength||!c(new Uint8Array$1(e),new Uint8Array$1(i)));case boolTag$1:case dateTag$1:case numberTag$1:return eq(+e,+i);case errorTag$1:return e.name==i.name&&e.message==i.message;case regexpTag$1:case stringTag$1:return e==i+"";case mapTag$2:var g=mapToArray;case setTag$2:var h=a&COMPARE_PARTIAL_FLAG$2;if(g||(g=setToArray),e.size!=i.size&&!h)return!1;var b=d.get(e);if(b)return b==i;a|=COMPARE_UNORDERED_FLAG,d.set(e,i);var _=equalArrays$1(g(e),g(i),a,o,c,d);return d.delete(e),_;case symbolTag:if(symbolValueOf)return symbolValueOf.call(e)==symbolValueOf.call(i)}return!1}var _equalByTag=equalByTag$1;function arrayPush$1(e,i){for(var s=-1,a=i.length,o=e.length;++s<a;)e[o+s]=i[s];return e}var _arrayPush=arrayPush$1,isArray$3=Array.isArray,isArray_1=isArray$3,arrayPush=_arrayPush,isArray$2=isArray_1;function baseGetAllKeys$1(e,i,s){var a=i(e);return isArray$2(e)?a:arrayPush(a,s(e))}var _baseGetAllKeys=baseGetAllKeys$1;function arrayFilter$1(e,i){for(var s=-1,a=e==null?0:e.length,o=0,c=[];++s<a;){var d=e[s];i(d,s,e)&&(c[o++]=d)}return c}var _arrayFilter=arrayFilter$1;function stubArray$1(){return[]}var stubArray_1=stubArray$1,arrayFilter=_arrayFilter,stubArray=stubArray_1,objectProto$6=Object.prototype,propertyIsEnumerable$1=objectProto$6.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols$1=nativeGetSymbols?function(e){return e==null?[]:(e=Object(e),arrayFilter(nativeGetSymbols(e),function(i){return propertyIsEnumerable$1.call(e,i)}))}:stubArray,_getSymbols=getSymbols$1;function baseTimes$1(e,i){for(var s=-1,a=Array(e);++s<e;)a[s]=i(s);return a}var _baseTimes=baseTimes$1;function isObjectLike$4(e){return e!=null&&typeof e=="object"}var isObjectLike_1=isObjectLike$4,baseGetTag$2=_baseGetTag,isObjectLike$3=isObjectLike_1,argsTag$2="[object Arguments]";function baseIsArguments$1(e){return isObjectLike$3(e)&&baseGetTag$2(e)==argsTag$2}var _baseIsArguments=baseIsArguments$1,baseIsArguments=_baseIsArguments,isObjectLike$2=isObjectLike_1,objectProto$5=Object.prototype,hasOwnProperty$4=objectProto$5.hasOwnProperty,propertyIsEnumerable=objectProto$5.propertyIsEnumerable,isArguments$1=baseIsArguments(function(){return arguments}())?baseIsArguments:function(e){return isObjectLike$2(e)&&hasOwnProperty$4.call(e,"callee")&&!propertyIsEnumerable.call(e,"callee")},isArguments_1=isArguments$1,isBuffer$2={exports:{}};function stubFalse(){return!1}var stubFalse_1=stubFalse;isBuffer$2.exports;(function(e,i){var s=_root,a=stubFalse_1,o=i&&!i.nodeType&&i,c=o&&!0&&e&&!e.nodeType&&e,d=c&&c.exports===o,g=d?s.Buffer:void 0,h=g?g.isBuffer:void 0,b=h||a;e.exports=b})(isBuffer$2,isBuffer$2.exports);var isBufferExports=isBuffer$2.exports,MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex$1(e,i){var s=typeof e;return i=i??MAX_SAFE_INTEGER$1,!!i&&(s=="number"||s!="symbol"&&reIsUint.test(e))&&e>-1&&e%1==0&&e<i}var _isIndex=isIndex$1,MAX_SAFE_INTEGER=9007199254740991;function isLength$2(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=MAX_SAFE_INTEGER}var isLength_1=isLength$2,baseGetTag$1=_baseGetTag,isLength$1=isLength_1,isObjectLike$1=isObjectLike_1,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag$1="[object Map]",numberTag="[object Number]",objectTag$2="[object Object]",regexpTag="[object RegExp]",setTag$1="[object Set]",stringTag="[object String]",weakMapTag$1="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0;typedArrayTags[argsTag$1]=typedArrayTags[arrayTag$1]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag$1]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag$1]=typedArrayTags[numberTag]=typedArrayTags[objectTag$2]=typedArrayTags[regexpTag]=typedArrayTags[setTag$1]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag$1]=!1;function baseIsTypedArray$1(e){return isObjectLike$1(e)&&isLength$1(e.length)&&!!typedArrayTags[baseGetTag$1(e)]}var _baseIsTypedArray=baseIsTypedArray$1;function baseUnary$1(e){return function(i){return e(i)}}var _baseUnary=baseUnary$1,_nodeUtil={exports:{}};_nodeUtil.exports;(function(e,i){var s=_freeGlobal,a=i&&!i.nodeType&&i,o=a&&!0&&e&&!e.nodeType&&e,c=o&&o.exports===a,d=c&&s.process,g=function(){try{var h=o&&o.require&&o.require("util").types;return h||d&&d.binding&&d.binding("util")}catch{}}();e.exports=g})(_nodeUtil,_nodeUtil.exports);var _nodeUtilExports=_nodeUtil.exports,baseIsTypedArray=_baseIsTypedArray,baseUnary=_baseUnary,nodeUtil=_nodeUtilExports,nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray$2=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray,isTypedArray_1=isTypedArray$2,baseTimes=_baseTimes,isArguments=isArguments_1,isArray$1=isArray_1,isBuffer$1=isBufferExports,isIndex=_isIndex,isTypedArray$1=isTypedArray_1,objectProto$4=Object.prototype,hasOwnProperty$3=objectProto$4.hasOwnProperty;function arrayLikeKeys$1(e,i){var s=isArray$1(e),a=!s&&isArguments(e),o=!s&&!a&&isBuffer$1(e),c=!s&&!a&&!o&&isTypedArray$1(e),d=s||a||o||c,g=d?baseTimes(e.length,String):[],h=g.length;for(var b in e)(i||hasOwnProperty$3.call(e,b))&&!(d&&(b=="length"||o&&(b=="offset"||b=="parent")||c&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||isIndex(b,h)))&&g.push(b);return g}var _arrayLikeKeys=arrayLikeKeys$1,objectProto$3=Object.prototype;function isPrototype$1(e){var i=e&&e.constructor,s=typeof i=="function"&&i.prototype||objectProto$3;return e===s}var _isPrototype=isPrototype$1;function overArg$1(e,i){return function(s){return e(i(s))}}var _overArg=overArg$1,overArg=_overArg,nativeKeys$1=overArg(Object.keys,Object),_nativeKeys=nativeKeys$1,isPrototype=_isPrototype,nativeKeys=_nativeKeys,objectProto$2=Object.prototype,hasOwnProperty$2=objectProto$2.hasOwnProperty;function baseKeys$1(e){if(!isPrototype(e))return nativeKeys(e);var i=[];for(var s in Object(e))hasOwnProperty$2.call(e,s)&&s!="constructor"&&i.push(s);return i}var _baseKeys=baseKeys$1,isFunction=isFunction_1,isLength=isLength_1;function isArrayLike$1(e){return e!=null&&isLength(e.length)&&!isFunction(e)}var isArrayLike_1=isArrayLike$1,arrayLikeKeys=_arrayLikeKeys,baseKeys=_baseKeys,isArrayLike=isArrayLike_1;function keys$1(e){return isArrayLike(e)?arrayLikeKeys(e):baseKeys(e)}var keys_1=keys$1,baseGetAllKeys=_baseGetAllKeys,getSymbols=_getSymbols,keys=keys_1;function getAllKeys$1(e){return baseGetAllKeys(e,keys,getSymbols)}var _getAllKeys=getAllKeys$1,getAllKeys=_getAllKeys,COMPARE_PARTIAL_FLAG$1=1,objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty;function equalObjects$1(e,i,s,a,o,c){var d=s&COMPARE_PARTIAL_FLAG$1,g=getAllKeys(e),h=g.length,b=getAllKeys(i),_=b.length;if(h!=_&&!d)return!1;for(var $=h;$--;){var j=g[$];if(!(d?j in i:hasOwnProperty$1.call(i,j)))return!1}var _e=c.get(e),rt=c.get(i);if(_e&&rt)return _e==i&&rt==e;var it=!0;c.set(e,i),c.set(i,e);for(var st=d;++$<h;){j=g[$];var et=e[j],tt=i[j];if(a)var ot=d?a(tt,et,j,i,e,c):a(et,tt,j,e,i,c);if(!(ot===void 0?et===tt||o(et,tt,s,a,c):ot)){it=!1;break}st||(st=j=="constructor")}if(it&&!st){var nt=e.constructor,at=i.constructor;nt!=at&&"constructor"in e&&"constructor"in i&&!(typeof nt=="function"&&nt instanceof nt&&typeof at=="function"&&at instanceof at)&&(it=!1)}return c.delete(e),c.delete(i),it}var _equalObjects=equalObjects$1,getNative$3=_getNative,root$3=_root,DataView$2=getNative$3(root$3,"DataView"),_DataView=DataView$2,getNative$2=_getNative,root$2=_root,Promise$2=getNative$2(root$2,"Promise"),_Promise=Promise$2,getNative$1=_getNative,root$1=_root,Set$2=getNative$1(root$1,"Set"),_Set=Set$2,getNative=_getNative,root=_root,WeakMap$2=getNative(root,"WeakMap"),_WeakMap=WeakMap$2,DataView$1=_DataView,Map$1=_Map,Promise$1=_Promise,Set$1=_Set,WeakMap$1=_WeakMap,baseGetTag=_baseGetTag,toSource=_toSource,mapTag="[object Map]",objectTag$1="[object Object]",promiseTag="[object Promise]",setTag="[object Set]",weakMapTag="[object WeakMap]",dataViewTag="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$1),weakMapCtorString=toSource(WeakMap$1),getTag$1=baseGetTag;(DataView$1&&getTag$1(new DataView$1(new ArrayBuffer(1)))!=dataViewTag||Map$1&&getTag$1(new Map$1)!=mapTag||Promise$1&&getTag$1(Promise$1.resolve())!=promiseTag||Set$1&&getTag$1(new Set$1)!=setTag||WeakMap$1&&getTag$1(new WeakMap$1)!=weakMapTag)&&(getTag$1=function(e){var i=baseGetTag(e),s=i==objectTag$1?e.constructor:void 0,a=s?toSource(s):"";if(a)switch(a){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return i});var _getTag=getTag$1,Stack=_Stack,equalArrays=_equalArrays,equalByTag=_equalByTag,equalObjects=_equalObjects,getTag=_getTag,isArray=isArray_1,isBuffer=isBufferExports,isTypedArray=isTypedArray_1,COMPARE_PARTIAL_FLAG=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag="[object Object]",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function baseIsEqualDeep$1(e,i,s,a,o,c){var d=isArray(e),g=isArray(i),h=d?arrayTag:getTag(e),b=g?arrayTag:getTag(i);h=h==argsTag?objectTag:h,b=b==argsTag?objectTag:b;var _=h==objectTag,$=b==objectTag,j=h==b;if(j&&isBuffer(e)){if(!isBuffer(i))return!1;d=!0,_=!1}if(j&&!_)return c||(c=new Stack),d||isTypedArray(e)?equalArrays(e,i,s,a,o,c):equalByTag(e,i,h,s,a,o,c);if(!(s&COMPARE_PARTIAL_FLAG)){var _e=_&&hasOwnProperty.call(e,"__wrapped__"),rt=$&&hasOwnProperty.call(i,"__wrapped__");if(_e||rt){var it=_e?e.value():e,st=rt?i.value():i;return c||(c=new Stack),o(it,st,s,a,c)}}return j?(c||(c=new Stack),equalObjects(e,i,s,a,o,c)):!1}var _baseIsEqualDeep=baseIsEqualDeep$1,baseIsEqualDeep=_baseIsEqualDeep,isObjectLike=isObjectLike_1;function baseIsEqual$1(e,i,s,a,o){return e===i?!0:e==null||i==null||!isObjectLike(e)&&!isObjectLike(i)?e!==e&&i!==i:baseIsEqualDeep(e,i,s,a,baseIsEqual$1,o)}var _baseIsEqual=baseIsEqual$1,baseIsEqual=_baseIsEqual;function isEqual(e,i){return baseIsEqual(e,i)}var isEqual_1$1=isEqual,quill={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(e,i){(function(a,o){e.exports=o()})(typeof self<"u"?self:commonjsGlobal,function(){return function(s){var a={};function o(c){if(a[c])return a[c].exports;var d=a[c]={i:c,l:!1,exports:{}};return s[c].call(d.exports,d,d.exports,o),d.l=!0,d.exports}return o.m=s,o.c=a,o.d=function(c,d,g){o.o(c,d)||Object.defineProperty(c,d,{configurable:!1,enumerable:!0,get:g})},o.n=function(c){var d=c&&c.__esModule?function(){return c.default}:function(){return c};return o.d(d,"a",d),d},o.o=function(c,d){return Object.prototype.hasOwnProperty.call(c,d)},o.p="",o(o.s=109)}([function(s,a,o){Object.defineProperty(a,"__esModule",{value:!0});var c=o(17),d=o(18),g=o(19),h=o(45),b=o(46),_=o(47),$=o(48),j=o(49),_e=o(12),rt=o(32),it=o(33),st=o(31),et=o(1),tt={Scope:et.Scope,create:et.create,find:et.find,query:et.query,register:et.register,Container:c.default,Format:d.default,Leaf:g.default,Embed:$.default,Scroll:h.default,Block:_.default,Inline:b.default,Text:j.default,Attributor:{Attribute:_e.default,Class:rt.default,Style:it.default,Store:st.default}};a.default=tt},function(s,a,o){var c=this&&this.__extends||function(){var st=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,tt){et.__proto__=tt}||function(et,tt){for(var ot in tt)tt.hasOwnProperty(ot)&&(et[ot]=tt[ot])};return function(et,tt){st(et,tt);function ot(){this.constructor=et}et.prototype=tt===null?Object.create(tt):(ot.prototype=tt.prototype,new ot)}}();Object.defineProperty(a,"__esModule",{value:!0});var d=function(st){c(et,st);function et(tt){var ot=this;return tt="[Parchment] "+tt,ot=st.call(this,tt)||this,ot.message=tt,ot.name=ot.constructor.name,ot}return et}(Error);a.ParchmentError=d;var g={},h={},b={},_={};a.DATA_KEY="__blot";var $;(function(st){st[st.TYPE=3]="TYPE",st[st.LEVEL=12]="LEVEL",st[st.ATTRIBUTE=13]="ATTRIBUTE",st[st.BLOT=14]="BLOT",st[st.INLINE=7]="INLINE",st[st.BLOCK=11]="BLOCK",st[st.BLOCK_BLOT=10]="BLOCK_BLOT",st[st.INLINE_BLOT=6]="INLINE_BLOT",st[st.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",st[st.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",st[st.ANY=15]="ANY"})($=a.Scope||(a.Scope={}));function j(st,et){var tt=rt(st);if(tt==null)throw new d("Unable to create "+st+" blot");var ot=tt,nt=st instanceof Node||st.nodeType===Node.TEXT_NODE?st:ot.create(et);return new ot(nt,et)}a.create=j;function _e(st,et){return et===void 0&&(et=!1),st==null?null:st[a.DATA_KEY]!=null?st[a.DATA_KEY].blot:et?_e(st.parentNode,et):null}a.find=_e;function rt(st,et){et===void 0&&(et=$.ANY);var tt;if(typeof st=="string")tt=_[st]||g[st];else if(st instanceof Text||st.nodeType===Node.TEXT_NODE)tt=_.text;else if(typeof st=="number")st&$.LEVEL&$.BLOCK?tt=_.block:st&$.LEVEL&$.INLINE&&(tt=_.inline);else if(st instanceof HTMLElement){var ot=(st.getAttribute("class")||"").split(/\s+/);for(var nt in ot)if(tt=h[ot[nt]],tt)break;tt=tt||b[st.tagName]}return tt==null?null:et&$.LEVEL&tt.scope&&et&$.TYPE&tt.scope?tt:null}a.query=rt;function it(){for(var st=[],et=0;et<arguments.length;et++)st[et]=arguments[et];if(st.length>1)return st.map(function(nt){return it(nt)});var tt=st[0];if(typeof tt.blotName!="string"&&typeof tt.attrName!="string")throw new d("Invalid definition");if(tt.blotName==="abstract")throw new d("Cannot register abstract class");if(_[tt.blotName||tt.attrName]=tt,typeof tt.keyName=="string")g[tt.keyName]=tt;else if(tt.className!=null&&(h[tt.className]=tt),tt.tagName!=null){Array.isArray(tt.tagName)?tt.tagName=tt.tagName.map(function(nt){return nt.toUpperCase()}):tt.tagName=tt.tagName.toUpperCase();var ot=Array.isArray(tt.tagName)?tt.tagName:[tt.tagName];ot.forEach(function(nt){(b[nt]==null||tt.className==null)&&(b[nt]=tt)})}return tt}a.register=it},function(s,a,o){var c=o(51),d=o(11),g=o(3),h=o(20),b="\0",_=function($){Array.isArray($)?this.ops=$:$!=null&&Array.isArray($.ops)?this.ops=$.ops:this.ops=[]};_.prototype.insert=function($,j){var _e={};return $.length===0?this:(_e.insert=$,j!=null&&typeof j=="object"&&Object.keys(j).length>0&&(_e.attributes=j),this.push(_e))},_.prototype.delete=function($){return $<=0?this:this.push({delete:$})},_.prototype.retain=function($,j){if($<=0)return this;var _e={retain:$};return j!=null&&typeof j=="object"&&Object.keys(j).length>0&&(_e.attributes=j),this.push(_e)},_.prototype.push=function($){var j=this.ops.length,_e=this.ops[j-1];if($=g(!0,{},$),typeof _e=="object"){if(typeof $.delete=="number"&&typeof _e.delete=="number")return this.ops[j-1]={delete:_e.delete+$.delete},this;if(typeof _e.delete=="number"&&$.insert!=null&&(j-=1,_e=this.ops[j-1],typeof _e!="object"))return this.ops.unshift($),this;if(d($.attributes,_e.attributes)){if(typeof $.insert=="string"&&typeof _e.insert=="string")return this.ops[j-1]={insert:_e.insert+$.insert},typeof $.attributes=="object"&&(this.ops[j-1].attributes=$.attributes),this;if(typeof $.retain=="number"&&typeof _e.retain=="number")return this.ops[j-1]={retain:_e.retain+$.retain},typeof $.attributes=="object"&&(this.ops[j-1].attributes=$.attributes),this}}return j===this.ops.length?this.ops.push($):this.ops.splice(j,0,$),this},_.prototype.chop=function(){var $=this.ops[this.ops.length-1];return $&&$.retain&&!$.attributes&&this.ops.pop(),this},_.prototype.filter=function($){return this.ops.filter($)},_.prototype.forEach=function($){this.ops.forEach($)},_.prototype.map=function($){return this.ops.map($)},_.prototype.partition=function($){var j=[],_e=[];return this.forEach(function(rt){var it=$(rt)?j:_e;it.push(rt)}),[j,_e]},_.prototype.reduce=function($,j){return this.ops.reduce($,j)},_.prototype.changeLength=function(){return this.reduce(function($,j){return j.insert?$+h.length(j):j.delete?$-j.delete:$},0)},_.prototype.length=function(){return this.reduce(function($,j){return $+h.length(j)},0)},_.prototype.slice=function($,j){$=$||0,typeof j!="number"&&(j=1/0);for(var _e=[],rt=h.iterator(this.ops),it=0;it<j&&rt.hasNext();){var st;it<$?st=rt.next($-it):(st=rt.next(j-it),_e.push(st)),it+=h.length(st)}return new _(_e)},_.prototype.compose=function($){var j=h.iterator(this.ops),_e=h.iterator($.ops),rt=[],it=_e.peek();if(it!=null&&typeof it.retain=="number"&&it.attributes==null){for(var st=it.retain;j.peekType()==="insert"&&j.peekLength()<=st;)st-=j.peekLength(),rt.push(j.next());it.retain-st>0&&_e.next(it.retain-st)}for(var et=new _(rt);j.hasNext()||_e.hasNext();)if(_e.peekType()==="insert")et.push(_e.next());else if(j.peekType()==="delete")et.push(j.next());else{var tt=Math.min(j.peekLength(),_e.peekLength()),ot=j.next(tt),nt=_e.next(tt);if(typeof nt.retain=="number"){var at={};typeof ot.retain=="number"?at.retain=tt:at.insert=ot.insert;var dt=h.attributes.compose(ot.attributes,nt.attributes,typeof ot.retain=="number");if(dt&&(at.attributes=dt),et.push(at),!_e.hasNext()&&d(et.ops[et.ops.length-1],at)){var ut=new _(j.rest());return et.concat(ut).chop()}}else typeof nt.delete=="number"&&typeof ot.retain=="number"&&et.push(nt)}return et.chop()},_.prototype.concat=function($){var j=new _(this.ops.slice());return $.ops.length>0&&(j.push($.ops[0]),j.ops=j.ops.concat($.ops.slice(1))),j},_.prototype.diff=function($,j){if(this.ops===$.ops)return new _;var _e=[this,$].map(function(tt){return tt.map(function(ot){if(ot.insert!=null)return typeof ot.insert=="string"?ot.insert:b;var nt=tt===$?"on":"with";throw new Error("diff() called "+nt+" non-document")}).join("")}),rt=new _,it=c(_e[0],_e[1],j),st=h.iterator(this.ops),et=h.iterator($.ops);return it.forEach(function(tt){for(var ot=tt[1].length;ot>0;){var nt=0;switch(tt[0]){case c.INSERT:nt=Math.min(et.peekLength(),ot),rt.push(et.next(nt));break;case c.DELETE:nt=Math.min(ot,st.peekLength()),st.next(nt),rt.delete(nt);break;case c.EQUAL:nt=Math.min(st.peekLength(),et.peekLength(),ot);var at=st.next(nt),dt=et.next(nt);d(at.insert,dt.insert)?rt.retain(nt,h.attributes.diff(at.attributes,dt.attributes)):rt.push(dt).delete(nt);break}ot-=nt}}),rt.chop()},_.prototype.eachLine=function($,j){j=j||`
`;for(var _e=h.iterator(this.ops),rt=new _,it=0;_e.hasNext();){if(_e.peekType()!=="insert")return;var st=_e.peek(),et=h.length(st)-_e.peekLength(),tt=typeof st.insert=="string"?st.insert.indexOf(j,et)-et:-1;if(tt<0)rt.push(_e.next());else if(tt>0)rt.push(_e.next(tt));else{if($(rt,_e.next(1).attributes||{},it)===!1)return;it+=1,rt=new _}}rt.length()>0&&$(rt,{},it)},_.prototype.transform=function($,j){if(j=!!j,typeof $=="number")return this.transformPosition($,j);for(var _e=h.iterator(this.ops),rt=h.iterator($.ops),it=new _;_e.hasNext()||rt.hasNext();)if(_e.peekType()==="insert"&&(j||rt.peekType()!=="insert"))it.retain(h.length(_e.next()));else if(rt.peekType()==="insert")it.push(rt.next());else{var st=Math.min(_e.peekLength(),rt.peekLength()),et=_e.next(st),tt=rt.next(st);if(et.delete)continue;tt.delete?it.push(tt):it.retain(st,h.attributes.transform(et.attributes,tt.attributes,j))}return it.chop()},_.prototype.transformPosition=function($,j){j=!!j;for(var _e=h.iterator(this.ops),rt=0;_e.hasNext()&&rt<=$;){var it=_e.peekLength(),st=_e.peekType();if(_e.next(),st==="delete"){$-=Math.min(it,$-rt);continue}else st==="insert"&&(rt<$||!j)&&($+=it);rt+=it}return $},s.exports=_},function(s,a){var o=Object.prototype.hasOwnProperty,c=Object.prototype.toString,d=Object.defineProperty,g=Object.getOwnPropertyDescriptor,h=function(_e){return typeof Array.isArray=="function"?Array.isArray(_e):c.call(_e)==="[object Array]"},b=function(_e){if(!_e||c.call(_e)!=="[object Object]")return!1;var rt=o.call(_e,"constructor"),it=_e.constructor&&_e.constructor.prototype&&o.call(_e.constructor.prototype,"isPrototypeOf");if(_e.constructor&&!rt&&!it)return!1;var st;for(st in _e);return typeof st>"u"||o.call(_e,st)},_=function(_e,rt){d&&rt.name==="__proto__"?d(_e,rt.name,{enumerable:!0,configurable:!0,value:rt.newValue,writable:!0}):_e[rt.name]=rt.newValue},$=function(_e,rt){if(rt==="__proto__")if(o.call(_e,rt)){if(g)return g(_e,rt).value}else return;return _e[rt]};s.exports=function j(){var _e,rt,it,st,et,tt,ot=arguments[0],nt=1,at=arguments.length,dt=!1;for(typeof ot=="boolean"&&(dt=ot,ot=arguments[1]||{},nt=2),(ot==null||typeof ot!="object"&&typeof ot!="function")&&(ot={});nt<at;++nt)if(_e=arguments[nt],_e!=null)for(rt in _e)it=$(ot,rt),st=$(_e,rt),ot!==st&&(dt&&st&&(b(st)||(et=h(st)))?(et?(et=!1,tt=it&&h(it)?it:[]):tt=it&&b(it)?it:{},_(ot,{name:rt,newValue:j(dt,tt,st)})):typeof st<"u"&&_(ot,{name:rt,newValue:st}));return ot}},function(s,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.BlockEmbed=a.bubbleFormats=void 0;var c=function(){function lt(ft,vt){for(var kt=0;kt<vt.length;kt++){var jt=vt[kt];jt.enumerable=jt.enumerable||!1,jt.configurable=!0,"value"in jt&&(jt.writable=!0),Object.defineProperty(ft,jt.key,jt)}}return function(ft,vt,kt){return vt&&lt(ft.prototype,vt),kt&&lt(ft,kt),ft}}(),d=function lt(ft,vt,kt){ft===null&&(ft=Function.prototype);var jt=Object.getOwnPropertyDescriptor(ft,vt);if(jt===void 0){var Ot=Object.getPrototypeOf(ft);return Ot===null?void 0:lt(Ot,vt,kt)}else{if("value"in jt)return jt.value;var Pt=jt.get;return Pt===void 0?void 0:Pt.call(kt)}},g=o(3),h=ot(g),b=o(2),_=ot(b),$=o(0),j=ot($),_e=o(16),rt=ot(_e),it=o(6),st=ot(it),et=o(7),tt=ot(et);function ot(lt){return lt&&lt.__esModule?lt:{default:lt}}function nt(lt,ft){if(!(lt instanceof ft))throw new TypeError("Cannot call a class as a function")}function at(lt,ft){if(!lt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ft&&(typeof ft=="object"||typeof ft=="function")?ft:lt}function dt(lt,ft){if(typeof ft!="function"&&ft!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ft);lt.prototype=Object.create(ft&&ft.prototype,{constructor:{value:lt,enumerable:!1,writable:!0,configurable:!0}}),ft&&(Object.setPrototypeOf?Object.setPrototypeOf(lt,ft):lt.__proto__=ft)}var ut=1,ct=function(lt){dt(ft,lt);function ft(){return nt(this,ft),at(this,(ft.__proto__||Object.getPrototypeOf(ft)).apply(this,arguments))}return c(ft,[{key:"attach",value:function(){d(ft.prototype.__proto__||Object.getPrototypeOf(ft.prototype),"attach",this).call(this),this.attributes=new j.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new _.default().insert(this.value(),(0,h.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(kt,jt){var Ot=j.default.query(kt,j.default.Scope.BLOCK_ATTRIBUTE);Ot!=null&&this.attributes.attribute(Ot,jt)}},{key:"formatAt",value:function(kt,jt,Ot,Pt){this.format(Ot,Pt)}},{key:"insertAt",value:function(kt,jt,Ot){if(typeof jt=="string"&&jt.endsWith(`
`)){var Pt=j.default.create(ht.blotName);this.parent.insertBefore(Pt,kt===0?this:this.next),Pt.insertAt(0,jt.slice(0,-1))}else d(ft.prototype.__proto__||Object.getPrototypeOf(ft.prototype),"insertAt",this).call(this,kt,jt,Ot)}}]),ft}(j.default.Embed);ct.scope=j.default.Scope.BLOCK_BLOT;var ht=function(lt){dt(ft,lt);function ft(vt){nt(this,ft);var kt=at(this,(ft.__proto__||Object.getPrototypeOf(ft)).call(this,vt));return kt.cache={},kt}return c(ft,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(j.default.Leaf).reduce(function(kt,jt){return jt.length()===0?kt:kt.insert(jt.value(),mt(jt))},new _.default).insert(`
`,mt(this))),this.cache.delta}},{key:"deleteAt",value:function(kt,jt){d(ft.prototype.__proto__||Object.getPrototypeOf(ft.prototype),"deleteAt",this).call(this,kt,jt),this.cache={}}},{key:"formatAt",value:function(kt,jt,Ot,Pt){jt<=0||(j.default.query(Ot,j.default.Scope.BLOCK)?kt+jt===this.length()&&this.format(Ot,Pt):d(ft.prototype.__proto__||Object.getPrototypeOf(ft.prototype),"formatAt",this).call(this,kt,Math.min(jt,this.length()-kt-1),Ot,Pt),this.cache={})}},{key:"insertAt",value:function(kt,jt,Ot){if(Ot!=null)return d(ft.prototype.__proto__||Object.getPrototypeOf(ft.prototype),"insertAt",this).call(this,kt,jt,Ot);if(jt.length!==0){var Pt=jt.split(`
`),Lt=Pt.shift();Lt.length>0&&(kt<this.length()-1||this.children.tail==null?d(ft.prototype.__proto__||Object.getPrototypeOf(ft.prototype),"insertAt",this).call(this,Math.min(kt,this.length()-1),Lt):this.children.tail.insertAt(this.children.tail.length(),Lt),this.cache={});var wt=this;Pt.reduce(function(St,_t){return wt=wt.split(St,!0),wt.insertAt(0,_t),_t.length},kt+Lt.length)}}},{key:"insertBefore",value:function(kt,jt){var Ot=this.children.head;d(ft.prototype.__proto__||Object.getPrototypeOf(ft.prototype),"insertBefore",this).call(this,kt,jt),Ot instanceof rt.default&&Ot.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=d(ft.prototype.__proto__||Object.getPrototypeOf(ft.prototype),"length",this).call(this)+ut),this.cache.length}},{key:"moveChildren",value:function(kt,jt){d(ft.prototype.__proto__||Object.getPrototypeOf(ft.prototype),"moveChildren",this).call(this,kt,jt),this.cache={}}},{key:"optimize",value:function(kt){d(ft.prototype.__proto__||Object.getPrototypeOf(ft.prototype),"optimize",this).call(this,kt),this.cache={}}},{key:"path",value:function(kt){return d(ft.prototype.__proto__||Object.getPrototypeOf(ft.prototype),"path",this).call(this,kt,!0)}},{key:"removeChild",value:function(kt){d(ft.prototype.__proto__||Object.getPrototypeOf(ft.prototype),"removeChild",this).call(this,kt),this.cache={}}},{key:"split",value:function(kt){var jt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(jt&&(kt===0||kt>=this.length()-ut)){var Ot=this.clone();return kt===0?(this.parent.insertBefore(Ot,this),this):(this.parent.insertBefore(Ot,this.next),Ot)}else{var Pt=d(ft.prototype.__proto__||Object.getPrototypeOf(ft.prototype),"split",this).call(this,kt,jt);return this.cache={},Pt}}}]),ft}(j.default.Block);ht.blotName="block",ht.tagName="P",ht.defaultChild="break",ht.allowedChildren=[st.default,j.default.Embed,tt.default];function mt(lt){var ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return lt==null||(typeof lt.formats=="function"&&(ft=(0,h.default)(ft,lt.formats())),lt.parent==null||lt.parent.blotName=="scroll"||lt.parent.statics.scope!==lt.statics.scope)?ft:mt(lt.parent,ft)}a.bubbleFormats=mt,a.BlockEmbed=ct,a.default=ht},function(s,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.overload=a.expandConfig=void 0;var c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(wt){return typeof wt}:function(wt){return wt&&typeof Symbol=="function"&&wt.constructor===Symbol&&wt!==Symbol.prototype?"symbol":typeof wt},d=function(){function wt(St,_t){var xt=[],pt=!0,gt=!1,Et=void 0;try{for(var bt=St[Symbol.iterator](),At;!(pt=(At=bt.next()).done)&&(xt.push(At.value),!(_t&&xt.length===_t));pt=!0);}catch(Tt){gt=!0,Et=Tt}finally{try{!pt&&bt.return&&bt.return()}finally{if(gt)throw Et}}return xt}return function(St,_t){if(Array.isArray(St))return St;if(Symbol.iterator in Object(St))return wt(St,_t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(){function wt(St,_t){for(var xt=0;xt<_t.length;xt++){var pt=_t[xt];pt.enumerable=pt.enumerable||!1,pt.configurable=!0,"value"in pt&&(pt.writable=!0),Object.defineProperty(St,pt.key,pt)}}return function(St,_t,xt){return _t&&wt(St.prototype,_t),xt&&wt(St,xt),St}}();o(50);var h=o(2),b=mt(h),_=o(14),$=mt(_),j=o(8),_e=mt(j),rt=o(9),it=mt(rt),st=o(0),et=mt(st),tt=o(15),ot=mt(tt),nt=o(3),at=mt(nt),dt=o(10),ut=mt(dt),ct=o(34),ht=mt(ct);function mt(wt){return wt&&wt.__esModule?wt:{default:wt}}function lt(wt,St,_t){return St in wt?Object.defineProperty(wt,St,{value:_t,enumerable:!0,configurable:!0,writable:!0}):wt[St]=_t,wt}function ft(wt,St){if(!(wt instanceof St))throw new TypeError("Cannot call a class as a function")}var vt=(0,ut.default)("quill"),kt=function(){g(wt,null,[{key:"debug",value:function(_t){_t===!0&&(_t="log"),ut.default.level(_t)}},{key:"find",value:function(_t){return _t.__quill||et.default.find(_t)}},{key:"import",value:function(_t){return this.imports[_t]==null&&vt.error("Cannot import "+_t+". Are you sure it was registered?"),this.imports[_t]}},{key:"register",value:function(_t,xt){var pt=this,gt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof _t!="string"){var Et=_t.attrName||_t.blotName;typeof Et=="string"?this.register("formats/"+Et,_t,xt):Object.keys(_t).forEach(function(bt){pt.register(bt,_t[bt],xt)})}else this.imports[_t]!=null&&!gt&&vt.warn("Overwriting "+_t+" with",xt),this.imports[_t]=xt,(_t.startsWith("blots/")||_t.startsWith("formats/"))&&xt.blotName!=="abstract"?et.default.register(xt):_t.startsWith("modules")&&typeof xt.register=="function"&&xt.register()}}]);function wt(St){var _t=this,xt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(ft(this,wt),this.options=jt(St,xt),this.container=this.options.container,this.container==null)return vt.error("Invalid Quill container",St);this.options.debug&&wt.debug(this.options.debug);var pt=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new _e.default,this.scroll=et.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new $.default(this.scroll),this.selection=new ot.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(_e.default.events.EDITOR_CHANGE,function(Et){Et===_e.default.events.TEXT_CHANGE&&_t.root.classList.toggle("ql-blank",_t.editor.isBlank())}),this.emitter.on(_e.default.events.SCROLL_UPDATE,function(Et,bt){var At=_t.selection.lastRange,Tt=At&&At.length===0?At.index:void 0;Ot.call(_t,function(){return _t.editor.update(null,bt,Tt)},Et)});var gt=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+pt+"<p><br></p></div>");this.setContents(gt),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return g(wt,[{key:"addContainer",value:function(_t){var xt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof _t=="string"){var pt=_t;_t=document.createElement("div"),_t.classList.add(pt)}return this.container.insertBefore(_t,xt),_t}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(_t,xt,pt){var gt=this,Et=Pt(_t,xt,pt),bt=d(Et,4);return _t=bt[0],xt=bt[1],pt=bt[3],Ot.call(this,function(){return gt.editor.deleteText(_t,xt)},pt,_t,-1*xt)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var _t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(_t),this.container.classList.toggle("ql-disabled",!_t)}},{key:"focus",value:function(){var _t=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=_t,this.scrollIntoView()}},{key:"format",value:function(_t,xt){var pt=this,gt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_e.default.sources.API;return Ot.call(this,function(){var Et=pt.getSelection(!0),bt=new b.default;if(Et==null)return bt;if(et.default.query(_t,et.default.Scope.BLOCK))bt=pt.editor.formatLine(Et.index,Et.length,lt({},_t,xt));else{if(Et.length===0)return pt.selection.format(_t,xt),bt;bt=pt.editor.formatText(Et.index,Et.length,lt({},_t,xt))}return pt.setSelection(Et,_e.default.sources.SILENT),bt},gt)}},{key:"formatLine",value:function(_t,xt,pt,gt,Et){var bt=this,At=void 0,Tt=Pt(_t,xt,pt,gt,Et),Nt=d(Tt,4);return _t=Nt[0],xt=Nt[1],At=Nt[2],Et=Nt[3],Ot.call(this,function(){return bt.editor.formatLine(_t,xt,At)},Et,_t,0)}},{key:"formatText",value:function(_t,xt,pt,gt,Et){var bt=this,At=void 0,Tt=Pt(_t,xt,pt,gt,Et),Nt=d(Tt,4);return _t=Nt[0],xt=Nt[1],At=Nt[2],Et=Nt[3],Ot.call(this,function(){return bt.editor.formatText(_t,xt,At)},Et,_t,0)}},{key:"getBounds",value:function(_t){var xt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,pt=void 0;typeof _t=="number"?pt=this.selection.getBounds(_t,xt):pt=this.selection.getBounds(_t.index,_t.length);var gt=this.container.getBoundingClientRect();return{bottom:pt.bottom-gt.top,height:pt.height,left:pt.left-gt.left,right:pt.right-gt.left,top:pt.top-gt.top,width:pt.width}}},{key:"getContents",value:function(){var _t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,xt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-_t,pt=Pt(_t,xt),gt=d(pt,2);return _t=gt[0],xt=gt[1],this.editor.getContents(_t,xt)}},{key:"getFormat",value:function(){var _t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),xt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof _t=="number"?this.editor.getFormat(_t,xt):this.editor.getFormat(_t.index,_t.length)}},{key:"getIndex",value:function(_t){return _t.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(_t){return this.scroll.leaf(_t)}},{key:"getLine",value:function(_t){return this.scroll.line(_t)}},{key:"getLines",value:function(){var _t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,xt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof _t!="number"?this.scroll.lines(_t.index,_t.length):this.scroll.lines(_t,xt)}},{key:"getModule",value:function(_t){return this.theme.modules[_t]}},{key:"getSelection",value:function(){var _t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return _t&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var _t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,xt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-_t,pt=Pt(_t,xt),gt=d(pt,2);return _t=gt[0],xt=gt[1],this.editor.getText(_t,xt)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(_t,xt,pt){var gt=this,Et=arguments.length>3&&arguments[3]!==void 0?arguments[3]:wt.sources.API;return Ot.call(this,function(){return gt.editor.insertEmbed(_t,xt,pt)},Et,_t)}},{key:"insertText",value:function(_t,xt,pt,gt,Et){var bt=this,At=void 0,Tt=Pt(_t,0,pt,gt,Et),Nt=d(Tt,4);return _t=Nt[0],At=Nt[2],Et=Nt[3],Ot.call(this,function(){return bt.editor.insertText(_t,xt,At)},Et,_t,xt.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(_t,xt,pt){this.clipboard.dangerouslyPasteHTML(_t,xt,pt)}},{key:"removeFormat",value:function(_t,xt,pt){var gt=this,Et=Pt(_t,xt,pt),bt=d(Et,4);return _t=bt[0],xt=bt[1],pt=bt[3],Ot.call(this,function(){return gt.editor.removeFormat(_t,xt)},pt,_t)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(_t){var xt=this,pt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_e.default.sources.API;return Ot.call(this,function(){_t=new b.default(_t);var gt=xt.getLength(),Et=xt.editor.deleteText(0,gt),bt=xt.editor.applyDelta(_t),At=bt.ops[bt.ops.length-1];At!=null&&typeof At.insert=="string"&&At.insert[At.insert.length-1]===`
`&&(xt.editor.deleteText(xt.getLength()-1,1),bt.delete(1));var Tt=Et.compose(bt);return Tt},pt)}},{key:"setSelection",value:function(_t,xt,pt){if(_t==null)this.selection.setRange(null,xt||wt.sources.API);else{var gt=Pt(_t,xt,pt),Et=d(gt,4);_t=Et[0],xt=Et[1],pt=Et[3],this.selection.setRange(new tt.Range(_t,xt),pt),pt!==_e.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(_t){var xt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_e.default.sources.API,pt=new b.default().insert(_t);return this.setContents(pt,xt)}},{key:"update",value:function(){var _t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_e.default.sources.USER,xt=this.scroll.update(_t);return this.selection.update(_t),xt}},{key:"updateContents",value:function(_t){var xt=this,pt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_e.default.sources.API;return Ot.call(this,function(){return _t=new b.default(_t),xt.editor.applyDelta(_t,pt)},pt,!0)}}]),wt}();kt.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},kt.events=_e.default.events,kt.sources=_e.default.sources,kt.version="1.3.7",kt.imports={delta:b.default,parchment:et.default,"core/module":it.default,"core/theme":ht.default};function jt(wt,St){if(St=(0,at.default)(!0,{container:wt,modules:{clipboard:!0,keyboard:!0,history:!0}},St),!St.theme||St.theme===kt.DEFAULTS.theme)St.theme=ht.default;else if(St.theme=kt.import("themes/"+St.theme),St.theme==null)throw new Error("Invalid theme "+St.theme+". Did you register it?");var _t=(0,at.default)(!0,{},St.theme.DEFAULTS);[_t,St].forEach(function(gt){gt.modules=gt.modules||{},Object.keys(gt.modules).forEach(function(Et){gt.modules[Et]===!0&&(gt.modules[Et]={})})});var xt=Object.keys(_t.modules).concat(Object.keys(St.modules)),pt=xt.reduce(function(gt,Et){var bt=kt.import("modules/"+Et);return bt==null?vt.error("Cannot load "+Et+" module. Are you sure you registered it?"):gt[Et]=bt.DEFAULTS||{},gt},{});return St.modules!=null&&St.modules.toolbar&&St.modules.toolbar.constructor!==Object&&(St.modules.toolbar={container:St.modules.toolbar}),St=(0,at.default)(!0,{},kt.DEFAULTS,{modules:pt},_t,St),["bounds","container","scrollingContainer"].forEach(function(gt){typeof St[gt]=="string"&&(St[gt]=document.querySelector(St[gt]))}),St.modules=Object.keys(St.modules).reduce(function(gt,Et){return St.modules[Et]&&(gt[Et]=St.modules[Et]),gt},{}),St}function Ot(wt,St,_t,xt){if(this.options.strict&&!this.isEnabled()&&St===_e.default.sources.USER)return new b.default;var pt=_t==null?null:this.getSelection(),gt=this.editor.delta,Et=wt();if(pt!=null&&(_t===!0&&(_t=pt.index),xt==null?pt=Lt(pt,Et,St):xt!==0&&(pt=Lt(pt,_t,xt,St)),this.setSelection(pt,_e.default.sources.SILENT)),Et.length()>0){var bt,At=[_e.default.events.TEXT_CHANGE,Et,gt,St];if((bt=this.emitter).emit.apply(bt,[_e.default.events.EDITOR_CHANGE].concat(At)),St!==_e.default.sources.SILENT){var Tt;(Tt=this.emitter).emit.apply(Tt,At)}}return Et}function Pt(wt,St,_t,xt,pt){var gt={};return typeof wt.index=="number"&&typeof wt.length=="number"?typeof St!="number"?(pt=xt,xt=_t,_t=St,St=wt.length,wt=wt.index):(St=wt.length,wt=wt.index):typeof St!="number"&&(pt=xt,xt=_t,_t=St,St=0),(typeof _t>"u"?"undefined":c(_t))==="object"?(gt=_t,pt=xt):typeof _t=="string"&&(xt!=null?gt[_t]=xt:pt=_t),pt=pt||_e.default.sources.API,[wt,St,gt,pt]}function Lt(wt,St,_t,xt){if(wt==null)return null;var pt=void 0,gt=void 0;if(St instanceof b.default){var Et=[wt.index,wt.index+wt.length].map(function(Nt){return St.transformPosition(Nt,xt!==_e.default.sources.USER)}),bt=d(Et,2);pt=bt[0],gt=bt[1]}else{var At=[wt.index,wt.index+wt.length].map(function(Nt){return Nt<St||Nt===St&&xt===_e.default.sources.USER?Nt:_t>=0?Nt+_t:Math.max(St,Nt+_t)}),Tt=d(At,2);pt=Tt[0],gt=Tt[1]}return new tt.Range(pt,gt-pt)}a.expandConfig=jt,a.overload=Pt,a.default=kt},function(s,a,o){Object.defineProperty(a,"__esModule",{value:!0});var c=function(){function st(et,tt){for(var ot=0;ot<tt.length;ot++){var nt=tt[ot];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(et,nt.key,nt)}}return function(et,tt,ot){return tt&&st(et.prototype,tt),ot&&st(et,ot),et}}(),d=function st(et,tt,ot){et===null&&(et=Function.prototype);var nt=Object.getOwnPropertyDescriptor(et,tt);if(nt===void 0){var at=Object.getPrototypeOf(et);return at===null?void 0:st(at,tt,ot)}else{if("value"in nt)return nt.value;var dt=nt.get;return dt===void 0?void 0:dt.call(ot)}},g=o(7),h=$(g),b=o(0),_=$(b);function $(st){return st&&st.__esModule?st:{default:st}}function j(st,et){if(!(st instanceof et))throw new TypeError("Cannot call a class as a function")}function _e(st,et){if(!st)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et&&(typeof et=="object"||typeof et=="function")?et:st}function rt(st,et){if(typeof et!="function"&&et!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof et);st.prototype=Object.create(et&&et.prototype,{constructor:{value:st,enumerable:!1,writable:!0,configurable:!0}}),et&&(Object.setPrototypeOf?Object.setPrototypeOf(st,et):st.__proto__=et)}var it=function(st){rt(et,st);function et(){return j(this,et),_e(this,(et.__proto__||Object.getPrototypeOf(et)).apply(this,arguments))}return c(et,[{key:"formatAt",value:function(ot,nt,at,dt){if(et.compare(this.statics.blotName,at)<0&&_.default.query(at,_.default.Scope.BLOT)){var ut=this.isolate(ot,nt);dt&&ut.wrap(at,dt)}else d(et.prototype.__proto__||Object.getPrototypeOf(et.prototype),"formatAt",this).call(this,ot,nt,at,dt)}},{key:"optimize",value:function(ot){if(d(et.prototype.__proto__||Object.getPrototypeOf(et.prototype),"optimize",this).call(this,ot),this.parent instanceof et&&et.compare(this.statics.blotName,this.parent.statics.blotName)>0){var nt=this.parent.isolate(this.offset(),this.length());this.moveChildren(nt),nt.wrap(this)}}}],[{key:"compare",value:function(ot,nt){var at=et.order.indexOf(ot),dt=et.order.indexOf(nt);return at>=0||dt>=0?at-dt:ot===nt?0:ot<nt?-1:1}}]),et}(_.default.Inline);it.allowedChildren=[it,_.default.Embed,h.default],it.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],a.default=it},function(s,a,o){Object.defineProperty(a,"__esModule",{value:!0});var c=o(0),d=g(c);function g(j){return j&&j.__esModule?j:{default:j}}function h(j,_e){if(!(j instanceof _e))throw new TypeError("Cannot call a class as a function")}function b(j,_e){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e&&(typeof _e=="object"||typeof _e=="function")?_e:j}function _(j,_e){if(typeof _e!="function"&&_e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _e);j.prototype=Object.create(_e&&_e.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),_e&&(Object.setPrototypeOf?Object.setPrototypeOf(j,_e):j.__proto__=_e)}var $=function(j){_(_e,j);function _e(){return h(this,_e),b(this,(_e.__proto__||Object.getPrototypeOf(_e)).apply(this,arguments))}return _e}(d.default.Text);a.default=$},function(s,a,o){Object.defineProperty(a,"__esModule",{value:!0});var c=function(){function tt(ot,nt){for(var at=0;at<nt.length;at++){var dt=nt[at];dt.enumerable=dt.enumerable||!1,dt.configurable=!0,"value"in dt&&(dt.writable=!0),Object.defineProperty(ot,dt.key,dt)}}return function(ot,nt,at){return nt&&tt(ot.prototype,nt),at&&tt(ot,at),ot}}(),d=function tt(ot,nt,at){ot===null&&(ot=Function.prototype);var dt=Object.getOwnPropertyDescriptor(ot,nt);if(dt===void 0){var ut=Object.getPrototypeOf(ot);return ut===null?void 0:tt(ut,nt,at)}else{if("value"in dt)return dt.value;var ct=dt.get;return ct===void 0?void 0:ct.call(at)}},g=o(54),h=$(g),b=o(10),_=$(b);function $(tt){return tt&&tt.__esModule?tt:{default:tt}}function j(tt,ot){if(!(tt instanceof ot))throw new TypeError("Cannot call a class as a function")}function _e(tt,ot){if(!tt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ot&&(typeof ot=="object"||typeof ot=="function")?ot:tt}function rt(tt,ot){if(typeof ot!="function"&&ot!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ot);tt.prototype=Object.create(ot&&ot.prototype,{constructor:{value:tt,enumerable:!1,writable:!0,configurable:!0}}),ot&&(Object.setPrototypeOf?Object.setPrototypeOf(tt,ot):tt.__proto__=ot)}var it=(0,_.default)("quill:events"),st=["selectionchange","mousedown","mouseup","click"];st.forEach(function(tt){document.addEventListener(tt,function(){for(var ot=arguments.length,nt=Array(ot),at=0;at<ot;at++)nt[at]=arguments[at];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(dt){if(dt.__quill&&dt.__quill.emitter){var ut;(ut=dt.__quill.emitter).handleDOM.apply(ut,nt)}})})});var et=function(tt){rt(ot,tt);function ot(){j(this,ot);var nt=_e(this,(ot.__proto__||Object.getPrototypeOf(ot)).call(this));return nt.listeners={},nt.on("error",it.error),nt}return c(ot,[{key:"emit",value:function(){it.log.apply(it,arguments),d(ot.prototype.__proto__||Object.getPrototypeOf(ot.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(at){for(var dt=arguments.length,ut=Array(dt>1?dt-1:0),ct=1;ct<dt;ct++)ut[ct-1]=arguments[ct];(this.listeners[at.type]||[]).forEach(function(ht){var mt=ht.node,lt=ht.handler;(at.target===mt||mt.contains(at.target))&&lt.apply(void 0,[at].concat(ut))})}},{key:"listenDOM",value:function(at,dt,ut){this.listeners[at]||(this.listeners[at]=[]),this.listeners[at].push({node:dt,handler:ut})}}]),ot}(h.default);et.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},et.sources={API:"api",SILENT:"silent",USER:"user"},a.default=et},function(s,a,o){Object.defineProperty(a,"__esModule",{value:!0});function c(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")}var d=function g(h){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};c(this,g),this.quill=h,this.options=b};d.DEFAULTS={},a.default=d},function(s,a,o){Object.defineProperty(a,"__esModule",{value:!0});var c=["error","warn","log","info"],d="warn";function g(b){if(c.indexOf(b)<=c.indexOf(d)){for(var _,$=arguments.length,j=Array($>1?$-1:0),_e=1;_e<$;_e++)j[_e-1]=arguments[_e];(_=console)[b].apply(_,j)}}function h(b){return c.reduce(function(_,$){return _[$]=g.bind(console,$,b),_},{})}g.level=h.level=function(b){d=b},a.default=h},function(s,a,o){var c=Array.prototype.slice,d=o(52),g=o(53),h=s.exports=function(j,_e,rt){return rt||(rt={}),j===_e?!0:j instanceof Date&&_e instanceof Date?j.getTime()===_e.getTime():!j||!_e||typeof j!="object"&&typeof _e!="object"?rt.strict?j===_e:j==_e:$(j,_e,rt)};function b(j){return j==null}function _(j){return!(!j||typeof j!="object"||typeof j.length!="number"||typeof j.copy!="function"||typeof j.slice!="function"||j.length>0&&typeof j[0]!="number")}function $(j,_e,rt){var it,st;if(b(j)||b(_e)||j.prototype!==_e.prototype)return!1;if(g(j))return g(_e)?(j=c.call(j),_e=c.call(_e),h(j,_e,rt)):!1;if(_(j)){if(!_(_e)||j.length!==_e.length)return!1;for(it=0;it<j.length;it++)if(j[it]!==_e[it])return!1;return!0}try{var et=d(j),tt=d(_e)}catch{return!1}if(et.length!=tt.length)return!1;for(et.sort(),tt.sort(),it=et.length-1;it>=0;it--)if(et[it]!=tt[it])return!1;for(it=et.length-1;it>=0;it--)if(st=et[it],!h(j[st],_e[st],rt))return!1;return typeof j==typeof _e}},function(s,a,o){Object.defineProperty(a,"__esModule",{value:!0});var c=o(1),d=function(){function g(h,b,_){_===void 0&&(_={}),this.attrName=h,this.keyName=b;var $=c.Scope.TYPE&c.Scope.ATTRIBUTE;_.scope!=null?this.scope=_.scope&c.Scope.LEVEL|$:this.scope=c.Scope.ATTRIBUTE,_.whitelist!=null&&(this.whitelist=_.whitelist)}return g.keys=function(h){return[].map.call(h.attributes,function(b){return b.name})},g.prototype.add=function(h,b){return this.canAdd(h,b)?(h.setAttribute(this.keyName,b),!0):!1},g.prototype.canAdd=function(h,b){var _=c.query(h,c.Scope.BLOT&(this.scope|c.Scope.TYPE));return _==null?!1:this.whitelist==null?!0:typeof b=="string"?this.whitelist.indexOf(b.replace(/["']/g,""))>-1:this.whitelist.indexOf(b)>-1},g.prototype.remove=function(h){h.removeAttribute(this.keyName)},g.prototype.value=function(h){var b=h.getAttribute(this.keyName);return this.canAdd(h,b)&&b?b:""},g}();a.default=d},function(s,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.Code=void 0;var c=function(){function ct(ht,mt){var lt=[],ft=!0,vt=!1,kt=void 0;try{for(var jt=ht[Symbol.iterator](),Ot;!(ft=(Ot=jt.next()).done)&&(lt.push(Ot.value),!(mt&&lt.length===mt));ft=!0);}catch(Pt){vt=!0,kt=Pt}finally{try{!ft&&jt.return&&jt.return()}finally{if(vt)throw kt}}return lt}return function(ht,mt){if(Array.isArray(ht))return ht;if(Symbol.iterator in Object(ht))return ct(ht,mt);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(){function ct(ht,mt){for(var lt=0;lt<mt.length;lt++){var ft=mt[lt];ft.enumerable=ft.enumerable||!1,ft.configurable=!0,"value"in ft&&(ft.writable=!0),Object.defineProperty(ht,ft.key,ft)}}return function(ht,mt,lt){return mt&&ct(ht.prototype,mt),lt&&ct(ht,lt),ht}}(),g=function ct(ht,mt,lt){ht===null&&(ht=Function.prototype);var ft=Object.getOwnPropertyDescriptor(ht,mt);if(ft===void 0){var vt=Object.getPrototypeOf(ht);return vt===null?void 0:ct(vt,mt,lt)}else{if("value"in ft)return ft.value;var kt=ft.get;return kt===void 0?void 0:kt.call(lt)}},h=o(2),b=tt(h),_=o(0),$=tt(_),j=o(4),_e=tt(j),rt=o(6),it=tt(rt),st=o(7),et=tt(st);function tt(ct){return ct&&ct.__esModule?ct:{default:ct}}function ot(ct,ht){if(!(ct instanceof ht))throw new TypeError("Cannot call a class as a function")}function nt(ct,ht){if(!ct)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ht&&(typeof ht=="object"||typeof ht=="function")?ht:ct}function at(ct,ht){if(typeof ht!="function"&&ht!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ht);ct.prototype=Object.create(ht&&ht.prototype,{constructor:{value:ct,enumerable:!1,writable:!0,configurable:!0}}),ht&&(Object.setPrototypeOf?Object.setPrototypeOf(ct,ht):ct.__proto__=ht)}var dt=function(ct){at(ht,ct);function ht(){return ot(this,ht),nt(this,(ht.__proto__||Object.getPrototypeOf(ht)).apply(this,arguments))}return ht}(it.default);dt.blotName="code",dt.tagName="CODE";var ut=function(ct){at(ht,ct);function ht(){return ot(this,ht),nt(this,(ht.__proto__||Object.getPrototypeOf(ht)).apply(this,arguments))}return d(ht,[{key:"delta",value:function(){var lt=this,ft=this.domNode.textContent;return ft.endsWith(`
`)&&(ft=ft.slice(0,-1)),ft.split(`
`).reduce(function(vt,kt){return vt.insert(kt).insert(`
`,lt.formats())},new b.default)}},{key:"format",value:function(lt,ft){if(!(lt===this.statics.blotName&&ft)){var vt=this.descendant(et.default,this.length()-1),kt=c(vt,1),jt=kt[0];jt!=null&&jt.deleteAt(jt.length()-1,1),g(ht.prototype.__proto__||Object.getPrototypeOf(ht.prototype),"format",this).call(this,lt,ft)}}},{key:"formatAt",value:function(lt,ft,vt,kt){if(ft!==0&&!($.default.query(vt,$.default.Scope.BLOCK)==null||vt===this.statics.blotName&&kt===this.statics.formats(this.domNode))){var jt=this.newlineIndex(lt);if(!(jt<0||jt>=lt+ft)){var Ot=this.newlineIndex(lt,!0)+1,Pt=jt-Ot+1,Lt=this.isolate(Ot,Pt),wt=Lt.next;Lt.format(vt,kt),wt instanceof ht&&wt.formatAt(0,lt-Ot+ft-Pt,vt,kt)}}}},{key:"insertAt",value:function(lt,ft,vt){if(vt==null){var kt=this.descendant(et.default,lt),jt=c(kt,2),Ot=jt[0],Pt=jt[1];Ot.insertAt(Pt,ft)}}},{key:"length",value:function(){var lt=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?lt:lt+1}},{key:"newlineIndex",value:function(lt){var ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(ft)return this.domNode.textContent.slice(0,lt).lastIndexOf(`
`);var vt=this.domNode.textContent.slice(lt).indexOf(`
`);return vt>-1?lt+vt:-1}},{key:"optimize",value:function(lt){this.domNode.textContent.endsWith(`
`)||this.appendChild($.default.create("text",`
`)),g(ht.prototype.__proto__||Object.getPrototypeOf(ht.prototype),"optimize",this).call(this,lt);var ft=this.next;ft!=null&&ft.prev===this&&ft.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===ft.statics.formats(ft.domNode)&&(ft.optimize(lt),ft.moveChildren(this),ft.remove())}},{key:"replace",value:function(lt){g(ht.prototype.__proto__||Object.getPrototypeOf(ht.prototype),"replace",this).call(this,lt),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(ft){var vt=$.default.find(ft);vt==null?ft.parentNode.removeChild(ft):vt instanceof $.default.Embed?vt.remove():vt.unwrap()})}}],[{key:"create",value:function(lt){var ft=g(ht.__proto__||Object.getPrototypeOf(ht),"create",this).call(this,lt);return ft.setAttribute("spellcheck",!1),ft}},{key:"formats",value:function(){return!0}}]),ht}(_e.default);ut.blotName="code-block",ut.tagName="PRE",ut.TAB="  ",a.Code=dt,a.default=ut},function(s,a,o){Object.defineProperty(a,"__esModule",{value:!0});var c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(wt){return typeof wt}:function(wt){return wt&&typeof Symbol=="function"&&wt.constructor===Symbol&&wt!==Symbol.prototype?"symbol":typeof wt},d=function(){function wt(St,_t){var xt=[],pt=!0,gt=!1,Et=void 0;try{for(var bt=St[Symbol.iterator](),At;!(pt=(At=bt.next()).done)&&(xt.push(At.value),!(_t&&xt.length===_t));pt=!0);}catch(Tt){gt=!0,Et=Tt}finally{try{!pt&&bt.return&&bt.return()}finally{if(gt)throw Et}}return xt}return function(St,_t){if(Array.isArray(St))return St;if(Symbol.iterator in Object(St))return wt(St,_t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(){function wt(St,_t){for(var xt=0;xt<_t.length;xt++){var pt=_t[xt];pt.enumerable=pt.enumerable||!1,pt.configurable=!0,"value"in pt&&(pt.writable=!0),Object.defineProperty(St,pt.key,pt)}}return function(St,_t,xt){return _t&&wt(St.prototype,_t),xt&&wt(St,xt),St}}(),h=o(2),b=ft(h),_=o(20),$=ft(_),j=o(0),_e=ft(j),rt=o(13),it=ft(rt),st=o(24),et=ft(st),tt=o(4),ot=ft(tt),nt=o(16),at=ft(nt),dt=o(21),ut=ft(dt),ct=o(11),ht=ft(ct),mt=o(3),lt=ft(mt);function ft(wt){return wt&&wt.__esModule?wt:{default:wt}}function vt(wt,St,_t){return St in wt?Object.defineProperty(wt,St,{value:_t,enumerable:!0,configurable:!0,writable:!0}):wt[St]=_t,wt}function kt(wt,St){if(!(wt instanceof St))throw new TypeError("Cannot call a class as a function")}var jt=/^[ -~]*$/,Ot=function(){function wt(St){kt(this,wt),this.scroll=St,this.delta=this.getDelta()}return g(wt,[{key:"applyDelta",value:function(_t){var xt=this,pt=!1;this.scroll.update();var gt=this.scroll.length();return this.scroll.batchStart(),_t=Lt(_t),_t.reduce(function(Et,bt){var At=bt.retain||bt.delete||bt.insert.length||1,Tt=bt.attributes||{};if(bt.insert!=null){if(typeof bt.insert=="string"){var Nt=bt.insert;Nt.endsWith(`
`)&&pt&&(pt=!1,Nt=Nt.slice(0,-1)),Et>=gt&&!Nt.endsWith(`
`)&&(pt=!0),xt.scroll.insertAt(Et,Nt);var Dt=xt.scroll.line(Et),zt=d(Dt,2),Yt=zt[0],Xt=zt[1],Jt=(0,lt.default)({},(0,tt.bubbleFormats)(Yt));if(Yt instanceof ot.default){var nn=Yt.descendant(_e.default.Leaf,Xt),Wt=d(nn,1),Ht=Wt[0];Jt=(0,lt.default)(Jt,(0,tt.bubbleFormats)(Ht))}Tt=$.default.attributes.diff(Jt,Tt)||{}}else if(c(bt.insert)==="object"){var Rt=Object.keys(bt.insert)[0];if(Rt==null)return Et;xt.scroll.insertAt(Et,Rt,bt.insert[Rt])}gt+=At}return Object.keys(Tt).forEach(function(Ct){xt.scroll.formatAt(Et,At,Ct,Tt[Ct])}),Et+At},0),_t.reduce(function(Et,bt){return typeof bt.delete=="number"?(xt.scroll.deleteAt(Et,bt.delete),Et):Et+(bt.retain||bt.insert.length||1)},0),this.scroll.batchEnd(),this.update(_t)}},{key:"deleteText",value:function(_t,xt){return this.scroll.deleteAt(_t,xt),this.update(new b.default().retain(_t).delete(xt))}},{key:"formatLine",value:function(_t,xt){var pt=this,gt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(gt).forEach(function(Et){if(!(pt.scroll.whitelist!=null&&!pt.scroll.whitelist[Et])){var bt=pt.scroll.lines(_t,Math.max(xt,1)),At=xt;bt.forEach(function(Tt){var Nt=Tt.length();if(!(Tt instanceof it.default))Tt.format(Et,gt[Et]);else{var Dt=_t-Tt.offset(pt.scroll),zt=Tt.newlineIndex(Dt+At)-Dt+1;Tt.formatAt(Dt,zt,Et,gt[Et])}At-=Nt})}}),this.scroll.optimize(),this.update(new b.default().retain(_t).retain(xt,(0,ut.default)(gt)))}},{key:"formatText",value:function(_t,xt){var pt=this,gt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(gt).forEach(function(Et){pt.scroll.formatAt(_t,xt,Et,gt[Et])}),this.update(new b.default().retain(_t).retain(xt,(0,ut.default)(gt)))}},{key:"getContents",value:function(_t,xt){return this.delta.slice(_t,_t+xt)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(_t,xt){return _t.concat(xt.delta())},new b.default)}},{key:"getFormat",value:function(_t){var xt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,pt=[],gt=[];xt===0?this.scroll.path(_t).forEach(function(bt){var At=d(bt,1),Tt=At[0];Tt instanceof ot.default?pt.push(Tt):Tt instanceof _e.default.Leaf&&gt.push(Tt)}):(pt=this.scroll.lines(_t,xt),gt=this.scroll.descendants(_e.default.Leaf,_t,xt));var Et=[pt,gt].map(function(bt){if(bt.length===0)return{};for(var At=(0,tt.bubbleFormats)(bt.shift());Object.keys(At).length>0;){var Tt=bt.shift();if(Tt==null)return At;At=Pt((0,tt.bubbleFormats)(Tt),At)}return At});return lt.default.apply(lt.default,Et)}},{key:"getText",value:function(_t,xt){return this.getContents(_t,xt).filter(function(pt){return typeof pt.insert=="string"}).map(function(pt){return pt.insert}).join("")}},{key:"insertEmbed",value:function(_t,xt,pt){return this.scroll.insertAt(_t,xt,pt),this.update(new b.default().retain(_t).insert(vt({},xt,pt)))}},{key:"insertText",value:function(_t,xt){var pt=this,gt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return xt=xt.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(_t,xt),Object.keys(gt).forEach(function(Et){pt.scroll.formatAt(_t,xt.length,Et,gt[Et])}),this.update(new b.default().retain(_t).insert(xt,(0,ut.default)(gt)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var _t=this.scroll.children.head;return _t.statics.blotName!==ot.default.blotName||_t.children.length>1?!1:_t.children.head instanceof at.default}},{key:"removeFormat",value:function(_t,xt){var pt=this.getText(_t,xt),gt=this.scroll.line(_t+xt),Et=d(gt,2),bt=Et[0],At=Et[1],Tt=0,Nt=new b.default;bt!=null&&(bt instanceof it.default?Tt=bt.newlineIndex(At)-At+1:Tt=bt.length()-At,Nt=bt.delta().slice(At,At+Tt-1).insert(`
`));var Dt=this.getContents(_t,xt+Tt),zt=Dt.diff(new b.default().insert(pt).concat(Nt)),Yt=new b.default().retain(_t).concat(zt);return this.applyDelta(Yt)}},{key:"update",value:function(_t){var xt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],pt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,gt=this.delta;if(xt.length===1&&xt[0].type==="characterData"&&xt[0].target.data.match(jt)&&_e.default.find(xt[0].target)){var Et=_e.default.find(xt[0].target),bt=(0,tt.bubbleFormats)(Et),At=Et.offset(this.scroll),Tt=xt[0].oldValue.replace(et.default.CONTENTS,""),Nt=new b.default().insert(Tt),Dt=new b.default().insert(Et.value()),zt=new b.default().retain(At).concat(Nt.diff(Dt,pt));_t=zt.reduce(function(Yt,Xt){return Xt.insert?Yt.insert(Xt.insert,bt):Yt.push(Xt)},new b.default),this.delta=gt.compose(_t)}else this.delta=this.getDelta(),(!_t||!(0,ht.default)(gt.compose(_t),this.delta))&&(_t=gt.diff(this.delta,pt));return _t}}]),wt}();function Pt(wt,St){return Object.keys(St).reduce(function(_t,xt){return wt[xt]==null||(St[xt]===wt[xt]?_t[xt]=St[xt]:Array.isArray(St[xt])?St[xt].indexOf(wt[xt])<0&&(_t[xt]=St[xt].concat([wt[xt]])):_t[xt]=[St[xt],wt[xt]]),_t},{})}function Lt(wt){return wt.reduce(function(St,_t){if(_t.insert===1){var xt=(0,ut.default)(_t.attributes);return delete xt.image,St.insert({image:_t.attributes.image},xt)}if(_t.attributes!=null&&(_t.attributes.list===!0||_t.attributes.bullet===!0)&&(_t=(0,ut.default)(_t),_t.attributes.list?_t.attributes.list="ordered":(_t.attributes.list="bullet",delete _t.attributes.bullet)),typeof _t.insert=="string"){var pt=_t.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return St.insert(pt,_t.attributes)}return St.push(_t)},new b.default)}a.default=Ot},function(s,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.Range=void 0;var c=function(){function ct(ht,mt){var lt=[],ft=!0,vt=!1,kt=void 0;try{for(var jt=ht[Symbol.iterator](),Ot;!(ft=(Ot=jt.next()).done)&&(lt.push(Ot.value),!(mt&&lt.length===mt));ft=!0);}catch(Pt){vt=!0,kt=Pt}finally{try{!ft&&jt.return&&jt.return()}finally{if(vt)throw kt}}return lt}return function(ht,mt){if(Array.isArray(ht))return ht;if(Symbol.iterator in Object(ht))return ct(ht,mt);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(){function ct(ht,mt){for(var lt=0;lt<mt.length;lt++){var ft=mt[lt];ft.enumerable=ft.enumerable||!1,ft.configurable=!0,"value"in ft&&(ft.writable=!0),Object.defineProperty(ht,ft.key,ft)}}return function(ht,mt,lt){return mt&&ct(ht.prototype,mt),lt&&ct(ht,lt),ht}}(),g=o(0),h=et(g),b=o(21),_=et(b),$=o(11),j=et($),_e=o(8),rt=et(_e),it=o(10),st=et(it);function et(ct){return ct&&ct.__esModule?ct:{default:ct}}function tt(ct){if(Array.isArray(ct)){for(var ht=0,mt=Array(ct.length);ht<ct.length;ht++)mt[ht]=ct[ht];return mt}else return Array.from(ct)}function ot(ct,ht){if(!(ct instanceof ht))throw new TypeError("Cannot call a class as a function")}var nt=(0,st.default)("quill:selection"),at=function ct(ht){var mt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;ot(this,ct),this.index=ht,this.length=mt},dt=function(){function ct(ht,mt){var lt=this;ot(this,ct),this.emitter=mt,this.scroll=ht,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=h.default.create("cursor",this),this.lastRange=this.savedRange=new at(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){lt.mouseDown||setTimeout(lt.update.bind(lt,rt.default.sources.USER),1)}),this.emitter.on(rt.default.events.EDITOR_CHANGE,function(ft,vt){ft===rt.default.events.TEXT_CHANGE&&vt.length()>0&&lt.update(rt.default.sources.SILENT)}),this.emitter.on(rt.default.events.SCROLL_BEFORE_UPDATE,function(){if(lt.hasFocus()){var ft=lt.getNativeRange();ft!=null&&ft.start.node!==lt.cursor.textNode&&lt.emitter.once(rt.default.events.SCROLL_UPDATE,function(){try{lt.setNativeRange(ft.start.node,ft.start.offset,ft.end.node,ft.end.offset)}catch{}})}}),this.emitter.on(rt.default.events.SCROLL_OPTIMIZE,function(ft,vt){if(vt.range){var kt=vt.range,jt=kt.startNode,Ot=kt.startOffset,Pt=kt.endNode,Lt=kt.endOffset;lt.setNativeRange(jt,Ot,Pt,Lt)}}),this.update(rt.default.sources.SILENT)}return d(ct,[{key:"handleComposition",value:function(){var mt=this;this.root.addEventListener("compositionstart",function(){mt.composing=!0}),this.root.addEventListener("compositionend",function(){if(mt.composing=!1,mt.cursor.parent){var lt=mt.cursor.restore();if(!lt)return;setTimeout(function(){mt.setNativeRange(lt.startNode,lt.startOffset,lt.endNode,lt.endOffset)},1)}})}},{key:"handleDragging",value:function(){var mt=this;this.emitter.listenDOM("mousedown",document.body,function(){mt.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){mt.mouseDown=!1,mt.update(rt.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(mt,lt){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[mt])){this.scroll.update();var ft=this.getNativeRange();if(!(ft==null||!ft.native.collapsed||h.default.query(mt,h.default.Scope.BLOCK))){if(ft.start.node!==this.cursor.textNode){var vt=h.default.find(ft.start.node,!1);if(vt==null)return;if(vt instanceof h.default.Leaf){var kt=vt.split(ft.start.offset);vt.parent.insertBefore(this.cursor,kt)}else vt.insertBefore(this.cursor,ft.start.node);this.cursor.attach()}this.cursor.format(mt,lt),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(mt){var lt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,ft=this.scroll.length();mt=Math.min(mt,ft-1),lt=Math.min(mt+lt,ft-1)-mt;var vt=void 0,kt=this.scroll.leaf(mt),jt=c(kt,2),Ot=jt[0],Pt=jt[1];if(Ot==null)return null;var Lt=Ot.position(Pt,!0),wt=c(Lt,2);vt=wt[0],Pt=wt[1];var St=document.createRange();if(lt>0){St.setStart(vt,Pt);var _t=this.scroll.leaf(mt+lt),xt=c(_t,2);if(Ot=xt[0],Pt=xt[1],Ot==null)return null;var pt=Ot.position(Pt,!0),gt=c(pt,2);return vt=gt[0],Pt=gt[1],St.setEnd(vt,Pt),St.getBoundingClientRect()}else{var Et="left",bt=void 0;return vt instanceof Text?(Pt<vt.data.length?(St.setStart(vt,Pt),St.setEnd(vt,Pt+1)):(St.setStart(vt,Pt-1),St.setEnd(vt,Pt),Et="right"),bt=St.getBoundingClientRect()):(bt=Ot.domNode.getBoundingClientRect(),Pt>0&&(Et="right")),{bottom:bt.top+bt.height,height:bt.height,left:bt[Et],right:bt[Et],top:bt.top,width:0}}}},{key:"getNativeRange",value:function(){var mt=document.getSelection();if(mt==null||mt.rangeCount<=0)return null;var lt=mt.getRangeAt(0);if(lt==null)return null;var ft=this.normalizeNative(lt);return nt.info("getNativeRange",ft),ft}},{key:"getRange",value:function(){var mt=this.getNativeRange();if(mt==null)return[null,null];var lt=this.normalizedToRange(mt);return[lt,mt]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(mt){var lt=this,ft=[[mt.start.node,mt.start.offset]];mt.native.collapsed||ft.push([mt.end.node,mt.end.offset]);var vt=ft.map(function(Ot){var Pt=c(Ot,2),Lt=Pt[0],wt=Pt[1],St=h.default.find(Lt,!0),_t=St.offset(lt.scroll);return wt===0?_t:St instanceof h.default.Container?_t+St.length():_t+St.index(Lt,wt)}),kt=Math.min(Math.max.apply(Math,tt(vt)),this.scroll.length()-1),jt=Math.min.apply(Math,[kt].concat(tt(vt)));return new at(jt,kt-jt)}},{key:"normalizeNative",value:function(mt){if(!ut(this.root,mt.startContainer)||!mt.collapsed&&!ut(this.root,mt.endContainer))return null;var lt={start:{node:mt.startContainer,offset:mt.startOffset},end:{node:mt.endContainer,offset:mt.endOffset},native:mt};return[lt.start,lt.end].forEach(function(ft){for(var vt=ft.node,kt=ft.offset;!(vt instanceof Text)&&vt.childNodes.length>0;)if(vt.childNodes.length>kt)vt=vt.childNodes[kt],kt=0;else if(vt.childNodes.length===kt)vt=vt.lastChild,kt=vt instanceof Text?vt.data.length:vt.childNodes.length+1;else break;ft.node=vt,ft.offset=kt}),lt}},{key:"rangeToNative",value:function(mt){var lt=this,ft=mt.collapsed?[mt.index]:[mt.index,mt.index+mt.length],vt=[],kt=this.scroll.length();return ft.forEach(function(jt,Ot){jt=Math.min(kt-1,jt);var Pt=void 0,Lt=lt.scroll.leaf(jt),wt=c(Lt,2),St=wt[0],_t=wt[1],xt=St.position(_t,Ot!==0),pt=c(xt,2);Pt=pt[0],_t=pt[1],vt.push(Pt,_t)}),vt.length<2&&(vt=vt.concat(vt)),vt}},{key:"scrollIntoView",value:function(mt){var lt=this.lastRange;if(lt!=null){var ft=this.getBounds(lt.index,lt.length);if(ft!=null){var vt=this.scroll.length()-1,kt=this.scroll.line(Math.min(lt.index,vt)),jt=c(kt,1),Ot=jt[0],Pt=Ot;if(lt.length>0){var Lt=this.scroll.line(Math.min(lt.index+lt.length,vt)),wt=c(Lt,1);Pt=wt[0]}if(!(Ot==null||Pt==null)){var St=mt.getBoundingClientRect();ft.top<St.top?mt.scrollTop-=St.top-ft.top:ft.bottom>St.bottom&&(mt.scrollTop+=ft.bottom-St.bottom)}}}}},{key:"setNativeRange",value:function(mt,lt){var ft=arguments.length>2&&arguments[2]!==void 0?arguments[2]:mt,vt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:lt,kt=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(nt.info("setNativeRange",mt,lt,ft,vt),!(mt!=null&&(this.root.parentNode==null||mt.parentNode==null||ft.parentNode==null))){var jt=document.getSelection();if(jt!=null)if(mt!=null){this.hasFocus()||this.root.focus();var Ot=(this.getNativeRange()||{}).native;if(Ot==null||kt||mt!==Ot.startContainer||lt!==Ot.startOffset||ft!==Ot.endContainer||vt!==Ot.endOffset){mt.tagName=="BR"&&(lt=[].indexOf.call(mt.parentNode.childNodes,mt),mt=mt.parentNode),ft.tagName=="BR"&&(vt=[].indexOf.call(ft.parentNode.childNodes,ft),ft=ft.parentNode);var Pt=document.createRange();Pt.setStart(mt,lt),Pt.setEnd(ft,vt),jt.removeAllRanges(),jt.addRange(Pt)}}else jt.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(mt){var lt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ft=arguments.length>2&&arguments[2]!==void 0?arguments[2]:rt.default.sources.API;if(typeof lt=="string"&&(ft=lt,lt=!1),nt.info("setRange",mt),mt!=null){var vt=this.rangeToNative(mt);this.setNativeRange.apply(this,tt(vt).concat([lt]))}else this.setNativeRange(null);this.update(ft)}},{key:"update",value:function(){var mt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:rt.default.sources.USER,lt=this.lastRange,ft=this.getRange(),vt=c(ft,2),kt=vt[0],jt=vt[1];if(this.lastRange=kt,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,j.default)(lt,this.lastRange)){var Ot;!this.composing&&jt!=null&&jt.native.collapsed&&jt.start.node!==this.cursor.textNode&&this.cursor.restore();var Pt=[rt.default.events.SELECTION_CHANGE,(0,_.default)(this.lastRange),(0,_.default)(lt),mt];if((Ot=this.emitter).emit.apply(Ot,[rt.default.events.EDITOR_CHANGE].concat(Pt)),mt!==rt.default.sources.SILENT){var Lt;(Lt=this.emitter).emit.apply(Lt,Pt)}}}}]),ct}();function ut(ct,ht){try{ht.parentNode}catch{return!1}return ht instanceof Text&&(ht=ht.parentNode),ct.contains(ht)}a.Range=at,a.default=dt},function(s,a,o){Object.defineProperty(a,"__esModule",{value:!0});var c=function(){function rt(it,st){for(var et=0;et<st.length;et++){var tt=st[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(it,tt.key,tt)}}return function(it,st,et){return st&&rt(it.prototype,st),et&&rt(it,et),it}}(),d=function rt(it,st,et){it===null&&(it=Function.prototype);var tt=Object.getOwnPropertyDescriptor(it,st);if(tt===void 0){var ot=Object.getPrototypeOf(it);return ot===null?void 0:rt(ot,st,et)}else{if("value"in tt)return tt.value;var nt=tt.get;return nt===void 0?void 0:nt.call(et)}},g=o(0),h=b(g);function b(rt){return rt&&rt.__esModule?rt:{default:rt}}function _(rt,it){if(!(rt instanceof it))throw new TypeError("Cannot call a class as a function")}function $(rt,it){if(!rt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return it&&(typeof it=="object"||typeof it=="function")?it:rt}function j(rt,it){if(typeof it!="function"&&it!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof it);rt.prototype=Object.create(it&&it.prototype,{constructor:{value:rt,enumerable:!1,writable:!0,configurable:!0}}),it&&(Object.setPrototypeOf?Object.setPrototypeOf(rt,it):rt.__proto__=it)}var _e=function(rt){j(it,rt);function it(){return _(this,it),$(this,(it.__proto__||Object.getPrototypeOf(it)).apply(this,arguments))}return c(it,[{key:"insertInto",value:function(et,tt){et.children.length===0?d(it.prototype.__proto__||Object.getPrototypeOf(it.prototype),"insertInto",this).call(this,et,tt):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),it}(h.default.Embed);_e.blotName="break",_e.tagName="BR",a.default=_e},function(s,a,o){var c=this&&this.__extends||function(){var $=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(j,_e){j.__proto__=_e}||function(j,_e){for(var rt in _e)_e.hasOwnProperty(rt)&&(j[rt]=_e[rt])};return function(j,_e){$(j,_e);function rt(){this.constructor=j}j.prototype=_e===null?Object.create(_e):(rt.prototype=_e.prototype,new rt)}}();Object.defineProperty(a,"__esModule",{value:!0});var d=o(44),g=o(30),h=o(1),b=function($){c(j,$);function j(_e){var rt=$.call(this,_e)||this;return rt.build(),rt}return j.prototype.appendChild=function(_e){this.insertBefore(_e)},j.prototype.attach=function(){$.prototype.attach.call(this),this.children.forEach(function(_e){_e.attach()})},j.prototype.build=function(){var _e=this;this.children=new d.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(rt){try{var it=_(rt);_e.insertBefore(it,_e.children.head||void 0)}catch(st){if(st instanceof h.ParchmentError)return;throw st}})},j.prototype.deleteAt=function(_e,rt){if(_e===0&&rt===this.length())return this.remove();this.children.forEachAt(_e,rt,function(it,st,et){it.deleteAt(st,et)})},j.prototype.descendant=function(_e,rt){var it=this.children.find(rt),st=it[0],et=it[1];return _e.blotName==null&&_e(st)||_e.blotName!=null&&st instanceof _e?[st,et]:st instanceof j?st.descendant(_e,et):[null,-1]},j.prototype.descendants=function(_e,rt,it){rt===void 0&&(rt=0),it===void 0&&(it=Number.MAX_VALUE);var st=[],et=it;return this.children.forEachAt(rt,it,function(tt,ot,nt){(_e.blotName==null&&_e(tt)||_e.blotName!=null&&tt instanceof _e)&&st.push(tt),tt instanceof j&&(st=st.concat(tt.descendants(_e,ot,et))),et-=nt}),st},j.prototype.detach=function(){this.children.forEach(function(_e){_e.detach()}),$.prototype.detach.call(this)},j.prototype.formatAt=function(_e,rt,it,st){this.children.forEachAt(_e,rt,function(et,tt,ot){et.formatAt(tt,ot,it,st)})},j.prototype.insertAt=function(_e,rt,it){var st=this.children.find(_e),et=st[0],tt=st[1];if(et)et.insertAt(tt,rt,it);else{var ot=it==null?h.create("text",rt):h.create(rt,it);this.appendChild(ot)}},j.prototype.insertBefore=function(_e,rt){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(it){return _e instanceof it}))throw new h.ParchmentError("Cannot insert "+_e.statics.blotName+" into "+this.statics.blotName);_e.insertInto(this,rt)},j.prototype.length=function(){return this.children.reduce(function(_e,rt){return _e+rt.length()},0)},j.prototype.moveChildren=function(_e,rt){this.children.forEach(function(it){_e.insertBefore(it,rt)})},j.prototype.optimize=function(_e){if($.prototype.optimize.call(this,_e),this.children.length===0)if(this.statics.defaultChild!=null){var rt=h.create(this.statics.defaultChild);this.appendChild(rt),rt.optimize(_e)}else this.remove()},j.prototype.path=function(_e,rt){rt===void 0&&(rt=!1);var it=this.children.find(_e,rt),st=it[0],et=it[1],tt=[[this,_e]];return st instanceof j?tt.concat(st.path(et,rt)):(st!=null&&tt.push([st,et]),tt)},j.prototype.removeChild=function(_e){this.children.remove(_e)},j.prototype.replace=function(_e){_e instanceof j&&_e.moveChildren(this),$.prototype.replace.call(this,_e)},j.prototype.split=function(_e,rt){if(rt===void 0&&(rt=!1),!rt){if(_e===0)return this;if(_e===this.length())return this.next}var it=this.clone();return this.parent.insertBefore(it,this.next),this.children.forEachAt(_e,this.length(),function(st,et,tt){st=st.split(et,rt),it.appendChild(st)}),it},j.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},j.prototype.update=function(_e,rt){var it=this,st=[],et=[];_e.forEach(function(tt){tt.target===it.domNode&&tt.type==="childList"&&(st.push.apply(st,tt.addedNodes),et.push.apply(et,tt.removedNodes))}),et.forEach(function(tt){if(!(tt.parentNode!=null&&tt.tagName!=="IFRAME"&&document.body.compareDocumentPosition(tt)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var ot=h.find(tt);ot!=null&&(ot.domNode.parentNode==null||ot.domNode.parentNode===it.domNode)&&ot.detach()}}),st.filter(function(tt){return tt.parentNode==it.domNode}).sort(function(tt,ot){return tt===ot?0:tt.compareDocumentPosition(ot)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(tt){var ot=null;tt.nextSibling!=null&&(ot=h.find(tt.nextSibling));var nt=_(tt);(nt.next!=ot||nt.next==null)&&(nt.parent!=null&&nt.parent.removeChild(it),it.insertBefore(nt,ot||void 0))})},j}(g.default);function _($){var j=h.find($);if(j==null)try{j=h.create($)}catch{j=h.create(h.Scope.INLINE),[].slice.call($.childNodes).forEach(function(rt){j.domNode.appendChild(rt)}),$.parentNode&&$.parentNode.replaceChild(j.domNode,$),j.attach()}return j}a.default=b},function(s,a,o){var c=this&&this.__extends||function(){var $=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(j,_e){j.__proto__=_e}||function(j,_e){for(var rt in _e)_e.hasOwnProperty(rt)&&(j[rt]=_e[rt])};return function(j,_e){$(j,_e);function rt(){this.constructor=j}j.prototype=_e===null?Object.create(_e):(rt.prototype=_e.prototype,new rt)}}();Object.defineProperty(a,"__esModule",{value:!0});var d=o(12),g=o(31),h=o(17),b=o(1),_=function($){c(j,$);function j(_e){var rt=$.call(this,_e)||this;return rt.attributes=new g.default(rt.domNode),rt}return j.formats=function(_e){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return _e.tagName.toLowerCase()},j.prototype.format=function(_e,rt){var it=b.query(_e);it instanceof d.default?this.attributes.attribute(it,rt):rt&&it!=null&&(_e!==this.statics.blotName||this.formats()[_e]!==rt)&&this.replaceWith(_e,rt)},j.prototype.formats=function(){var _e=this.attributes.values(),rt=this.statics.formats(this.domNode);return rt!=null&&(_e[this.statics.blotName]=rt),_e},j.prototype.replaceWith=function(_e,rt){var it=$.prototype.replaceWith.call(this,_e,rt);return this.attributes.copy(it),it},j.prototype.update=function(_e,rt){var it=this;$.prototype.update.call(this,_e,rt),_e.some(function(st){return st.target===it.domNode&&st.type==="attributes"})&&this.attributes.build()},j.prototype.wrap=function(_e,rt){var it=$.prototype.wrap.call(this,_e,rt);return it instanceof j&&it.statics.scope===this.statics.scope&&this.attributes.move(it),it},j}(h.default);a.default=_},function(s,a,o){var c=this&&this.__extends||function(){var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,$){_.__proto__=$}||function(_,$){for(var j in $)$.hasOwnProperty(j)&&(_[j]=$[j])};return function(_,$){b(_,$);function j(){this.constructor=_}_.prototype=$===null?Object.create($):(j.prototype=$.prototype,new j)}}();Object.defineProperty(a,"__esModule",{value:!0});var d=o(30),g=o(1),h=function(b){c(_,b);function _(){return b!==null&&b.apply(this,arguments)||this}return _.value=function($){return!0},_.prototype.index=function($,j){return this.domNode===$||this.domNode.compareDocumentPosition($)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(j,1):-1},_.prototype.position=function($,j){var _e=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return $>0&&(_e+=1),[this.parent.domNode,_e]},_.prototype.value=function(){var $;return $={},$[this.statics.blotName]=this.statics.value(this.domNode)||!0,$},_.scope=g.Scope.INLINE_BLOT,_}(d.default);a.default=h},function(s,a,o){var c=o(11),d=o(3),g={attributes:{compose:function(b,_,$){typeof b!="object"&&(b={}),typeof _!="object"&&(_={});var j=d(!0,{},_);$||(j=Object.keys(j).reduce(function(rt,it){return j[it]!=null&&(rt[it]=j[it]),rt},{}));for(var _e in b)b[_e]!==void 0&&_[_e]===void 0&&(j[_e]=b[_e]);return Object.keys(j).length>0?j:void 0},diff:function(b,_){typeof b!="object"&&(b={}),typeof _!="object"&&(_={});var $=Object.keys(b).concat(Object.keys(_)).reduce(function(j,_e){return c(b[_e],_[_e])||(j[_e]=_[_e]===void 0?null:_[_e]),j},{});return Object.keys($).length>0?$:void 0},transform:function(b,_,$){if(typeof b!="object")return _;if(typeof _=="object"){if(!$)return _;var j=Object.keys(_).reduce(function(_e,rt){return b[rt]===void 0&&(_e[rt]=_[rt]),_e},{});return Object.keys(j).length>0?j:void 0}}},iterator:function(b){return new h(b)},length:function(b){return typeof b.delete=="number"?b.delete:typeof b.retain=="number"?b.retain:typeof b.insert=="string"?b.insert.length:1}};function h(b){this.ops=b,this.index=0,this.offset=0}h.prototype.hasNext=function(){return this.peekLength()<1/0},h.prototype.next=function(b){b||(b=1/0);var _=this.ops[this.index];if(_){var $=this.offset,j=g.length(_);if(b>=j-$?(b=j-$,this.index+=1,this.offset=0):this.offset+=b,typeof _.delete=="number")return{delete:b};var _e={};return _.attributes&&(_e.attributes=_.attributes),typeof _.retain=="number"?_e.retain=b:typeof _.insert=="string"?_e.insert=_.insert.substr($,b):_e.insert=_.insert,_e}else return{retain:1/0}},h.prototype.peek=function(){return this.ops[this.index]},h.prototype.peekLength=function(){return this.ops[this.index]?g.length(this.ops[this.index])-this.offset:1/0},h.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},h.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var b=this.offset,_=this.index,$=this.next(),j=this.ops.slice(this.index);return this.offset=b,this.index=_,[$].concat(j)}else return[]},s.exports=g},function(s,a){var o=function(){function c(it,st){return st!=null&&it instanceof st}var d;try{d=Map}catch{d=function(){}}var g;try{g=Set}catch{g=function(){}}var h;try{h=Promise}catch{h=function(){}}function b(it,st,et,tt,ot){typeof st=="object"&&(et=st.depth,tt=st.prototype,ot=st.includeNonEnumerable,st=st.circular);var nt=[],at=[],dt=typeof Buffer<"u";typeof st>"u"&&(st=!0),typeof et>"u"&&(et=1/0);function ut(ct,ht){if(ct===null)return null;if(ht===0)return ct;var mt,lt;if(typeof ct!="object")return ct;if(c(ct,d))mt=new d;else if(c(ct,g))mt=new g;else if(c(ct,h))mt=new h(function(St,_t){ct.then(function(xt){St(ut(xt,ht-1))},function(xt){_t(ut(xt,ht-1))})});else if(b.__isArray(ct))mt=[];else if(b.__isRegExp(ct))mt=new RegExp(ct.source,rt(ct)),ct.lastIndex&&(mt.lastIndex=ct.lastIndex);else if(b.__isDate(ct))mt=new Date(ct.getTime());else{if(dt&&Buffer.isBuffer(ct))return Buffer.allocUnsafe?mt=Buffer.allocUnsafe(ct.length):mt=new Buffer(ct.length),ct.copy(mt),mt;c(ct,Error)?mt=Object.create(ct):typeof tt>"u"?(lt=Object.getPrototypeOf(ct),mt=Object.create(lt)):(mt=Object.create(tt),lt=tt)}if(st){var ft=nt.indexOf(ct);if(ft!=-1)return at[ft];nt.push(ct),at.push(mt)}c(ct,d)&&ct.forEach(function(St,_t){var xt=ut(_t,ht-1),pt=ut(St,ht-1);mt.set(xt,pt)}),c(ct,g)&&ct.forEach(function(St){var _t=ut(St,ht-1);mt.add(_t)});for(var vt in ct){var kt;lt&&(kt=Object.getOwnPropertyDescriptor(lt,vt)),!(kt&&kt.set==null)&&(mt[vt]=ut(ct[vt],ht-1))}if(Object.getOwnPropertySymbols)for(var jt=Object.getOwnPropertySymbols(ct),vt=0;vt<jt.length;vt++){var Ot=jt[vt],Pt=Object.getOwnPropertyDescriptor(ct,Ot);Pt&&!Pt.enumerable&&!ot||(mt[Ot]=ut(ct[Ot],ht-1),Pt.enumerable||Object.defineProperty(mt,Ot,{enumerable:!1}))}if(ot)for(var Lt=Object.getOwnPropertyNames(ct),vt=0;vt<Lt.length;vt++){var wt=Lt[vt],Pt=Object.getOwnPropertyDescriptor(ct,wt);Pt&&Pt.enumerable||(mt[wt]=ut(ct[wt],ht-1),Object.defineProperty(mt,wt,{enumerable:!1}))}return mt}return ut(it,et)}b.clonePrototype=function(st){if(st===null)return null;var et=function(){};return et.prototype=st,new et};function _(it){return Object.prototype.toString.call(it)}b.__objToStr=_;function $(it){return typeof it=="object"&&_(it)==="[object Date]"}b.__isDate=$;function j(it){return typeof it=="object"&&_(it)==="[object Array]"}b.__isArray=j;function _e(it){return typeof it=="object"&&_(it)==="[object RegExp]"}b.__isRegExp=_e;function rt(it){var st="";return it.global&&(st+="g"),it.ignoreCase&&(st+="i"),it.multiline&&(st+="m"),st}return b.__getRegExpFlags=rt,b}();typeof s=="object"&&s.exports&&(s.exports=o)},function(s,a,o){Object.defineProperty(a,"__esModule",{value:!0});var c=function(){function mt(lt,ft){var vt=[],kt=!0,jt=!1,Ot=void 0;try{for(var Pt=lt[Symbol.iterator](),Lt;!(kt=(Lt=Pt.next()).done)&&(vt.push(Lt.value),!(ft&&vt.length===ft));kt=!0);}catch(wt){jt=!0,Ot=wt}finally{try{!kt&&Pt.return&&Pt.return()}finally{if(jt)throw Ot}}return vt}return function(lt,ft){if(Array.isArray(lt))return lt;if(Symbol.iterator in Object(lt))return mt(lt,ft);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(){function mt(lt,ft){for(var vt=0;vt<ft.length;vt++){var kt=ft[vt];kt.enumerable=kt.enumerable||!1,kt.configurable=!0,"value"in kt&&(kt.writable=!0),Object.defineProperty(lt,kt.key,kt)}}return function(lt,ft,vt){return ft&&mt(lt.prototype,ft),vt&&mt(lt,vt),lt}}(),g=function mt(lt,ft,vt){lt===null&&(lt=Function.prototype);var kt=Object.getOwnPropertyDescriptor(lt,ft);if(kt===void 0){var jt=Object.getPrototypeOf(lt);return jt===null?void 0:mt(jt,ft,vt)}else{if("value"in kt)return kt.value;var Ot=kt.get;return Ot===void 0?void 0:Ot.call(vt)}},h=o(0),b=nt(h),_=o(8),$=nt(_),j=o(4),_e=nt(j),rt=o(16),it=nt(rt),st=o(13),et=nt(st),tt=o(25),ot=nt(tt);function nt(mt){return mt&&mt.__esModule?mt:{default:mt}}function at(mt,lt){if(!(mt instanceof lt))throw new TypeError("Cannot call a class as a function")}function dt(mt,lt){if(!mt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return lt&&(typeof lt=="object"||typeof lt=="function")?lt:mt}function ut(mt,lt){if(typeof lt!="function"&&lt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof lt);mt.prototype=Object.create(lt&&lt.prototype,{constructor:{value:mt,enumerable:!1,writable:!0,configurable:!0}}),lt&&(Object.setPrototypeOf?Object.setPrototypeOf(mt,lt):mt.__proto__=lt)}function ct(mt){return mt instanceof _e.default||mt instanceof j.BlockEmbed}var ht=function(mt){ut(lt,mt);function lt(ft,vt){at(this,lt);var kt=dt(this,(lt.__proto__||Object.getPrototypeOf(lt)).call(this,ft));return kt.emitter=vt.emitter,Array.isArray(vt.whitelist)&&(kt.whitelist=vt.whitelist.reduce(function(jt,Ot){return jt[Ot]=!0,jt},{})),kt.domNode.addEventListener("DOMNodeInserted",function(){}),kt.optimize(),kt.enable(),kt}return d(lt,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(vt,kt){var jt=this.line(vt),Ot=c(jt,2),Pt=Ot[0],Lt=Ot[1],wt=this.line(vt+kt),St=c(wt,1),_t=St[0];if(g(lt.prototype.__proto__||Object.getPrototypeOf(lt.prototype),"deleteAt",this).call(this,vt,kt),_t!=null&&Pt!==_t&&Lt>0){if(Pt instanceof j.BlockEmbed||_t instanceof j.BlockEmbed){this.optimize();return}if(Pt instanceof et.default){var xt=Pt.newlineIndex(Pt.length(),!0);if(xt>-1&&(Pt=Pt.split(xt+1),Pt===_t)){this.optimize();return}}else if(_t instanceof et.default){var pt=_t.newlineIndex(0);pt>-1&&_t.split(pt+1)}var gt=_t.children.head instanceof it.default?null:_t.children.head;Pt.moveChildren(_t,gt),Pt.remove()}this.optimize()}},{key:"enable",value:function(){var vt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",vt)}},{key:"formatAt",value:function(vt,kt,jt,Ot){this.whitelist!=null&&!this.whitelist[jt]||(g(lt.prototype.__proto__||Object.getPrototypeOf(lt.prototype),"formatAt",this).call(this,vt,kt,jt,Ot),this.optimize())}},{key:"insertAt",value:function(vt,kt,jt){if(!(jt!=null&&this.whitelist!=null&&!this.whitelist[kt])){if(vt>=this.length())if(jt==null||b.default.query(kt,b.default.Scope.BLOCK)==null){var Ot=b.default.create(this.statics.defaultChild);this.appendChild(Ot),jt==null&&kt.endsWith(`
`)&&(kt=kt.slice(0,-1)),Ot.insertAt(0,kt,jt)}else{var Pt=b.default.create(kt,jt);this.appendChild(Pt)}else g(lt.prototype.__proto__||Object.getPrototypeOf(lt.prototype),"insertAt",this).call(this,vt,kt,jt);this.optimize()}}},{key:"insertBefore",value:function(vt,kt){if(vt.statics.scope===b.default.Scope.INLINE_BLOT){var jt=b.default.create(this.statics.defaultChild);jt.appendChild(vt),vt=jt}g(lt.prototype.__proto__||Object.getPrototypeOf(lt.prototype),"insertBefore",this).call(this,vt,kt)}},{key:"leaf",value:function(vt){return this.path(vt).pop()||[null,-1]}},{key:"line",value:function(vt){return vt===this.length()?this.line(vt-1):this.descendant(ct,vt)}},{key:"lines",value:function(){var vt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,kt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,jt=function Ot(Pt,Lt,wt){var St=[],_t=wt;return Pt.children.forEachAt(Lt,wt,function(xt,pt,gt){ct(xt)?St.push(xt):xt instanceof b.default.Container&&(St=St.concat(Ot(xt,pt,_t))),_t-=gt}),St};return jt(this,vt,kt)}},{key:"optimize",value:function(){var vt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],kt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(g(lt.prototype.__proto__||Object.getPrototypeOf(lt.prototype),"optimize",this).call(this,vt,kt),vt.length>0&&this.emitter.emit($.default.events.SCROLL_OPTIMIZE,vt,kt))}},{key:"path",value:function(vt){return g(lt.prototype.__proto__||Object.getPrototypeOf(lt.prototype),"path",this).call(this,vt).slice(1)}},{key:"update",value:function(vt){if(this.batch!==!0){var kt=$.default.sources.USER;typeof vt=="string"&&(kt=vt),Array.isArray(vt)||(vt=this.observer.takeRecords()),vt.length>0&&this.emitter.emit($.default.events.SCROLL_BEFORE_UPDATE,kt,vt),g(lt.prototype.__proto__||Object.getPrototypeOf(lt.prototype),"update",this).call(this,vt.concat([])),vt.length>0&&this.emitter.emit($.default.events.SCROLL_UPDATE,kt,vt)}}}]),lt}(b.default.Scroll);ht.blotName="scroll",ht.className="ql-editor",ht.tagName="DIV",ht.defaultChild="block",ht.allowedChildren=[_e.default,j.BlockEmbed,ot.default],a.default=ht},function(s,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.SHORTKEY=a.default=void 0;var c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(bt){return typeof bt}:function(bt){return bt&&typeof Symbol=="function"&&bt.constructor===Symbol&&bt!==Symbol.prototype?"symbol":typeof bt},d=function(){function bt(At,Tt){var Nt=[],Dt=!0,zt=!1,Yt=void 0;try{for(var Xt=At[Symbol.iterator](),Jt;!(Dt=(Jt=Xt.next()).done)&&(Nt.push(Jt.value),!(Tt&&Nt.length===Tt));Dt=!0);}catch(nn){zt=!0,Yt=nn}finally{try{!Dt&&Xt.return&&Xt.return()}finally{if(zt)throw Yt}}return Nt}return function(At,Tt){if(Array.isArray(At))return At;if(Symbol.iterator in Object(At))return bt(At,Tt);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(){function bt(At,Tt){for(var Nt=0;Nt<Tt.length;Nt++){var Dt=Tt[Nt];Dt.enumerable=Dt.enumerable||!1,Dt.configurable=!0,"value"in Dt&&(Dt.writable=!0),Object.defineProperty(At,Dt.key,Dt)}}return function(At,Tt,Nt){return Tt&&bt(At.prototype,Tt),Nt&&bt(At,Nt),At}}(),h=o(21),b=mt(h),_=o(11),$=mt(_),j=o(3),_e=mt(j),rt=o(2),it=mt(rt),st=o(20),et=mt(st),tt=o(0),ot=mt(tt),nt=o(5),at=mt(nt),dt=o(10),ut=mt(dt),ct=o(9),ht=mt(ct);function mt(bt){return bt&&bt.__esModule?bt:{default:bt}}function lt(bt,At,Tt){return At in bt?Object.defineProperty(bt,At,{value:Tt,enumerable:!0,configurable:!0,writable:!0}):bt[At]=Tt,bt}function ft(bt,At){if(!(bt instanceof At))throw new TypeError("Cannot call a class as a function")}function vt(bt,At){if(!bt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return At&&(typeof At=="object"||typeof At=="function")?At:bt}function kt(bt,At){if(typeof At!="function"&&At!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof At);bt.prototype=Object.create(At&&At.prototype,{constructor:{value:bt,enumerable:!1,writable:!0,configurable:!0}}),At&&(Object.setPrototypeOf?Object.setPrototypeOf(bt,At):bt.__proto__=At)}var jt=(0,ut.default)("quill:keyboard"),Ot=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",Pt=function(bt){kt(At,bt),g(At,null,[{key:"match",value:function(Nt,Dt){return Dt=Et(Dt),["altKey","ctrlKey","metaKey","shiftKey"].some(function(zt){return!!Dt[zt]!==Nt[zt]&&Dt[zt]!==null})?!1:Dt.key===(Nt.which||Nt.keyCode)}}]);function At(Tt,Nt){ft(this,At);var Dt=vt(this,(At.__proto__||Object.getPrototypeOf(At)).call(this,Tt,Nt));return Dt.bindings={},Object.keys(Dt.options.bindings).forEach(function(zt){zt==="list autofill"&&Tt.scroll.whitelist!=null&&!Tt.scroll.whitelist.list||Dt.options.bindings[zt]&&Dt.addBinding(Dt.options.bindings[zt])}),Dt.addBinding({key:At.keys.ENTER,shiftKey:null},xt),Dt.addBinding({key:At.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(Dt.addBinding({key:At.keys.BACKSPACE},{collapsed:!0},wt),Dt.addBinding({key:At.keys.DELETE},{collapsed:!0},St)):(Dt.addBinding({key:At.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},wt),Dt.addBinding({key:At.keys.DELETE},{collapsed:!0,suffix:/^.?$/},St)),Dt.addBinding({key:At.keys.BACKSPACE},{collapsed:!1},_t),Dt.addBinding({key:At.keys.DELETE},{collapsed:!1},_t),Dt.addBinding({key:At.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},wt),Dt.listen(),Dt}return g(At,[{key:"addBinding",value:function(Nt){var Dt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},zt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Yt=Et(Nt);if(Yt==null||Yt.key==null)return jt.warn("Attempted to add invalid keyboard binding",Yt);typeof Dt=="function"&&(Dt={handler:Dt}),typeof zt=="function"&&(zt={handler:zt}),Yt=(0,_e.default)(Yt,Dt,zt),this.bindings[Yt.key]=this.bindings[Yt.key]||[],this.bindings[Yt.key].push(Yt)}},{key:"listen",value:function(){var Nt=this;this.quill.root.addEventListener("keydown",function(Dt){if(!Dt.defaultPrevented){var zt=Dt.which||Dt.keyCode,Yt=(Nt.bindings[zt]||[]).filter(function(kn){return At.match(Dt,kn)});if(Yt.length!==0){var Xt=Nt.quill.getSelection();if(!(Xt==null||!Nt.quill.hasFocus())){var Jt=Nt.quill.getLine(Xt.index),nn=d(Jt,2),Wt=nn[0],Ht=nn[1],Rt=Nt.quill.getLeaf(Xt.index),Ct=d(Rt,2),Ft=Ct[0],Bt=Ct[1],Ut=Xt.length===0?[Ft,Bt]:Nt.quill.getLeaf(Xt.index+Xt.length),rn=d(Ut,2),tn=rn[0],qt=rn[1],hn=Ft instanceof ot.default.Text?Ft.value().slice(0,Bt):"",dn=tn instanceof ot.default.Text?tn.value().slice(qt):"",yn={collapsed:Xt.length===0,empty:Xt.length===0&&Wt.length()<=1,format:Nt.quill.getFormat(Xt),offset:Ht,prefix:hn,suffix:dn},jn=Yt.some(function(kn){if(kn.collapsed!=null&&kn.collapsed!==yn.collapsed||kn.empty!=null&&kn.empty!==yn.empty||kn.offset!=null&&kn.offset!==yn.offset)return!1;if(Array.isArray(kn.format)){if(kn.format.every(function(mn){return yn.format[mn]==null}))return!1}else if(c(kn.format)==="object"&&!Object.keys(kn.format).every(function(mn){return kn.format[mn]===!0?yn.format[mn]!=null:kn.format[mn]===!1?yn.format[mn]==null:(0,$.default)(kn.format[mn],yn.format[mn])}))return!1;return kn.prefix!=null&&!kn.prefix.test(yn.prefix)||kn.suffix!=null&&!kn.suffix.test(yn.suffix)?!1:kn.handler.call(Nt,Xt,yn)!==!0});jn&&Dt.preventDefault()}}}})}}]),At}(ht.default);Pt.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},Pt.DEFAULTS={bindings:{bold:gt("bold"),italic:gt("italic"),underline:gt("underline"),indent:{key:Pt.keys.TAB,format:["blockquote","indent","list"],handler:function(At,Tt){if(Tt.collapsed&&Tt.offset!==0)return!0;this.quill.format("indent","+1",at.default.sources.USER)}},outdent:{key:Pt.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(At,Tt){if(Tt.collapsed&&Tt.offset!==0)return!0;this.quill.format("indent","-1",at.default.sources.USER)}},"outdent backspace":{key:Pt.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(At,Tt){Tt.format.indent!=null?this.quill.format("indent","-1",at.default.sources.USER):Tt.format.list!=null&&this.quill.format("list",!1,at.default.sources.USER)}},"indent code-block":pt(!0),"outdent code-block":pt(!1),"remove tab":{key:Pt.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(At){this.quill.deleteText(At.index-1,1,at.default.sources.USER)}},tab:{key:Pt.keys.TAB,handler:function(At){this.quill.history.cutoff();var Tt=new it.default().retain(At.index).delete(At.length).insert("	");this.quill.updateContents(Tt,at.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(At.index+1,at.default.sources.SILENT)}},"list empty enter":{key:Pt.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(At,Tt){this.quill.format("list",!1,at.default.sources.USER),Tt.format.indent&&this.quill.format("indent",!1,at.default.sources.USER)}},"checklist enter":{key:Pt.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(At){var Tt=this.quill.getLine(At.index),Nt=d(Tt,2),Dt=Nt[0],zt=Nt[1],Yt=(0,_e.default)({},Dt.formats(),{list:"checked"}),Xt=new it.default().retain(At.index).insert(`
`,Yt).retain(Dt.length()-zt-1).retain(1,{list:"unchecked"});this.quill.updateContents(Xt,at.default.sources.USER),this.quill.setSelection(At.index+1,at.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:Pt.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(At,Tt){var Nt=this.quill.getLine(At.index),Dt=d(Nt,2),zt=Dt[0],Yt=Dt[1],Xt=new it.default().retain(At.index).insert(`
`,Tt.format).retain(zt.length()-Yt-1).retain(1,{header:null});this.quill.updateContents(Xt,at.default.sources.USER),this.quill.setSelection(At.index+1,at.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(At,Tt){var Nt=Tt.prefix.length,Dt=this.quill.getLine(At.index),zt=d(Dt,2),Yt=zt[0],Xt=zt[1];if(Xt>Nt)return!0;var Jt=void 0;switch(Tt.prefix.trim()){case"[]":case"[ ]":Jt="unchecked";break;case"[x]":Jt="checked";break;case"-":case"*":Jt="bullet";break;default:Jt="ordered"}this.quill.insertText(At.index," ",at.default.sources.USER),this.quill.history.cutoff();var nn=new it.default().retain(At.index-Xt).delete(Nt+1).retain(Yt.length()-2-Xt).retain(1,{list:Jt});this.quill.updateContents(nn,at.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(At.index-Nt,at.default.sources.SILENT)}},"code exit":{key:Pt.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(At){var Tt=this.quill.getLine(At.index),Nt=d(Tt,2),Dt=Nt[0],zt=Nt[1],Yt=new it.default().retain(At.index+Dt.length()-zt-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(Yt,at.default.sources.USER)}},"embed left":Lt(Pt.keys.LEFT,!1),"embed left shift":Lt(Pt.keys.LEFT,!0),"embed right":Lt(Pt.keys.RIGHT,!1),"embed right shift":Lt(Pt.keys.RIGHT,!0)}};function Lt(bt,At){var Tt,Nt=bt===Pt.keys.LEFT?"prefix":"suffix";return Tt={key:bt,shiftKey:At,altKey:null},lt(Tt,Nt,/^$/),lt(Tt,"handler",function(zt){var Yt=zt.index;bt===Pt.keys.RIGHT&&(Yt+=zt.length+1);var Xt=this.quill.getLeaf(Yt),Jt=d(Xt,1),nn=Jt[0];return nn instanceof ot.default.Embed?(bt===Pt.keys.LEFT?At?this.quill.setSelection(zt.index-1,zt.length+1,at.default.sources.USER):this.quill.setSelection(zt.index-1,at.default.sources.USER):At?this.quill.setSelection(zt.index,zt.length+1,at.default.sources.USER):this.quill.setSelection(zt.index+zt.length+1,at.default.sources.USER),!1):!0}),Tt}function wt(bt,At){if(!(bt.index===0||this.quill.getLength()<=1)){var Tt=this.quill.getLine(bt.index),Nt=d(Tt,1),Dt=Nt[0],zt={};if(At.offset===0){var Yt=this.quill.getLine(bt.index-1),Xt=d(Yt,1),Jt=Xt[0];if(Jt!=null&&Jt.length()>1){var nn=Dt.formats(),Wt=this.quill.getFormat(bt.index-1,1);zt=et.default.attributes.diff(nn,Wt)||{}}}var Ht=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(At.prefix)?2:1;this.quill.deleteText(bt.index-Ht,Ht,at.default.sources.USER),Object.keys(zt).length>0&&this.quill.formatLine(bt.index-Ht,Ht,zt,at.default.sources.USER),this.quill.focus()}}function St(bt,At){var Tt=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(At.suffix)?2:1;if(!(bt.index>=this.quill.getLength()-Tt)){var Nt={},Dt=0,zt=this.quill.getLine(bt.index),Yt=d(zt,1),Xt=Yt[0];if(At.offset>=Xt.length()-1){var Jt=this.quill.getLine(bt.index+1),nn=d(Jt,1),Wt=nn[0];if(Wt){var Ht=Xt.formats(),Rt=this.quill.getFormat(bt.index,1);Nt=et.default.attributes.diff(Ht,Rt)||{},Dt=Wt.length()}}this.quill.deleteText(bt.index,Tt,at.default.sources.USER),Object.keys(Nt).length>0&&this.quill.formatLine(bt.index+Dt-1,Tt,Nt,at.default.sources.USER)}}function _t(bt){var At=this.quill.getLines(bt),Tt={};if(At.length>1){var Nt=At[0].formats(),Dt=At[At.length-1].formats();Tt=et.default.attributes.diff(Dt,Nt)||{}}this.quill.deleteText(bt,at.default.sources.USER),Object.keys(Tt).length>0&&this.quill.formatLine(bt.index,1,Tt,at.default.sources.USER),this.quill.setSelection(bt.index,at.default.sources.SILENT),this.quill.focus()}function xt(bt,At){var Tt=this;bt.length>0&&this.quill.scroll.deleteAt(bt.index,bt.length);var Nt=Object.keys(At.format).reduce(function(Dt,zt){return ot.default.query(zt,ot.default.Scope.BLOCK)&&!Array.isArray(At.format[zt])&&(Dt[zt]=At.format[zt]),Dt},{});this.quill.insertText(bt.index,`
`,Nt,at.default.sources.USER),this.quill.setSelection(bt.index+1,at.default.sources.SILENT),this.quill.focus(),Object.keys(At.format).forEach(function(Dt){Nt[Dt]==null&&(Array.isArray(At.format[Dt])||Dt!=="link"&&Tt.quill.format(Dt,At.format[Dt],at.default.sources.USER))})}function pt(bt){return{key:Pt.keys.TAB,shiftKey:!bt,format:{"code-block":!0},handler:function(Tt){var Nt=ot.default.query("code-block"),Dt=Tt.index,zt=Tt.length,Yt=this.quill.scroll.descendant(Nt,Dt),Xt=d(Yt,2),Jt=Xt[0],nn=Xt[1];if(Jt!=null){var Wt=this.quill.getIndex(Jt),Ht=Jt.newlineIndex(nn,!0)+1,Rt=Jt.newlineIndex(Wt+nn+zt),Ct=Jt.domNode.textContent.slice(Ht,Rt).split(`
`);nn=0,Ct.forEach(function(Ft,Bt){bt?(Jt.insertAt(Ht+nn,Nt.TAB),nn+=Nt.TAB.length,Bt===0?Dt+=Nt.TAB.length:zt+=Nt.TAB.length):Ft.startsWith(Nt.TAB)&&(Jt.deleteAt(Ht+nn,Nt.TAB.length),nn-=Nt.TAB.length,Bt===0?Dt-=Nt.TAB.length:zt-=Nt.TAB.length),nn+=Ft.length+1}),this.quill.update(at.default.sources.USER),this.quill.setSelection(Dt,zt,at.default.sources.SILENT)}}}}function gt(bt){return{key:bt[0].toUpperCase(),shortKey:!0,handler:function(Tt,Nt){this.quill.format(bt,!Nt.format[bt],at.default.sources.USER)}}}function Et(bt){if(typeof bt=="string"||typeof bt=="number")return Et({key:bt});if((typeof bt>"u"?"undefined":c(bt))==="object"&&(bt=(0,b.default)(bt,!1)),typeof bt.key=="string")if(Pt.keys[bt.key.toUpperCase()]!=null)bt.key=Pt.keys[bt.key.toUpperCase()];else if(bt.key.length===1)bt.key=bt.key.toUpperCase().charCodeAt(0);else return null;return bt.shortKey&&(bt[Ot]=bt.shortKey,delete bt.shortKey),bt}a.default=Pt,a.SHORTKEY=Ot},function(s,a,o){Object.defineProperty(a,"__esModule",{value:!0});var c=function(){function et(tt,ot){var nt=[],at=!0,dt=!1,ut=void 0;try{for(var ct=tt[Symbol.iterator](),ht;!(at=(ht=ct.next()).done)&&(nt.push(ht.value),!(ot&&nt.length===ot));at=!0);}catch(mt){dt=!0,ut=mt}finally{try{!at&&ct.return&&ct.return()}finally{if(dt)throw ut}}return nt}return function(tt,ot){if(Array.isArray(tt))return tt;if(Symbol.iterator in Object(tt))return et(tt,ot);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function et(tt,ot,nt){tt===null&&(tt=Function.prototype);var at=Object.getOwnPropertyDescriptor(tt,ot);if(at===void 0){var dt=Object.getPrototypeOf(tt);return dt===null?void 0:et(dt,ot,nt)}else{if("value"in at)return at.value;var ut=at.get;return ut===void 0?void 0:ut.call(nt)}},g=function(){function et(tt,ot){for(var nt=0;nt<ot.length;nt++){var at=ot[nt];at.enumerable=at.enumerable||!1,at.configurable=!0,"value"in at&&(at.writable=!0),Object.defineProperty(tt,at.key,at)}}return function(tt,ot,nt){return ot&&et(tt.prototype,ot),nt&&et(tt,nt),tt}}(),h=o(0),b=j(h),_=o(7),$=j(_);function j(et){return et&&et.__esModule?et:{default:et}}function _e(et,tt){if(!(et instanceof tt))throw new TypeError("Cannot call a class as a function")}function rt(et,tt){if(!et)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tt&&(typeof tt=="object"||typeof tt=="function")?tt:et}function it(et,tt){if(typeof tt!="function"&&tt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof tt);et.prototype=Object.create(tt&&tt.prototype,{constructor:{value:et,enumerable:!1,writable:!0,configurable:!0}}),tt&&(Object.setPrototypeOf?Object.setPrototypeOf(et,tt):et.__proto__=tt)}var st=function(et){it(tt,et),g(tt,null,[{key:"value",value:function(){}}]);function tt(ot,nt){_e(this,tt);var at=rt(this,(tt.__proto__||Object.getPrototypeOf(tt)).call(this,ot));return at.selection=nt,at.textNode=document.createTextNode(tt.CONTENTS),at.domNode.appendChild(at.textNode),at._length=0,at}return g(tt,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(nt,at){if(this._length!==0)return d(tt.prototype.__proto__||Object.getPrototypeOf(tt.prototype),"format",this).call(this,nt,at);for(var dt=this,ut=0;dt!=null&&dt.statics.scope!==b.default.Scope.BLOCK_BLOT;)ut+=dt.offset(dt.parent),dt=dt.parent;dt!=null&&(this._length=tt.CONTENTS.length,dt.optimize(),dt.formatAt(ut,tt.CONTENTS.length,nt,at),this._length=0)}},{key:"index",value:function(nt,at){return nt===this.textNode?0:d(tt.prototype.__proto__||Object.getPrototypeOf(tt.prototype),"index",this).call(this,nt,at)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){d(tt.prototype.__proto__||Object.getPrototypeOf(tt.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var nt=this.textNode,at=this.selection.getNativeRange(),dt=void 0,ut=void 0,ct=void 0;if(at!=null&&at.start.node===nt&&at.end.node===nt){var ht=[nt,at.start.offset,at.end.offset];dt=ht[0],ut=ht[1],ct=ht[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==tt.CONTENTS){var mt=this.textNode.data.split(tt.CONTENTS).join("");this.next instanceof $.default?(dt=this.next.domNode,this.next.insertAt(0,mt),this.textNode.data=tt.CONTENTS):(this.textNode.data=mt,this.parent.insertBefore(b.default.create(this.textNode),this),this.textNode=document.createTextNode(tt.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),ut!=null){var lt=[ut,ct].map(function(vt){return Math.max(0,Math.min(dt.data.length,vt-1))}),ft=c(lt,2);return ut=ft[0],ct=ft[1],{startNode:dt,startOffset:ut,endNode:dt,endOffset:ct}}}}},{key:"update",value:function(nt,at){var dt=this;if(nt.some(function(ct){return ct.type==="characterData"&&ct.target===dt.textNode})){var ut=this.restore();ut&&(at.range=ut)}}},{key:"value",value:function(){return""}}]),tt}(b.default.Embed);st.blotName="cursor",st.className="ql-cursor",st.tagName="span",st.CONTENTS="\uFEFF",a.default=st},function(s,a,o){Object.defineProperty(a,"__esModule",{value:!0});var c=o(0),d=b(c),g=o(4),h=b(g);function b(rt){return rt&&rt.__esModule?rt:{default:rt}}function _(rt,it){if(!(rt instanceof it))throw new TypeError("Cannot call a class as a function")}function $(rt,it){if(!rt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return it&&(typeof it=="object"||typeof it=="function")?it:rt}function j(rt,it){if(typeof it!="function"&&it!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof it);rt.prototype=Object.create(it&&it.prototype,{constructor:{value:rt,enumerable:!1,writable:!0,configurable:!0}}),it&&(Object.setPrototypeOf?Object.setPrototypeOf(rt,it):rt.__proto__=it)}var _e=function(rt){j(it,rt);function it(){return _(this,it),$(this,(it.__proto__||Object.getPrototypeOf(it)).apply(this,arguments))}return it}(d.default.Container);_e.allowedChildren=[h.default,g.BlockEmbed,_e],a.default=_e},function(s,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.ColorStyle=a.ColorClass=a.ColorAttributor=void 0;var c=function(){function st(et,tt){for(var ot=0;ot<tt.length;ot++){var nt=tt[ot];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(et,nt.key,nt)}}return function(et,tt,ot){return tt&&st(et.prototype,tt),ot&&st(et,ot),et}}(),d=function st(et,tt,ot){et===null&&(et=Function.prototype);var nt=Object.getOwnPropertyDescriptor(et,tt);if(nt===void 0){var at=Object.getPrototypeOf(et);return at===null?void 0:st(at,tt,ot)}else{if("value"in nt)return nt.value;var dt=nt.get;return dt===void 0?void 0:dt.call(ot)}},g=o(0),h=b(g);function b(st){return st&&st.__esModule?st:{default:st}}function _(st,et){if(!(st instanceof et))throw new TypeError("Cannot call a class as a function")}function $(st,et){if(!st)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et&&(typeof et=="object"||typeof et=="function")?et:st}function j(st,et){if(typeof et!="function"&&et!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof et);st.prototype=Object.create(et&&et.prototype,{constructor:{value:st,enumerable:!1,writable:!0,configurable:!0}}),et&&(Object.setPrototypeOf?Object.setPrototypeOf(st,et):st.__proto__=et)}var _e=function(st){j(et,st);function et(){return _(this,et),$(this,(et.__proto__||Object.getPrototypeOf(et)).apply(this,arguments))}return c(et,[{key:"value",value:function(ot){var nt=d(et.prototype.__proto__||Object.getPrototypeOf(et.prototype),"value",this).call(this,ot);return nt.startsWith("rgb(")?(nt=nt.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+nt.split(",").map(function(at){return("00"+parseInt(at).toString(16)).slice(-2)}).join("")):nt}}]),et}(h.default.Attributor.Style),rt=new h.default.Attributor.Class("color","ql-color",{scope:h.default.Scope.INLINE}),it=new _e("color","color",{scope:h.default.Scope.INLINE});a.ColorAttributor=_e,a.ColorClass=rt,a.ColorStyle=it},function(s,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.sanitize=a.default=void 0;var c=function(){function it(st,et){for(var tt=0;tt<et.length;tt++){var ot=et[tt];ot.enumerable=ot.enumerable||!1,ot.configurable=!0,"value"in ot&&(ot.writable=!0),Object.defineProperty(st,ot.key,ot)}}return function(st,et,tt){return et&&it(st.prototype,et),tt&&it(st,tt),st}}(),d=function it(st,et,tt){st===null&&(st=Function.prototype);var ot=Object.getOwnPropertyDescriptor(st,et);if(ot===void 0){var nt=Object.getPrototypeOf(st);return nt===null?void 0:it(nt,et,tt)}else{if("value"in ot)return ot.value;var at=ot.get;return at===void 0?void 0:at.call(tt)}},g=o(6),h=b(g);function b(it){return it&&it.__esModule?it:{default:it}}function _(it,st){if(!(it instanceof st))throw new TypeError("Cannot call a class as a function")}function $(it,st){if(!it)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return st&&(typeof st=="object"||typeof st=="function")?st:it}function j(it,st){if(typeof st!="function"&&st!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof st);it.prototype=Object.create(st&&st.prototype,{constructor:{value:it,enumerable:!1,writable:!0,configurable:!0}}),st&&(Object.setPrototypeOf?Object.setPrototypeOf(it,st):it.__proto__=st)}var _e=function(it){j(st,it);function st(){return _(this,st),$(this,(st.__proto__||Object.getPrototypeOf(st)).apply(this,arguments))}return c(st,[{key:"format",value:function(tt,ot){if(tt!==this.statics.blotName||!ot)return d(st.prototype.__proto__||Object.getPrototypeOf(st.prototype),"format",this).call(this,tt,ot);ot=this.constructor.sanitize(ot),this.domNode.setAttribute("href",ot)}}],[{key:"create",value:function(tt){var ot=d(st.__proto__||Object.getPrototypeOf(st),"create",this).call(this,tt);return tt=this.sanitize(tt),ot.setAttribute("href",tt),ot.setAttribute("rel","noopener noreferrer"),ot.setAttribute("target","_blank"),ot}},{key:"formats",value:function(tt){return tt.getAttribute("href")}},{key:"sanitize",value:function(tt){return rt(tt,this.PROTOCOL_WHITELIST)?tt:this.SANITIZED_URL}}]),st}(h.default);_e.blotName="link",_e.tagName="A",_e.SANITIZED_URL="about:blank",_e.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function rt(it,st){var et=document.createElement("a");et.href=it;var tt=et.href.slice(0,et.href.indexOf(":"));return st.indexOf(tt)>-1}a.default=_e,a.sanitize=rt},function(s,a,o){Object.defineProperty(a,"__esModule",{value:!0});var c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(st){return typeof st}:function(st){return st&&typeof Symbol=="function"&&st.constructor===Symbol&&st!==Symbol.prototype?"symbol":typeof st},d=function(){function st(et,tt){for(var ot=0;ot<tt.length;ot++){var nt=tt[ot];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(et,nt.key,nt)}}return function(et,tt,ot){return tt&&st(et.prototype,tt),ot&&st(et,ot),et}}(),g=o(23),h=$(g),b=o(107),_=$(b);function $(st){return st&&st.__esModule?st:{default:st}}function j(st,et){if(!(st instanceof et))throw new TypeError("Cannot call a class as a function")}var _e=0;function rt(st,et){st.setAttribute(et,st.getAttribute(et)!=="true")}var it=function(){function st(et){var tt=this;j(this,st),this.select=et,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){tt.togglePicker()}),this.label.addEventListener("keydown",function(ot){switch(ot.keyCode){case h.default.keys.ENTER:tt.togglePicker();break;case h.default.keys.ESCAPE:tt.escape(),ot.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return d(st,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),rt(this.label,"aria-expanded"),rt(this.options,"aria-hidden")}},{key:"buildItem",value:function(tt){var ot=this,nt=document.createElement("span");return nt.tabIndex="0",nt.setAttribute("role","button"),nt.classList.add("ql-picker-item"),tt.hasAttribute("value")&&nt.setAttribute("data-value",tt.getAttribute("value")),tt.textContent&&nt.setAttribute("data-label",tt.textContent),nt.addEventListener("click",function(){ot.selectItem(nt,!0)}),nt.addEventListener("keydown",function(at){switch(at.keyCode){case h.default.keys.ENTER:ot.selectItem(nt,!0),at.preventDefault();break;case h.default.keys.ESCAPE:ot.escape(),at.preventDefault();break}}),nt}},{key:"buildLabel",value:function(){var tt=document.createElement("span");return tt.classList.add("ql-picker-label"),tt.innerHTML=_.default,tt.tabIndex="0",tt.setAttribute("role","button"),tt.setAttribute("aria-expanded","false"),this.container.appendChild(tt),tt}},{key:"buildOptions",value:function(){var tt=this,ot=document.createElement("span");ot.classList.add("ql-picker-options"),ot.setAttribute("aria-hidden","true"),ot.tabIndex="-1",ot.id="ql-picker-options-"+_e,_e+=1,this.label.setAttribute("aria-controls",ot.id),this.options=ot,[].slice.call(this.select.options).forEach(function(nt){var at=tt.buildItem(nt);ot.appendChild(at),nt.selected===!0&&tt.selectItem(at)}),this.container.appendChild(ot)}},{key:"buildPicker",value:function(){var tt=this;[].slice.call(this.select.attributes).forEach(function(ot){tt.container.setAttribute(ot.name,ot.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var tt=this;this.close(),setTimeout(function(){return tt.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(tt){var ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,nt=this.container.querySelector(".ql-selected");if(tt!==nt&&(nt!=null&&nt.classList.remove("ql-selected"),tt!=null&&(tt.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(tt.parentNode.children,tt),tt.hasAttribute("data-value")?this.label.setAttribute("data-value",tt.getAttribute("data-value")):this.label.removeAttribute("data-value"),tt.hasAttribute("data-label")?this.label.setAttribute("data-label",tt.getAttribute("data-label")):this.label.removeAttribute("data-label"),ot))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":c(Event))==="object"){var at=document.createEvent("Event");at.initEvent("change",!0,!0),this.select.dispatchEvent(at)}this.close()}}},{key:"update",value:function(){var tt=void 0;if(this.select.selectedIndex>-1){var ot=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];tt=this.select.options[this.select.selectedIndex],this.selectItem(ot)}else this.selectItem(null);var nt=tt!=null&&tt!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",nt)}}]),st}();a.default=it},function(s,a,o){Object.defineProperty(a,"__esModule",{value:!0});var c=o(0),d=jt(c),g=o(5),h=jt(g),b=o(4),_=jt(b),$=o(16),j=jt($),_e=o(25),rt=jt(_e),it=o(24),st=jt(it),et=o(35),tt=jt(et),ot=o(6),nt=jt(ot),at=o(22),dt=jt(at),ut=o(7),ct=jt(ut),ht=o(55),mt=jt(ht),lt=o(42),ft=jt(lt),vt=o(23),kt=jt(vt);function jt(Ot){return Ot&&Ot.__esModule?Ot:{default:Ot}}h.default.register({"blots/block":_.default,"blots/block/embed":b.BlockEmbed,"blots/break":j.default,"blots/container":rt.default,"blots/cursor":st.default,"blots/embed":tt.default,"blots/inline":nt.default,"blots/scroll":dt.default,"blots/text":ct.default,"modules/clipboard":mt.default,"modules/history":ft.default,"modules/keyboard":kt.default}),d.default.register(_.default,j.default,st.default,nt.default,dt.default,ct.default),a.default=h.default},function(s,a,o){Object.defineProperty(a,"__esModule",{value:!0});var c=o(1),d=function(){function g(h){this.domNode=h,this.domNode[c.DATA_KEY]={blot:this}}return Object.defineProperty(g.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),g.create=function(h){if(this.tagName==null)throw new c.ParchmentError("Blot definition missing tagName");var b;return Array.isArray(this.tagName)?(typeof h=="string"&&(h=h.toUpperCase(),parseInt(h).toString()===h&&(h=parseInt(h))),typeof h=="number"?b=document.createElement(this.tagName[h-1]):this.tagName.indexOf(h)>-1?b=document.createElement(h):b=document.createElement(this.tagName[0])):b=document.createElement(this.tagName),this.className&&b.classList.add(this.className),b},g.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},g.prototype.clone=function(){var h=this.domNode.cloneNode(!1);return c.create(h)},g.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[c.DATA_KEY]},g.prototype.deleteAt=function(h,b){var _=this.isolate(h,b);_.remove()},g.prototype.formatAt=function(h,b,_,$){var j=this.isolate(h,b);if(c.query(_,c.Scope.BLOT)!=null&&$)j.wrap(_,$);else if(c.query(_,c.Scope.ATTRIBUTE)!=null){var _e=c.create(this.statics.scope);j.wrap(_e),_e.format(_,$)}},g.prototype.insertAt=function(h,b,_){var $=_==null?c.create("text",b):c.create(b,_),j=this.split(h);this.parent.insertBefore($,j)},g.prototype.insertInto=function(h,b){b===void 0&&(b=null),this.parent!=null&&this.parent.children.remove(this);var _=null;h.children.insertBefore(this,b),b!=null&&(_=b.domNode),(this.domNode.parentNode!=h.domNode||this.domNode.nextSibling!=_)&&h.domNode.insertBefore(this.domNode,_),this.parent=h,this.attach()},g.prototype.isolate=function(h,b){var _=this.split(h);return _.split(b),_},g.prototype.length=function(){return 1},g.prototype.offset=function(h){return h===void 0&&(h=this.parent),this.parent==null||this==h?0:this.parent.children.offset(this)+this.parent.offset(h)},g.prototype.optimize=function(h){this.domNode[c.DATA_KEY]!=null&&delete this.domNode[c.DATA_KEY].mutations},g.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},g.prototype.replace=function(h){h.parent!=null&&(h.parent.insertBefore(this,h.next),h.remove())},g.prototype.replaceWith=function(h,b){var _=typeof h=="string"?c.create(h,b):h;return _.replace(this),_},g.prototype.split=function(h,b){return h===0?this:this.next},g.prototype.update=function(h,b){},g.prototype.wrap=function(h,b){var _=typeof h=="string"?c.create(h,b):h;return this.parent!=null&&this.parent.insertBefore(_,this.next),_.appendChild(this),_},g.blotName="abstract",g}();a.default=d},function(s,a,o){Object.defineProperty(a,"__esModule",{value:!0});var c=o(12),d=o(32),g=o(33),h=o(1),b=function(){function _($){this.attributes={},this.domNode=$,this.build()}return _.prototype.attribute=function($,j){j?$.add(this.domNode,j)&&($.value(this.domNode)!=null?this.attributes[$.attrName]=$:delete this.attributes[$.attrName]):($.remove(this.domNode),delete this.attributes[$.attrName])},_.prototype.build=function(){var $=this;this.attributes={};var j=c.default.keys(this.domNode),_e=d.default.keys(this.domNode),rt=g.default.keys(this.domNode);j.concat(_e).concat(rt).forEach(function(it){var st=h.query(it,h.Scope.ATTRIBUTE);st instanceof c.default&&($.attributes[st.attrName]=st)})},_.prototype.copy=function($){var j=this;Object.keys(this.attributes).forEach(function(_e){var rt=j.attributes[_e].value(j.domNode);$.format(_e,rt)})},_.prototype.move=function($){var j=this;this.copy($),Object.keys(this.attributes).forEach(function(_e){j.attributes[_e].remove(j.domNode)}),this.attributes={}},_.prototype.values=function(){var $=this;return Object.keys(this.attributes).reduce(function(j,_e){return j[_e]=$.attributes[_e].value($.domNode),j},{})},_}();a.default=b},function(s,a,o){var c=this&&this.__extends||function(){var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,$){_.__proto__=$}||function(_,$){for(var j in $)$.hasOwnProperty(j)&&(_[j]=$[j])};return function(_,$){b(_,$);function j(){this.constructor=_}_.prototype=$===null?Object.create($):(j.prototype=$.prototype,new j)}}();Object.defineProperty(a,"__esModule",{value:!0});var d=o(12);function g(b,_){var $=b.getAttribute("class")||"";return $.split(/\s+/).filter(function(j){return j.indexOf(_+"-")===0})}var h=function(b){c(_,b);function _(){return b!==null&&b.apply(this,arguments)||this}return _.keys=function($){return($.getAttribute("class")||"").split(/\s+/).map(function(j){return j.split("-").slice(0,-1).join("-")})},_.prototype.add=function($,j){return this.canAdd($,j)?(this.remove($),$.classList.add(this.keyName+"-"+j),!0):!1},_.prototype.remove=function($){var j=g($,this.keyName);j.forEach(function(_e){$.classList.remove(_e)}),$.classList.length===0&&$.removeAttribute("class")},_.prototype.value=function($){var j=g($,this.keyName)[0]||"",_e=j.slice(this.keyName.length+1);return this.canAdd($,_e)?_e:""},_}(d.default);a.default=h},function(s,a,o){var c=this&&this.__extends||function(){var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,$){_.__proto__=$}||function(_,$){for(var j in $)$.hasOwnProperty(j)&&(_[j]=$[j])};return function(_,$){b(_,$);function j(){this.constructor=_}_.prototype=$===null?Object.create($):(j.prototype=$.prototype,new j)}}();Object.defineProperty(a,"__esModule",{value:!0});var d=o(12);function g(b){var _=b.split("-"),$=_.slice(1).map(function(j){return j[0].toUpperCase()+j.slice(1)}).join("");return _[0]+$}var h=function(b){c(_,b);function _(){return b!==null&&b.apply(this,arguments)||this}return _.keys=function($){return($.getAttribute("style")||"").split(";").map(function(j){var _e=j.split(":");return _e[0].trim()})},_.prototype.add=function($,j){return this.canAdd($,j)?($.style[g(this.keyName)]=j,!0):!1},_.prototype.remove=function($){$.style[g(this.keyName)]="",$.getAttribute("style")||$.removeAttribute("style")},_.prototype.value=function($){var j=$.style[g(this.keyName)];return this.canAdd($,j)?j:""},_}(d.default);a.default=h},function(s,a,o){Object.defineProperty(a,"__esModule",{value:!0});var c=function(){function h(b,_){for(var $=0;$<_.length;$++){var j=_[$];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(b,j.key,j)}}return function(b,_,$){return _&&h(b.prototype,_),$&&h(b,$),b}}();function d(h,b){if(!(h instanceof b))throw new TypeError("Cannot call a class as a function")}var g=function(){function h(b,_){d(this,h),this.quill=b,this.options=_,this.modules={}}return c(h,[{key:"init",value:function(){var _=this;Object.keys(this.options.modules).forEach(function($){_.modules[$]==null&&_.addModule($)})}},{key:"addModule",value:function(_){var $=this.quill.constructor.import("modules/"+_);return this.modules[_]=new $(this.quill,this.options.modules[_]||{}),this.modules[_]}}]),h}();g.DEFAULTS={modules:{}},g.themes={default:g},a.default=g},function(s,a,o){Object.defineProperty(a,"__esModule",{value:!0});var c=function(){function et(tt,ot){for(var nt=0;nt<ot.length;nt++){var at=ot[nt];at.enumerable=at.enumerable||!1,at.configurable=!0,"value"in at&&(at.writable=!0),Object.defineProperty(tt,at.key,at)}}return function(tt,ot,nt){return ot&&et(tt.prototype,ot),nt&&et(tt,nt),tt}}(),d=function et(tt,ot,nt){tt===null&&(tt=Function.prototype);var at=Object.getOwnPropertyDescriptor(tt,ot);if(at===void 0){var dt=Object.getPrototypeOf(tt);return dt===null?void 0:et(dt,ot,nt)}else{if("value"in at)return at.value;var ut=at.get;return ut===void 0?void 0:ut.call(nt)}},g=o(0),h=$(g),b=o(7),_=$(b);function $(et){return et&&et.__esModule?et:{default:et}}function j(et,tt){if(!(et instanceof tt))throw new TypeError("Cannot call a class as a function")}function _e(et,tt){if(!et)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tt&&(typeof tt=="object"||typeof tt=="function")?tt:et}function rt(et,tt){if(typeof tt!="function"&&tt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof tt);et.prototype=Object.create(tt&&tt.prototype,{constructor:{value:et,enumerable:!1,writable:!0,configurable:!0}}),tt&&(Object.setPrototypeOf?Object.setPrototypeOf(et,tt):et.__proto__=tt)}var it="\uFEFF",st=function(et){rt(tt,et);function tt(ot){j(this,tt);var nt=_e(this,(tt.__proto__||Object.getPrototypeOf(tt)).call(this,ot));return nt.contentNode=document.createElement("span"),nt.contentNode.setAttribute("contenteditable",!1),[].slice.call(nt.domNode.childNodes).forEach(function(at){nt.contentNode.appendChild(at)}),nt.leftGuard=document.createTextNode(it),nt.rightGuard=document.createTextNode(it),nt.domNode.appendChild(nt.leftGuard),nt.domNode.appendChild(nt.contentNode),nt.domNode.appendChild(nt.rightGuard),nt}return c(tt,[{key:"index",value:function(nt,at){return nt===this.leftGuard?0:nt===this.rightGuard?1:d(tt.prototype.__proto__||Object.getPrototypeOf(tt.prototype),"index",this).call(this,nt,at)}},{key:"restore",value:function(nt){var at=void 0,dt=void 0,ut=nt.data.split(it).join("");if(nt===this.leftGuard)if(this.prev instanceof _.default){var ct=this.prev.length();this.prev.insertAt(ct,ut),at={startNode:this.prev.domNode,startOffset:ct+ut.length}}else dt=document.createTextNode(ut),this.parent.insertBefore(h.default.create(dt),this),at={startNode:dt,startOffset:ut.length};else nt===this.rightGuard&&(this.next instanceof _.default?(this.next.insertAt(0,ut),at={startNode:this.next.domNode,startOffset:ut.length}):(dt=document.createTextNode(ut),this.parent.insertBefore(h.default.create(dt),this.next),at={startNode:dt,startOffset:ut.length}));return nt.data=it,at}},{key:"update",value:function(nt,at){var dt=this;nt.forEach(function(ut){if(ut.type==="characterData"&&(ut.target===dt.leftGuard||ut.target===dt.rightGuard)){var ct=dt.restore(ut.target);ct&&(at.range=ct)}})}}]),tt}(h.default.Embed);a.default=st},function(s,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.AlignStyle=a.AlignClass=a.AlignAttribute=void 0;var c=o(0),d=g(c);function g(j){return j&&j.__esModule?j:{default:j}}var h={scope:d.default.Scope.BLOCK,whitelist:["right","center","justify"]},b=new d.default.Attributor.Attribute("align","align",h),_=new d.default.Attributor.Class("align","ql-align",h),$=new d.default.Attributor.Style("align","text-align",h);a.AlignAttribute=b,a.AlignClass=_,a.AlignStyle=$},function(s,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.BackgroundStyle=a.BackgroundClass=void 0;var c=o(0),d=h(c),g=o(26);function h($){return $&&$.__esModule?$:{default:$}}var b=new d.default.Attributor.Class("background","ql-bg",{scope:d.default.Scope.INLINE}),_=new g.ColorAttributor("background","background-color",{scope:d.default.Scope.INLINE});a.BackgroundClass=b,a.BackgroundStyle=_},function(s,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.DirectionStyle=a.DirectionClass=a.DirectionAttribute=void 0;var c=o(0),d=g(c);function g(j){return j&&j.__esModule?j:{default:j}}var h={scope:d.default.Scope.BLOCK,whitelist:["rtl"]},b=new d.default.Attributor.Attribute("direction","dir",h),_=new d.default.Attributor.Class("direction","ql-direction",h),$=new d.default.Attributor.Style("direction","direction",h);a.DirectionAttribute=b,a.DirectionClass=_,a.DirectionStyle=$},function(s,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.FontClass=a.FontStyle=void 0;var c=function(){function et(tt,ot){for(var nt=0;nt<ot.length;nt++){var at=ot[nt];at.enumerable=at.enumerable||!1,at.configurable=!0,"value"in at&&(at.writable=!0),Object.defineProperty(tt,at.key,at)}}return function(tt,ot,nt){return ot&&et(tt.prototype,ot),nt&&et(tt,nt),tt}}(),d=function et(tt,ot,nt){tt===null&&(tt=Function.prototype);var at=Object.getOwnPropertyDescriptor(tt,ot);if(at===void 0){var dt=Object.getPrototypeOf(tt);return dt===null?void 0:et(dt,ot,nt)}else{if("value"in at)return at.value;var ut=at.get;return ut===void 0?void 0:ut.call(nt)}},g=o(0),h=b(g);function b(et){return et&&et.__esModule?et:{default:et}}function _(et,tt){if(!(et instanceof tt))throw new TypeError("Cannot call a class as a function")}function $(et,tt){if(!et)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tt&&(typeof tt=="object"||typeof tt=="function")?tt:et}function j(et,tt){if(typeof tt!="function"&&tt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof tt);et.prototype=Object.create(tt&&tt.prototype,{constructor:{value:et,enumerable:!1,writable:!0,configurable:!0}}),tt&&(Object.setPrototypeOf?Object.setPrototypeOf(et,tt):et.__proto__=tt)}var _e={scope:h.default.Scope.INLINE,whitelist:["serif","monospace"]},rt=new h.default.Attributor.Class("font","ql-font",_e),it=function(et){j(tt,et);function tt(){return _(this,tt),$(this,(tt.__proto__||Object.getPrototypeOf(tt)).apply(this,arguments))}return c(tt,[{key:"value",value:function(nt){return d(tt.prototype.__proto__||Object.getPrototypeOf(tt.prototype),"value",this).call(this,nt).replace(/["']/g,"")}}]),tt}(h.default.Attributor.Style),st=new it("font","font-family",_e);a.FontStyle=st,a.FontClass=rt},function(s,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.SizeStyle=a.SizeClass=void 0;var c=o(0),d=g(c);function g(_){return _&&_.__esModule?_:{default:_}}var h=new d.default.Attributor.Class("size","ql-size",{scope:d.default.Scope.INLINE,whitelist:["small","large","huge"]}),b=new d.default.Attributor.Style("size","font-size",{scope:d.default.Scope.INLINE,whitelist:["10px","18px","32px"]});a.SizeClass=h,a.SizeStyle=b},function(s,a,o){s.exports={align:{"":o(76),center:o(77),right:o(78),justify:o(79)},background:o(80),blockquote:o(81),bold:o(82),clean:o(83),code:o(58),"code-block":o(58),color:o(84),direction:{"":o(85),rtl:o(86)},float:{center:o(87),full:o(88),left:o(89),right:o(90)},formula:o(91),header:{1:o(92),2:o(93)},italic:o(94),image:o(95),indent:{"+1":o(96),"-1":o(97)},link:o(98),list:{ordered:o(99),bullet:o(100),check:o(101)},script:{sub:o(102),super:o(103)},strike:o(104),underline:o(105),video:o(106)}},function(s,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.getLastChangeIndex=a.default=void 0;var c=function(){function ot(nt,at){for(var dt=0;dt<at.length;dt++){var ut=at[dt];ut.enumerable=ut.enumerable||!1,ut.configurable=!0,"value"in ut&&(ut.writable=!0),Object.defineProperty(nt,ut.key,ut)}}return function(nt,at,dt){return at&&ot(nt.prototype,at),dt&&ot(nt,dt),nt}}(),d=o(0),g=j(d),h=o(5),b=j(h),_=o(9),$=j(_);function j(ot){return ot&&ot.__esModule?ot:{default:ot}}function _e(ot,nt){if(!(ot instanceof nt))throw new TypeError("Cannot call a class as a function")}function rt(ot,nt){if(!ot)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return nt&&(typeof nt=="object"||typeof nt=="function")?nt:ot}function it(ot,nt){if(typeof nt!="function"&&nt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof nt);ot.prototype=Object.create(nt&&nt.prototype,{constructor:{value:ot,enumerable:!1,writable:!0,configurable:!0}}),nt&&(Object.setPrototypeOf?Object.setPrototypeOf(ot,nt):ot.__proto__=nt)}var st=function(ot){it(nt,ot);function nt(at,dt){_e(this,nt);var ut=rt(this,(nt.__proto__||Object.getPrototypeOf(nt)).call(this,at,dt));return ut.lastRecorded=0,ut.ignoreChange=!1,ut.clear(),ut.quill.on(b.default.events.EDITOR_CHANGE,function(ct,ht,mt,lt){ct!==b.default.events.TEXT_CHANGE||ut.ignoreChange||(!ut.options.userOnly||lt===b.default.sources.USER?ut.record(ht,mt):ut.transform(ht))}),ut.quill.keyboard.addBinding({key:"Z",shortKey:!0},ut.undo.bind(ut)),ut.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},ut.redo.bind(ut)),/Win/i.test(navigator.platform)&&ut.quill.keyboard.addBinding({key:"Y",shortKey:!0},ut.redo.bind(ut)),ut}return c(nt,[{key:"change",value:function(dt,ut){if(this.stack[dt].length!==0){var ct=this.stack[dt].pop();this.stack[ut].push(ct),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(ct[dt],b.default.sources.USER),this.ignoreChange=!1;var ht=tt(ct[dt]);this.quill.setSelection(ht)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(dt,ut){if(dt.ops.length!==0){this.stack.redo=[];var ct=this.quill.getContents().diff(ut),ht=Date.now();if(this.lastRecorded+this.options.delay>ht&&this.stack.undo.length>0){var mt=this.stack.undo.pop();ct=ct.compose(mt.undo),dt=mt.redo.compose(dt)}else this.lastRecorded=ht;this.stack.undo.push({redo:dt,undo:ct}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(dt){this.stack.undo.forEach(function(ut){ut.undo=dt.transform(ut.undo,!0),ut.redo=dt.transform(ut.redo,!0)}),this.stack.redo.forEach(function(ut){ut.undo=dt.transform(ut.undo,!0),ut.redo=dt.transform(ut.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),nt}($.default);st.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function et(ot){var nt=ot.ops[ot.ops.length-1];return nt==null?!1:nt.insert!=null?typeof nt.insert=="string"&&nt.insert.endsWith(`
`):nt.attributes!=null?Object.keys(nt.attributes).some(function(at){return g.default.query(at,g.default.Scope.BLOCK)!=null}):!1}function tt(ot){var nt=ot.reduce(function(dt,ut){return dt+=ut.delete||0,dt},0),at=ot.length()-nt;return et(ot)&&(at-=1),at}a.default=st,a.getLastChangeIndex=tt},function(s,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.BaseTooltip=void 0;var c=function(){function xt(pt,gt){for(var Et=0;Et<gt.length;Et++){var bt=gt[Et];bt.enumerable=bt.enumerable||!1,bt.configurable=!0,"value"in bt&&(bt.writable=!0),Object.defineProperty(pt,bt.key,bt)}}return function(pt,gt,Et){return gt&&xt(pt.prototype,gt),Et&&xt(pt,Et),pt}}(),d=function xt(pt,gt,Et){pt===null&&(pt=Function.prototype);var bt=Object.getOwnPropertyDescriptor(pt,gt);if(bt===void 0){var At=Object.getPrototypeOf(pt);return At===null?void 0:xt(At,gt,Et)}else{if("value"in bt)return bt.value;var Tt=bt.get;return Tt===void 0?void 0:Tt.call(Et)}},g=o(3),h=ht(g),b=o(2),_=ht(b),$=o(8),j=ht($),_e=o(23),rt=ht(_e),it=o(34),st=ht(it),et=o(59),tt=ht(et),ot=o(60),nt=ht(ot),at=o(28),dt=ht(at),ut=o(61),ct=ht(ut);function ht(xt){return xt&&xt.__esModule?xt:{default:xt}}function mt(xt,pt){if(!(xt instanceof pt))throw new TypeError("Cannot call a class as a function")}function lt(xt,pt){if(!xt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return pt&&(typeof pt=="object"||typeof pt=="function")?pt:xt}function ft(xt,pt){if(typeof pt!="function"&&pt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof pt);xt.prototype=Object.create(pt&&pt.prototype,{constructor:{value:xt,enumerable:!1,writable:!0,configurable:!0}}),pt&&(Object.setPrototypeOf?Object.setPrototypeOf(xt,pt):xt.__proto__=pt)}var vt=[!1,"center","right","justify"],kt=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],jt=[!1,"serif","monospace"],Ot=["1","2","3",!1],Pt=["small",!1,"large","huge"],Lt=function(xt){ft(pt,xt);function pt(gt,Et){mt(this,pt);var bt=lt(this,(pt.__proto__||Object.getPrototypeOf(pt)).call(this,gt,Et)),At=function Tt(Nt){if(!document.body.contains(gt.root))return document.body.removeEventListener("click",Tt);bt.tooltip!=null&&!bt.tooltip.root.contains(Nt.target)&&document.activeElement!==bt.tooltip.textbox&&!bt.quill.hasFocus()&&bt.tooltip.hide(),bt.pickers!=null&&bt.pickers.forEach(function(Dt){Dt.container.contains(Nt.target)||Dt.close()})};return gt.emitter.listenDOM("click",document.body,At),bt}return c(pt,[{key:"addModule",value:function(Et){var bt=d(pt.prototype.__proto__||Object.getPrototypeOf(pt.prototype),"addModule",this).call(this,Et);return Et==="toolbar"&&this.extendToolbar(bt),bt}},{key:"buildButtons",value:function(Et,bt){Et.forEach(function(At){var Tt=At.getAttribute("class")||"";Tt.split(/\s+/).forEach(function(Nt){if(Nt.startsWith("ql-")&&(Nt=Nt.slice(3),bt[Nt]!=null))if(Nt==="direction")At.innerHTML=bt[Nt][""]+bt[Nt].rtl;else if(typeof bt[Nt]=="string")At.innerHTML=bt[Nt];else{var Dt=At.value||"";Dt!=null&&bt[Nt][Dt]&&(At.innerHTML=bt[Nt][Dt])}})})}},{key:"buildPickers",value:function(Et,bt){var At=this;this.pickers=Et.map(function(Nt){if(Nt.classList.contains("ql-align"))return Nt.querySelector("option")==null&&_t(Nt,vt),new nt.default(Nt,bt.align);if(Nt.classList.contains("ql-background")||Nt.classList.contains("ql-color")){var Dt=Nt.classList.contains("ql-background")?"background":"color";return Nt.querySelector("option")==null&&_t(Nt,kt,Dt==="background"?"#ffffff":"#000000"),new tt.default(Nt,bt[Dt])}else return Nt.querySelector("option")==null&&(Nt.classList.contains("ql-font")?_t(Nt,jt):Nt.classList.contains("ql-header")?_t(Nt,Ot):Nt.classList.contains("ql-size")&&_t(Nt,Pt)),new dt.default(Nt)});var Tt=function(){At.pickers.forEach(function(Dt){Dt.update()})};this.quill.on(j.default.events.EDITOR_CHANGE,Tt)}}]),pt}(st.default);Lt.DEFAULTS=(0,h.default)(!0,{},st.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var pt=this,gt=this.container.querySelector("input.ql-image[type=file]");gt==null&&(gt=document.createElement("input"),gt.setAttribute("type","file"),gt.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),gt.classList.add("ql-image"),gt.addEventListener("change",function(){if(gt.files!=null&&gt.files[0]!=null){var Et=new FileReader;Et.onload=function(bt){var At=pt.quill.getSelection(!0);pt.quill.updateContents(new _.default().retain(At.index).delete(At.length).insert({image:bt.target.result}),j.default.sources.USER),pt.quill.setSelection(At.index+1,j.default.sources.SILENT),gt.value=""},Et.readAsDataURL(gt.files[0])}}),this.container.appendChild(gt)),gt.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var wt=function(xt){ft(pt,xt);function pt(gt,Et){mt(this,pt);var bt=lt(this,(pt.__proto__||Object.getPrototypeOf(pt)).call(this,gt,Et));return bt.textbox=bt.root.querySelector('input[type="text"]'),bt.listen(),bt}return c(pt,[{key:"listen",value:function(){var Et=this;this.textbox.addEventListener("keydown",function(bt){rt.default.match(bt,"enter")?(Et.save(),bt.preventDefault()):rt.default.match(bt,"escape")&&(Et.cancel(),bt.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var Et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",bt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),bt!=null?this.textbox.value=bt:Et!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+Et)||""),this.root.setAttribute("data-mode",Et)}},{key:"restoreFocus",value:function(){var Et=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=Et}},{key:"save",value:function(){var Et=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var bt=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",Et,j.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",Et,j.default.sources.USER)),this.quill.root.scrollTop=bt;break}case"video":Et=St(Et);case"formula":{if(!Et)break;var At=this.quill.getSelection(!0);if(At!=null){var Tt=At.index+At.length;this.quill.insertEmbed(Tt,this.root.getAttribute("data-mode"),Et,j.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(Tt+1," ",j.default.sources.USER),this.quill.setSelection(Tt+2,j.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),pt}(ct.default);function St(xt){var pt=xt.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||xt.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return pt?(pt[1]||"https")+"://www.youtube.com/embed/"+pt[2]+"?showinfo=0":(pt=xt.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(pt[1]||"https")+"://player.vimeo.com/video/"+pt[2]+"/":xt}function _t(xt,pt){var gt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;pt.forEach(function(Et){var bt=document.createElement("option");Et===gt?bt.setAttribute("selected","selected"):bt.setAttribute("value",Et),xt.appendChild(bt)})}a.BaseTooltip=wt,a.default=Lt},function(s,a,o){Object.defineProperty(a,"__esModule",{value:!0});var c=function(){function d(){this.head=this.tail=null,this.length=0}return d.prototype.append=function(){for(var g=[],h=0;h<arguments.length;h++)g[h]=arguments[h];this.insertBefore(g[0],null),g.length>1&&this.append.apply(this,g.slice(1))},d.prototype.contains=function(g){for(var h,b=this.iterator();h=b();)if(h===g)return!0;return!1},d.prototype.insertBefore=function(g,h){g&&(g.next=h,h!=null?(g.prev=h.prev,h.prev!=null&&(h.prev.next=g),h.prev=g,h===this.head&&(this.head=g)):this.tail!=null?(this.tail.next=g,g.prev=this.tail,this.tail=g):(g.prev=null,this.head=this.tail=g),this.length+=1)},d.prototype.offset=function(g){for(var h=0,b=this.head;b!=null;){if(b===g)return h;h+=b.length(),b=b.next}return-1},d.prototype.remove=function(g){this.contains(g)&&(g.prev!=null&&(g.prev.next=g.next),g.next!=null&&(g.next.prev=g.prev),g===this.head&&(this.head=g.next),g===this.tail&&(this.tail=g.prev),this.length-=1)},d.prototype.iterator=function(g){return g===void 0&&(g=this.head),function(){var h=g;return g!=null&&(g=g.next),h}},d.prototype.find=function(g,h){h===void 0&&(h=!1);for(var b,_=this.iterator();b=_();){var $=b.length();if(g<$||h&&g===$&&(b.next==null||b.next.length()!==0))return[b,g];g-=$}return[null,0]},d.prototype.forEach=function(g){for(var h,b=this.iterator();h=b();)g(h)},d.prototype.forEachAt=function(g,h,b){if(!(h<=0))for(var _=this.find(g),$=_[0],j=_[1],_e,rt=g-j,it=this.iterator($);(_e=it())&&rt<g+h;){var st=_e.length();g>rt?b(_e,g-rt,Math.min(h,rt+st-g)):b(_e,0,Math.min(st,g+h-rt)),rt+=st}},d.prototype.map=function(g){return this.reduce(function(h,b){return h.push(g(b)),h},[])},d.prototype.reduce=function(g,h){for(var b,_=this.iterator();b=_();)h=g(h,b);return h},d}();a.default=c},function(s,a,o){var c=this&&this.__extends||function(){var $=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(j,_e){j.__proto__=_e}||function(j,_e){for(var rt in _e)_e.hasOwnProperty(rt)&&(j[rt]=_e[rt])};return function(j,_e){$(j,_e);function rt(){this.constructor=j}j.prototype=_e===null?Object.create(_e):(rt.prototype=_e.prototype,new rt)}}();Object.defineProperty(a,"__esModule",{value:!0});var d=o(17),g=o(1),h={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},b=100,_=function($){c(j,$);function j(_e){var rt=$.call(this,_e)||this;return rt.scroll=rt,rt.observer=new MutationObserver(function(it){rt.update(it)}),rt.observer.observe(rt.domNode,h),rt.attach(),rt}return j.prototype.detach=function(){$.prototype.detach.call(this),this.observer.disconnect()},j.prototype.deleteAt=function(_e,rt){this.update(),_e===0&&rt===this.length()?this.children.forEach(function(it){it.remove()}):$.prototype.deleteAt.call(this,_e,rt)},j.prototype.formatAt=function(_e,rt,it,st){this.update(),$.prototype.formatAt.call(this,_e,rt,it,st)},j.prototype.insertAt=function(_e,rt,it){this.update(),$.prototype.insertAt.call(this,_e,rt,it)},j.prototype.optimize=function(_e,rt){var it=this;_e===void 0&&(_e=[]),rt===void 0&&(rt={}),$.prototype.optimize.call(this,rt);for(var st=[].slice.call(this.observer.takeRecords());st.length>0;)_e.push(st.pop());for(var et=function(at,dt){dt===void 0&&(dt=!0),!(at==null||at===it)&&at.domNode.parentNode!=null&&(at.domNode[g.DATA_KEY].mutations==null&&(at.domNode[g.DATA_KEY].mutations=[]),dt&&et(at.parent))},tt=function(at){at.domNode[g.DATA_KEY]==null||at.domNode[g.DATA_KEY].mutations==null||(at instanceof d.default&&at.children.forEach(tt),at.optimize(rt))},ot=_e,nt=0;ot.length>0;nt+=1){if(nt>=b)throw new Error("[Parchment] Maximum optimize iterations reached");for(ot.forEach(function(at){var dt=g.find(at.target,!0);dt!=null&&(dt.domNode===at.target&&(at.type==="childList"?(et(g.find(at.previousSibling,!1)),[].forEach.call(at.addedNodes,function(ut){var ct=g.find(ut,!1);et(ct,!1),ct instanceof d.default&&ct.children.forEach(function(ht){et(ht,!1)})})):at.type==="attributes"&&et(dt.prev)),et(dt))}),this.children.forEach(tt),ot=[].slice.call(this.observer.takeRecords()),st=ot.slice();st.length>0;)_e.push(st.pop())}},j.prototype.update=function(_e,rt){var it=this;rt===void 0&&(rt={}),_e=_e||this.observer.takeRecords(),_e.map(function(st){var et=g.find(st.target,!0);return et==null?null:et.domNode[g.DATA_KEY].mutations==null?(et.domNode[g.DATA_KEY].mutations=[st],et):(et.domNode[g.DATA_KEY].mutations.push(st),null)}).forEach(function(st){st==null||st===it||st.domNode[g.DATA_KEY]==null||st.update(st.domNode[g.DATA_KEY].mutations||[],rt)}),this.domNode[g.DATA_KEY].mutations!=null&&$.prototype.update.call(this,this.domNode[g.DATA_KEY].mutations,rt),this.optimize(_e,rt)},j.blotName="scroll",j.defaultChild="block",j.scope=g.Scope.BLOCK_BLOT,j.tagName="DIV",j}(d.default);a.default=_},function(s,a,o){var c=this&&this.__extends||function(){var _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function($,j){$.__proto__=j}||function($,j){for(var _e in j)j.hasOwnProperty(_e)&&($[_e]=j[_e])};return function($,j){_($,j);function _e(){this.constructor=$}$.prototype=j===null?Object.create(j):(_e.prototype=j.prototype,new _e)}}();Object.defineProperty(a,"__esModule",{value:!0});var d=o(18),g=o(1);function h(_,$){if(Object.keys(_).length!==Object.keys($).length)return!1;for(var j in _)if(_[j]!==$[j])return!1;return!0}var b=function(_){c($,_);function $(){return _!==null&&_.apply(this,arguments)||this}return $.formats=function(j){if(j.tagName!==$.tagName)return _.formats.call(this,j)},$.prototype.format=function(j,_e){var rt=this;j===this.statics.blotName&&!_e?(this.children.forEach(function(it){it instanceof d.default||(it=it.wrap($.blotName,!0)),rt.attributes.copy(it)}),this.unwrap()):_.prototype.format.call(this,j,_e)},$.prototype.formatAt=function(j,_e,rt,it){if(this.formats()[rt]!=null||g.query(rt,g.Scope.ATTRIBUTE)){var st=this.isolate(j,_e);st.format(rt,it)}else _.prototype.formatAt.call(this,j,_e,rt,it)},$.prototype.optimize=function(j){_.prototype.optimize.call(this,j);var _e=this.formats();if(Object.keys(_e).length===0)return this.unwrap();var rt=this.next;rt instanceof $&&rt.prev===this&&h(_e,rt.formats())&&(rt.moveChildren(this),rt.remove())},$.blotName="inline",$.scope=g.Scope.INLINE_BLOT,$.tagName="SPAN",$}(d.default);a.default=b},function(s,a,o){var c=this&&this.__extends||function(){var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,$){_.__proto__=$}||function(_,$){for(var j in $)$.hasOwnProperty(j)&&(_[j]=$[j])};return function(_,$){b(_,$);function j(){this.constructor=_}_.prototype=$===null?Object.create($):(j.prototype=$.prototype,new j)}}();Object.defineProperty(a,"__esModule",{value:!0});var d=o(18),g=o(1),h=function(b){c(_,b);function _(){return b!==null&&b.apply(this,arguments)||this}return _.formats=function($){var j=g.query(_.blotName).tagName;if($.tagName!==j)return b.formats.call(this,$)},_.prototype.format=function($,j){g.query($,g.Scope.BLOCK)!=null&&($===this.statics.blotName&&!j?this.replaceWith(_.blotName):b.prototype.format.call(this,$,j))},_.prototype.formatAt=function($,j,_e,rt){g.query(_e,g.Scope.BLOCK)!=null?this.format(_e,rt):b.prototype.formatAt.call(this,$,j,_e,rt)},_.prototype.insertAt=function($,j,_e){if(_e==null||g.query(j,g.Scope.INLINE)!=null)b.prototype.insertAt.call(this,$,j,_e);else{var rt=this.split($),it=g.create(j,_e);rt.parent.insertBefore(it,rt)}},_.prototype.update=function($,j){navigator.userAgent.match(/Trident/)?this.build():b.prototype.update.call(this,$,j)},_.blotName="block",_.scope=g.Scope.BLOCK_BLOT,_.tagName="P",_}(d.default);a.default=h},function(s,a,o){var c=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,_){b.__proto__=_}||function(b,_){for(var $ in _)_.hasOwnProperty($)&&(b[$]=_[$])};return function(b,_){h(b,_);function $(){this.constructor=b}b.prototype=_===null?Object.create(_):($.prototype=_.prototype,new $)}}();Object.defineProperty(a,"__esModule",{value:!0});var d=o(19),g=function(h){c(b,h);function b(){return h!==null&&h.apply(this,arguments)||this}return b.formats=function(_){},b.prototype.format=function(_,$){h.prototype.formatAt.call(this,0,this.length(),_,$)},b.prototype.formatAt=function(_,$,j,_e){_===0&&$===this.length()?this.format(j,_e):h.prototype.formatAt.call(this,_,$,j,_e)},b.prototype.formats=function(){return this.statics.formats(this.domNode)},b}(d.default);a.default=g},function(s,a,o){var c=this&&this.__extends||function(){var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,$){_.__proto__=$}||function(_,$){for(var j in $)$.hasOwnProperty(j)&&(_[j]=$[j])};return function(_,$){b(_,$);function j(){this.constructor=_}_.prototype=$===null?Object.create($):(j.prototype=$.prototype,new j)}}();Object.defineProperty(a,"__esModule",{value:!0});var d=o(19),g=o(1),h=function(b){c(_,b);function _($){var j=b.call(this,$)||this;return j.text=j.statics.value(j.domNode),j}return _.create=function($){return document.createTextNode($)},_.value=function($){var j=$.data;return j.normalize&&(j=j.normalize()),j},_.prototype.deleteAt=function($,j){this.domNode.data=this.text=this.text.slice(0,$)+this.text.slice($+j)},_.prototype.index=function($,j){return this.domNode===$?j:-1},_.prototype.insertAt=function($,j,_e){_e==null?(this.text=this.text.slice(0,$)+j+this.text.slice($),this.domNode.data=this.text):b.prototype.insertAt.call(this,$,j,_e)},_.prototype.length=function(){return this.text.length},_.prototype.optimize=function($){b.prototype.optimize.call(this,$),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof _&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},_.prototype.position=function($,j){return[this.domNode,$]},_.prototype.split=function($,j){if(j===void 0&&(j=!1),!j){if($===0)return this;if($===this.length())return this.next}var _e=g.create(this.domNode.splitText($));return this.parent.insertBefore(_e,this.next),this.text=this.statics.value(this.domNode),_e},_.prototype.update=function($,j){var _e=this;$.some(function(rt){return rt.type==="characterData"&&rt.target===_e.domNode})&&(this.text=this.statics.value(this.domNode))},_.prototype.value=function(){return this.text},_.blotName="text",_.scope=g.Scope.INLINE_BLOT,_}(d.default);a.default=h},function(s,a,o){var c=document.createElement("div");if(c.classList.toggle("test-class",!1),c.classList.contains("test-class")){var d=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(g,h){return arguments.length>1&&!this.contains(g)==!h?h:d.call(this,g)}}String.prototype.startsWith||(String.prototype.startsWith=function(g,h){return h=h||0,this.substr(h,g.length)===g}),String.prototype.endsWith||(String.prototype.endsWith=function(g,h){var b=this.toString();(typeof h!="number"||!isFinite(h)||Math.floor(h)!==h||h>b.length)&&(h=b.length),h-=g.length;var _=b.indexOf(g,h);return _!==-1&&_===h}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(h){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof h!="function")throw new TypeError("predicate must be a function");for(var b=Object(this),_=b.length>>>0,$=arguments[1],j,_e=0;_e<_;_e++)if(j=b[_e],h.call($,j,_e,b))return j}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(s,a){var o=-1,c=1,d=0;function g(nt,at,dt){if(nt==at)return nt?[[d,nt]]:[];(dt<0||nt.length<dt)&&(dt=null);var ut=$(nt,at),ct=nt.substring(0,ut);nt=nt.substring(ut),at=at.substring(ut),ut=j(nt,at);var ht=nt.substring(nt.length-ut);nt=nt.substring(0,nt.length-ut),at=at.substring(0,at.length-ut);var mt=h(nt,at);return ct&&mt.unshift([d,ct]),ht&&mt.push([d,ht]),rt(mt),dt!=null&&(mt=et(mt,dt)),mt=tt(mt),mt}function h(nt,at){var dt;if(!nt)return[[c,at]];if(!at)return[[o,nt]];var ut=nt.length>at.length?nt:at,ct=nt.length>at.length?at:nt,ht=ut.indexOf(ct);if(ht!=-1)return dt=[[c,ut.substring(0,ht)],[d,ct],[c,ut.substring(ht+ct.length)]],nt.length>at.length&&(dt[0][0]=dt[2][0]=o),dt;if(ct.length==1)return[[o,nt],[c,at]];var mt=_e(nt,at);if(mt){var lt=mt[0],ft=mt[1],vt=mt[2],kt=mt[3],jt=mt[4],Ot=g(lt,vt),Pt=g(ft,kt);return Ot.concat([[d,jt]],Pt)}return b(nt,at)}function b(nt,at){for(var dt=nt.length,ut=at.length,ct=Math.ceil((dt+ut)/2),ht=ct,mt=2*ct,lt=new Array(mt),ft=new Array(mt),vt=0;vt<mt;vt++)lt[vt]=-1,ft[vt]=-1;lt[ht+1]=0,ft[ht+1]=0;for(var kt=dt-ut,jt=kt%2!=0,Ot=0,Pt=0,Lt=0,wt=0,St=0;St<ct;St++){for(var _t=-St+Ot;_t<=St-Pt;_t+=2){var xt=ht+_t,pt;_t==-St||_t!=St&&lt[xt-1]<lt[xt+1]?pt=lt[xt+1]:pt=lt[xt-1]+1;for(var gt=pt-_t;pt<dt&&gt<ut&&nt.charAt(pt)==at.charAt(gt);)pt++,gt++;if(lt[xt]=pt,pt>dt)Pt+=2;else if(gt>ut)Ot+=2;else if(jt){var Et=ht+kt-_t;if(Et>=0&&Et<mt&&ft[Et]!=-1){var bt=dt-ft[Et];if(pt>=bt)return _(nt,at,pt,gt)}}}for(var At=-St+Lt;At<=St-wt;At+=2){var Et=ht+At,bt;At==-St||At!=St&&ft[Et-1]<ft[Et+1]?bt=ft[Et+1]:bt=ft[Et-1]+1;for(var Tt=bt-At;bt<dt&&Tt<ut&&nt.charAt(dt-bt-1)==at.charAt(ut-Tt-1);)bt++,Tt++;if(ft[Et]=bt,bt>dt)wt+=2;else if(Tt>ut)Lt+=2;else if(!jt){var xt=ht+kt-At;if(xt>=0&&xt<mt&&lt[xt]!=-1){var pt=lt[xt],gt=ht+pt-xt;if(bt=dt-bt,pt>=bt)return _(nt,at,pt,gt)}}}}return[[o,nt],[c,at]]}function _(nt,at,dt,ut){var ct=nt.substring(0,dt),ht=at.substring(0,ut),mt=nt.substring(dt),lt=at.substring(ut),ft=g(ct,ht),vt=g(mt,lt);return ft.concat(vt)}function $(nt,at){if(!nt||!at||nt.charAt(0)!=at.charAt(0))return 0;for(var dt=0,ut=Math.min(nt.length,at.length),ct=ut,ht=0;dt<ct;)nt.substring(ht,ct)==at.substring(ht,ct)?(dt=ct,ht=dt):ut=ct,ct=Math.floor((ut-dt)/2+dt);return ct}function j(nt,at){if(!nt||!at||nt.charAt(nt.length-1)!=at.charAt(at.length-1))return 0;for(var dt=0,ut=Math.min(nt.length,at.length),ct=ut,ht=0;dt<ct;)nt.substring(nt.length-ct,nt.length-ht)==at.substring(at.length-ct,at.length-ht)?(dt=ct,ht=dt):ut=ct,ct=Math.floor((ut-dt)/2+dt);return ct}function _e(nt,at){var dt=nt.length>at.length?nt:at,ut=nt.length>at.length?at:nt;if(dt.length<4||ut.length*2<dt.length)return null;function ct(Pt,Lt,wt){for(var St=Pt.substring(wt,wt+Math.floor(Pt.length/4)),_t=-1,xt="",pt,gt,Et,bt;(_t=Lt.indexOf(St,_t+1))!=-1;){var At=$(Pt.substring(wt),Lt.substring(_t)),Tt=j(Pt.substring(0,wt),Lt.substring(0,_t));xt.length<Tt+At&&(xt=Lt.substring(_t-Tt,_t)+Lt.substring(_t,_t+At),pt=Pt.substring(0,wt-Tt),gt=Pt.substring(wt+At),Et=Lt.substring(0,_t-Tt),bt=Lt.substring(_t+At))}return xt.length*2>=Pt.length?[pt,gt,Et,bt,xt]:null}var ht=ct(dt,ut,Math.ceil(dt.length/4)),mt=ct(dt,ut,Math.ceil(dt.length/2)),lt;if(!ht&&!mt)return null;mt?ht?lt=ht[4].length>mt[4].length?ht:mt:lt=mt:lt=ht;var ft,vt,kt,jt;nt.length>at.length?(ft=lt[0],vt=lt[1],kt=lt[2],jt=lt[3]):(kt=lt[0],jt=lt[1],ft=lt[2],vt=lt[3]);var Ot=lt[4];return[ft,vt,kt,jt,Ot]}function rt(nt){nt.push([d,""]);for(var at=0,dt=0,ut=0,ct="",ht="",mt;at<nt.length;)switch(nt[at][0]){case c:ut++,ht+=nt[at][1],at++;break;case o:dt++,ct+=nt[at][1],at++;break;case d:dt+ut>1?(dt!==0&&ut!==0&&(mt=$(ht,ct),mt!==0&&(at-dt-ut>0&&nt[at-dt-ut-1][0]==d?nt[at-dt-ut-1][1]+=ht.substring(0,mt):(nt.splice(0,0,[d,ht.substring(0,mt)]),at++),ht=ht.substring(mt),ct=ct.substring(mt)),mt=j(ht,ct),mt!==0&&(nt[at][1]=ht.substring(ht.length-mt)+nt[at][1],ht=ht.substring(0,ht.length-mt),ct=ct.substring(0,ct.length-mt))),dt===0?nt.splice(at-ut,dt+ut,[c,ht]):ut===0?nt.splice(at-dt,dt+ut,[o,ct]):nt.splice(at-dt-ut,dt+ut,[o,ct],[c,ht]),at=at-dt-ut+(dt?1:0)+(ut?1:0)+1):at!==0&&nt[at-1][0]==d?(nt[at-1][1]+=nt[at][1],nt.splice(at,1)):at++,ut=0,dt=0,ct="",ht="";break}nt[nt.length-1][1]===""&&nt.pop();var lt=!1;for(at=1;at<nt.length-1;)nt[at-1][0]==d&&nt[at+1][0]==d&&(nt[at][1].substring(nt[at][1].length-nt[at-1][1].length)==nt[at-1][1]?(nt[at][1]=nt[at-1][1]+nt[at][1].substring(0,nt[at][1].length-nt[at-1][1].length),nt[at+1][1]=nt[at-1][1]+nt[at+1][1],nt.splice(at-1,1),lt=!0):nt[at][1].substring(0,nt[at+1][1].length)==nt[at+1][1]&&(nt[at-1][1]+=nt[at+1][1],nt[at][1]=nt[at][1].substring(nt[at+1][1].length)+nt[at+1][1],nt.splice(at+1,1),lt=!0)),at++;lt&&rt(nt)}var it=g;it.INSERT=c,it.DELETE=o,it.EQUAL=d,s.exports=it;function st(nt,at){if(at===0)return[d,nt];for(var dt=0,ut=0;ut<nt.length;ut++){var ct=nt[ut];if(ct[0]===o||ct[0]===d){var ht=dt+ct[1].length;if(at===ht)return[ut+1,nt];if(at<ht){nt=nt.slice();var mt=at-dt,lt=[ct[0],ct[1].slice(0,mt)],ft=[ct[0],ct[1].slice(mt)];return nt.splice(ut,1,lt,ft),[ut+1,nt]}else dt=ht}}throw new Error("cursor_pos is out of bounds!")}function et(nt,at){var dt=st(nt,at),ut=dt[1],ct=dt[0],ht=ut[ct],mt=ut[ct+1];if(ht==null)return nt;if(ht[0]!==d)return nt;if(mt!=null&&ht[1]+mt[1]===mt[1]+ht[1])return ut.splice(ct,2,mt,ht),ot(ut,ct,2);if(mt!=null&&mt[1].indexOf(ht[1])===0){ut.splice(ct,2,[mt[0],ht[1]],[0,ht[1]]);var lt=mt[1].slice(ht[1].length);return lt.length>0&&ut.splice(ct+2,0,[mt[0],lt]),ot(ut,ct,3)}else return nt}function tt(nt){for(var at=!1,dt=function(mt){return mt.charCodeAt(0)>=56320&&mt.charCodeAt(0)<=57343},ut=function(mt){return mt.charCodeAt(mt.length-1)>=55296&&mt.charCodeAt(mt.length-1)<=56319},ct=2;ct<nt.length;ct+=1)nt[ct-2][0]===d&&ut(nt[ct-2][1])&&nt[ct-1][0]===o&&dt(nt[ct-1][1])&&nt[ct][0]===c&&dt(nt[ct][1])&&(at=!0,nt[ct-1][1]=nt[ct-2][1].slice(-1)+nt[ct-1][1],nt[ct][1]=nt[ct-2][1].slice(-1)+nt[ct][1],nt[ct-2][1]=nt[ct-2][1].slice(0,-1));if(!at)return nt;for(var ht=[],ct=0;ct<nt.length;ct+=1)nt[ct][1].length>0&&ht.push(nt[ct]);return ht}function ot(nt,at,dt){for(var ut=at+dt-1;ut>=0&&ut>=at-1;ut--)if(ut+1<nt.length){var ct=nt[ut],ht=nt[ut+1];ct[0]===ht[1]&&nt.splice(ut,2,[ct[0],ct[1]+ht[1]])}return nt}},function(s,a){a=s.exports=typeof Object.keys=="function"?Object.keys:o,a.shim=o;function o(c){var d=[];for(var g in c)d.push(g);return d}},function(s,a){var o=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";a=s.exports=o?c:d,a.supported=c;function c(g){return Object.prototype.toString.call(g)=="[object Arguments]"}a.unsupported=d;function d(g){return g&&typeof g=="object"&&typeof g.length=="number"&&Object.prototype.hasOwnProperty.call(g,"callee")&&!Object.prototype.propertyIsEnumerable.call(g,"callee")||!1}},function(s,a){var o=Object.prototype.hasOwnProperty,c="~";function d(){}Object.create&&(d.prototype=Object.create(null),new d().__proto__||(c=!1));function g(b,_,$){this.fn=b,this.context=_,this.once=$||!1}function h(){this._events=new d,this._eventsCount=0}h.prototype.eventNames=function(){var _=[],$,j;if(this._eventsCount===0)return _;for(j in $=this._events)o.call($,j)&&_.push(c?j.slice(1):j);return Object.getOwnPropertySymbols?_.concat(Object.getOwnPropertySymbols($)):_},h.prototype.listeners=function(_,$){var j=c?c+_:_,_e=this._events[j];if($)return!!_e;if(!_e)return[];if(_e.fn)return[_e.fn];for(var rt=0,it=_e.length,st=new Array(it);rt<it;rt++)st[rt]=_e[rt].fn;return st},h.prototype.emit=function(_,$,j,_e,rt,it){var st=c?c+_:_;if(!this._events[st])return!1;var et=this._events[st],tt=arguments.length,ot,nt;if(et.fn){switch(et.once&&this.removeListener(_,et.fn,void 0,!0),tt){case 1:return et.fn.call(et.context),!0;case 2:return et.fn.call(et.context,$),!0;case 3:return et.fn.call(et.context,$,j),!0;case 4:return et.fn.call(et.context,$,j,_e),!0;case 5:return et.fn.call(et.context,$,j,_e,rt),!0;case 6:return et.fn.call(et.context,$,j,_e,rt,it),!0}for(nt=1,ot=new Array(tt-1);nt<tt;nt++)ot[nt-1]=arguments[nt];et.fn.apply(et.context,ot)}else{var at=et.length,dt;for(nt=0;nt<at;nt++)switch(et[nt].once&&this.removeListener(_,et[nt].fn,void 0,!0),tt){case 1:et[nt].fn.call(et[nt].context);break;case 2:et[nt].fn.call(et[nt].context,$);break;case 3:et[nt].fn.call(et[nt].context,$,j);break;case 4:et[nt].fn.call(et[nt].context,$,j,_e);break;default:if(!ot)for(dt=1,ot=new Array(tt-1);dt<tt;dt++)ot[dt-1]=arguments[dt];et[nt].fn.apply(et[nt].context,ot)}}return!0},h.prototype.on=function(_,$,j){var _e=new g($,j||this),rt=c?c+_:_;return this._events[rt]?this._events[rt].fn?this._events[rt]=[this._events[rt],_e]:this._events[rt].push(_e):(this._events[rt]=_e,this._eventsCount++),this},h.prototype.once=function(_,$,j){var _e=new g($,j||this,!0),rt=c?c+_:_;return this._events[rt]?this._events[rt].fn?this._events[rt]=[this._events[rt],_e]:this._events[rt].push(_e):(this._events[rt]=_e,this._eventsCount++),this},h.prototype.removeListener=function(_,$,j,_e){var rt=c?c+_:_;if(!this._events[rt])return this;if(!$)return--this._eventsCount===0?this._events=new d:delete this._events[rt],this;var it=this._events[rt];if(it.fn)it.fn===$&&(!_e||it.once)&&(!j||it.context===j)&&(--this._eventsCount===0?this._events=new d:delete this._events[rt]);else{for(var st=0,et=[],tt=it.length;st<tt;st++)(it[st].fn!==$||_e&&!it[st].once||j&&it[st].context!==j)&&et.push(it[st]);et.length?this._events[rt]=et.length===1?et[0]:et:--this._eventsCount===0?this._events=new d:delete this._events[rt]}return this},h.prototype.removeAllListeners=function(_){var $;return _?($=c?c+_:_,this._events[$]&&(--this._eventsCount===0?this._events=new d:delete this._events[$])):(this._events=new d,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prototype.setMaxListeners=function(){return this},h.prefixed=c,h.EventEmitter=h,typeof s<"u"&&(s.exports=h)},function(s,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.matchText=a.matchSpacing=a.matchNewline=a.matchBlot=a.matchAttributor=a.default=void 0;var c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Rt){return typeof Rt}:function(Rt){return Rt&&typeof Symbol=="function"&&Rt.constructor===Symbol&&Rt!==Symbol.prototype?"symbol":typeof Rt},d=function(){function Rt(Ct,Ft){var Bt=[],Ut=!0,rn=!1,tn=void 0;try{for(var qt=Ct[Symbol.iterator](),hn;!(Ut=(hn=qt.next()).done)&&(Bt.push(hn.value),!(Ft&&Bt.length===Ft));Ut=!0);}catch(dn){rn=!0,tn=dn}finally{try{!Ut&&qt.return&&qt.return()}finally{if(rn)throw tn}}return Bt}return function(Ct,Ft){if(Array.isArray(Ct))return Ct;if(Symbol.iterator in Object(Ct))return Rt(Ct,Ft);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(){function Rt(Ct,Ft){for(var Bt=0;Bt<Ft.length;Bt++){var Ut=Ft[Bt];Ut.enumerable=Ut.enumerable||!1,Ut.configurable=!0,"value"in Ut&&(Ut.writable=!0),Object.defineProperty(Ct,Ut.key,Ut)}}return function(Ct,Ft,Bt){return Ft&&Rt(Ct.prototype,Ft),Bt&&Rt(Ct,Bt),Ct}}(),h=o(3),b=ft(h),_=o(2),$=ft(_),j=o(0),_e=ft(j),rt=o(5),it=ft(rt),st=o(10),et=ft(st),tt=o(9),ot=ft(tt),nt=o(36),at=o(37),dt=o(13),ut=ft(dt),ct=o(26),ht=o(38),mt=o(39),lt=o(40);function ft(Rt){return Rt&&Rt.__esModule?Rt:{default:Rt}}function vt(Rt,Ct,Ft){return Ct in Rt?Object.defineProperty(Rt,Ct,{value:Ft,enumerable:!0,configurable:!0,writable:!0}):Rt[Ct]=Ft,Rt}function kt(Rt,Ct){if(!(Rt instanceof Ct))throw new TypeError("Cannot call a class as a function")}function jt(Rt,Ct){if(!Rt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ct&&(typeof Ct=="object"||typeof Ct=="function")?Ct:Rt}function Ot(Rt,Ct){if(typeof Ct!="function"&&Ct!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Ct);Rt.prototype=Object.create(Ct&&Ct.prototype,{constructor:{value:Rt,enumerable:!1,writable:!0,configurable:!0}}),Ct&&(Object.setPrototypeOf?Object.setPrototypeOf(Rt,Ct):Rt.__proto__=Ct)}var Pt=(0,et.default)("quill:clipboard"),Lt="__ql-matcher",wt=[[Node.TEXT_NODE,Ht],[Node.TEXT_NODE,Jt],["br",zt],[Node.ELEMENT_NODE,Jt],[Node.ELEMENT_NODE,Dt],[Node.ELEMENT_NODE,nn],[Node.ELEMENT_NODE,Nt],[Node.ELEMENT_NODE,Wt],["li",Xt],["b",Tt.bind(Tt,"bold")],["i",Tt.bind(Tt,"italic")],["style",Yt]],St=[nt.AlignAttribute,ht.DirectionAttribute].reduce(function(Rt,Ct){return Rt[Ct.keyName]=Ct,Rt},{}),_t=[nt.AlignStyle,at.BackgroundStyle,ct.ColorStyle,ht.DirectionStyle,mt.FontStyle,lt.SizeStyle].reduce(function(Rt,Ct){return Rt[Ct.keyName]=Ct,Rt},{}),xt=function(Rt){Ot(Ct,Rt);function Ct(Ft,Bt){kt(this,Ct);var Ut=jt(this,(Ct.__proto__||Object.getPrototypeOf(Ct)).call(this,Ft,Bt));return Ut.quill.root.addEventListener("paste",Ut.onPaste.bind(Ut)),Ut.container=Ut.quill.addContainer("ql-clipboard"),Ut.container.setAttribute("contenteditable",!0),Ut.container.setAttribute("tabindex",-1),Ut.matchers=[],wt.concat(Ut.options.matchers).forEach(function(rn){var tn=d(rn,2),qt=tn[0],hn=tn[1];!Bt.matchVisual&&hn===nn||Ut.addMatcher(qt,hn)}),Ut}return g(Ct,[{key:"addMatcher",value:function(Bt,Ut){this.matchers.push([Bt,Ut])}},{key:"convert",value:function(Bt){if(typeof Bt=="string")return this.container.innerHTML=Bt.replace(/\>\r?\n +\</g,"><"),this.convert();var Ut=this.quill.getFormat(this.quill.selection.savedRange.index);if(Ut[ut.default.blotName]){var rn=this.container.innerText;return this.container.innerHTML="",new $.default().insert(rn,vt({},ut.default.blotName,Ut[ut.default.blotName]))}var tn=this.prepareMatching(),qt=d(tn,2),hn=qt[0],dn=qt[1],yn=At(this.container,hn,dn);return Et(yn,`
`)&&yn.ops[yn.ops.length-1].attributes==null&&(yn=yn.compose(new $.default().retain(yn.length()-1).delete(1))),Pt.log("convert",this.container.innerHTML,yn),this.container.innerHTML="",yn}},{key:"dangerouslyPasteHTML",value:function(Bt,Ut){var rn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:it.default.sources.API;if(typeof Bt=="string")this.quill.setContents(this.convert(Bt),Ut),this.quill.setSelection(0,it.default.sources.SILENT);else{var tn=this.convert(Ut);this.quill.updateContents(new $.default().retain(Bt).concat(tn),rn),this.quill.setSelection(Bt+tn.length(),it.default.sources.SILENT)}}},{key:"onPaste",value:function(Bt){var Ut=this;if(!(Bt.defaultPrevented||!this.quill.isEnabled())){var rn=this.quill.getSelection(),tn=new $.default().retain(rn.index),qt=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(it.default.sources.SILENT),setTimeout(function(){tn=tn.concat(Ut.convert()).delete(rn.length),Ut.quill.updateContents(tn,it.default.sources.USER),Ut.quill.setSelection(tn.length()-rn.length,it.default.sources.SILENT),Ut.quill.scrollingContainer.scrollTop=qt,Ut.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var Bt=this,Ut=[],rn=[];return this.matchers.forEach(function(tn){var qt=d(tn,2),hn=qt[0],dn=qt[1];switch(hn){case Node.TEXT_NODE:rn.push(dn);break;case Node.ELEMENT_NODE:Ut.push(dn);break;default:[].forEach.call(Bt.container.querySelectorAll(hn),function(yn){yn[Lt]=yn[Lt]||[],yn[Lt].push(dn)});break}}),[Ut,rn]}}]),Ct}(ot.default);xt.DEFAULTS={matchers:[],matchVisual:!0};function pt(Rt,Ct,Ft){return(typeof Ct>"u"?"undefined":c(Ct))==="object"?Object.keys(Ct).reduce(function(Bt,Ut){return pt(Bt,Ut,Ct[Ut])},Rt):Rt.reduce(function(Bt,Ut){return Ut.attributes&&Ut.attributes[Ct]?Bt.push(Ut):Bt.insert(Ut.insert,(0,b.default)({},vt({},Ct,Ft),Ut.attributes))},new $.default)}function gt(Rt){if(Rt.nodeType!==Node.ELEMENT_NODE)return{};var Ct="__ql-computed-style";return Rt[Ct]||(Rt[Ct]=window.getComputedStyle(Rt))}function Et(Rt,Ct){for(var Ft="",Bt=Rt.ops.length-1;Bt>=0&&Ft.length<Ct.length;--Bt){var Ut=Rt.ops[Bt];if(typeof Ut.insert!="string")break;Ft=Ut.insert+Ft}return Ft.slice(-1*Ct.length)===Ct}function bt(Rt){if(Rt.childNodes.length===0)return!1;var Ct=gt(Rt);return["block","list-item"].indexOf(Ct.display)>-1}function At(Rt,Ct,Ft){return Rt.nodeType===Rt.TEXT_NODE?Ft.reduce(function(Bt,Ut){return Ut(Rt,Bt)},new $.default):Rt.nodeType===Rt.ELEMENT_NODE?[].reduce.call(Rt.childNodes||[],function(Bt,Ut){var rn=At(Ut,Ct,Ft);return Ut.nodeType===Rt.ELEMENT_NODE&&(rn=Ct.reduce(function(tn,qt){return qt(Ut,tn)},rn),rn=(Ut[Lt]||[]).reduce(function(tn,qt){return qt(Ut,tn)},rn)),Bt.concat(rn)},new $.default):new $.default}function Tt(Rt,Ct,Ft){return pt(Ft,Rt,!0)}function Nt(Rt,Ct){var Ft=_e.default.Attributor.Attribute.keys(Rt),Bt=_e.default.Attributor.Class.keys(Rt),Ut=_e.default.Attributor.Style.keys(Rt),rn={};return Ft.concat(Bt).concat(Ut).forEach(function(tn){var qt=_e.default.query(tn,_e.default.Scope.ATTRIBUTE);qt!=null&&(rn[qt.attrName]=qt.value(Rt),rn[qt.attrName])||(qt=St[tn],qt!=null&&(qt.attrName===tn||qt.keyName===tn)&&(rn[qt.attrName]=qt.value(Rt)||void 0),qt=_t[tn],qt!=null&&(qt.attrName===tn||qt.keyName===tn)&&(qt=_t[tn],rn[qt.attrName]=qt.value(Rt)||void 0))}),Object.keys(rn).length>0&&(Ct=pt(Ct,rn)),Ct}function Dt(Rt,Ct){var Ft=_e.default.query(Rt);if(Ft==null)return Ct;if(Ft.prototype instanceof _e.default.Embed){var Bt={},Ut=Ft.value(Rt);Ut!=null&&(Bt[Ft.blotName]=Ut,Ct=new $.default().insert(Bt,Ft.formats(Rt)))}else typeof Ft.formats=="function"&&(Ct=pt(Ct,Ft.blotName,Ft.formats(Rt)));return Ct}function zt(Rt,Ct){return Et(Ct,`
`)||Ct.insert(`
`),Ct}function Yt(){return new $.default}function Xt(Rt,Ct){var Ft=_e.default.query(Rt);if(Ft==null||Ft.blotName!=="list-item"||!Et(Ct,`
`))return Ct;for(var Bt=-1,Ut=Rt.parentNode;!Ut.classList.contains("ql-clipboard");)(_e.default.query(Ut)||{}).blotName==="list"&&(Bt+=1),Ut=Ut.parentNode;return Bt<=0?Ct:Ct.compose(new $.default().retain(Ct.length()-1).retain(1,{indent:Bt}))}function Jt(Rt,Ct){return Et(Ct,`
`)||(bt(Rt)||Ct.length()>0&&Rt.nextSibling&&bt(Rt.nextSibling))&&Ct.insert(`
`),Ct}function nn(Rt,Ct){if(bt(Rt)&&Rt.nextElementSibling!=null&&!Et(Ct,`

`)){var Ft=Rt.offsetHeight+parseFloat(gt(Rt).marginTop)+parseFloat(gt(Rt).marginBottom);Rt.nextElementSibling.offsetTop>Rt.offsetTop+Ft*1.5&&Ct.insert(`
`)}return Ct}function Wt(Rt,Ct){var Ft={},Bt=Rt.style||{};return Bt.fontStyle&&gt(Rt).fontStyle==="italic"&&(Ft.italic=!0),Bt.fontWeight&&(gt(Rt).fontWeight.startsWith("bold")||parseInt(gt(Rt).fontWeight)>=700)&&(Ft.bold=!0),Object.keys(Ft).length>0&&(Ct=pt(Ct,Ft)),parseFloat(Bt.textIndent||0)>0&&(Ct=new $.default().insert("	").concat(Ct)),Ct}function Ht(Rt,Ct){var Ft=Rt.data;if(Rt.parentNode.tagName==="O:P")return Ct.insert(Ft.trim());if(Ft.trim().length===0&&Rt.parentNode.classList.contains("ql-clipboard"))return Ct;if(!gt(Rt.parentNode).whiteSpace.startsWith("pre")){var Bt=function(rn,tn){return tn=tn.replace(/[^\u00a0]/g,""),tn.length<1&&rn?" ":tn};Ft=Ft.replace(/\r\n/g," ").replace(/\n/g," "),Ft=Ft.replace(/\s\s+/g,Bt.bind(Bt,!0)),(Rt.previousSibling==null&&bt(Rt.parentNode)||Rt.previousSibling!=null&&bt(Rt.previousSibling))&&(Ft=Ft.replace(/^\s+/,Bt.bind(Bt,!1))),(Rt.nextSibling==null&&bt(Rt.parentNode)||Rt.nextSibling!=null&&bt(Rt.nextSibling))&&(Ft=Ft.replace(/\s+$/,Bt.bind(Bt,!1)))}return Ct.insert(Ft)}a.default=xt,a.matchAttributor=Nt,a.matchBlot=Dt,a.matchNewline=Jt,a.matchSpacing=nn,a.matchText=Ht},function(s,a,o){Object.defineProperty(a,"__esModule",{value:!0});var c=function(){function rt(it,st){for(var et=0;et<st.length;et++){var tt=st[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(it,tt.key,tt)}}return function(it,st,et){return st&&rt(it.prototype,st),et&&rt(it,et),it}}(),d=function rt(it,st,et){it===null&&(it=Function.prototype);var tt=Object.getOwnPropertyDescriptor(it,st);if(tt===void 0){var ot=Object.getPrototypeOf(it);return ot===null?void 0:rt(ot,st,et)}else{if("value"in tt)return tt.value;var nt=tt.get;return nt===void 0?void 0:nt.call(et)}},g=o(6),h=b(g);function b(rt){return rt&&rt.__esModule?rt:{default:rt}}function _(rt,it){if(!(rt instanceof it))throw new TypeError("Cannot call a class as a function")}function $(rt,it){if(!rt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return it&&(typeof it=="object"||typeof it=="function")?it:rt}function j(rt,it){if(typeof it!="function"&&it!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof it);rt.prototype=Object.create(it&&it.prototype,{constructor:{value:rt,enumerable:!1,writable:!0,configurable:!0}}),it&&(Object.setPrototypeOf?Object.setPrototypeOf(rt,it):rt.__proto__=it)}var _e=function(rt){j(it,rt);function it(){return _(this,it),$(this,(it.__proto__||Object.getPrototypeOf(it)).apply(this,arguments))}return c(it,[{key:"optimize",value:function(et){d(it.prototype.__proto__||Object.getPrototypeOf(it.prototype),"optimize",this).call(this,et),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return d(it.__proto__||Object.getPrototypeOf(it),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),it}(h.default);_e.blotName="bold",_e.tagName=["STRONG","B"],a.default=_e},function(s,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.addControls=a.default=void 0;var c=function(){function lt(ft,vt){var kt=[],jt=!0,Ot=!1,Pt=void 0;try{for(var Lt=ft[Symbol.iterator](),wt;!(jt=(wt=Lt.next()).done)&&(kt.push(wt.value),!(vt&&kt.length===vt));jt=!0);}catch(St){Ot=!0,Pt=St}finally{try{!jt&&Lt.return&&Lt.return()}finally{if(Ot)throw Pt}}return kt}return function(ft,vt){if(Array.isArray(ft))return ft;if(Symbol.iterator in Object(ft))return lt(ft,vt);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(){function lt(ft,vt){for(var kt=0;kt<vt.length;kt++){var jt=vt[kt];jt.enumerable=jt.enumerable||!1,jt.configurable=!0,"value"in jt&&(jt.writable=!0),Object.defineProperty(ft,jt.key,jt)}}return function(ft,vt,kt){return vt&&lt(ft.prototype,vt),kt&&lt(ft,kt),ft}}(),g=o(2),h=et(g),b=o(0),_=et(b),$=o(5),j=et($),_e=o(10),rt=et(_e),it=o(9),st=et(it);function et(lt){return lt&&lt.__esModule?lt:{default:lt}}function tt(lt,ft,vt){return ft in lt?Object.defineProperty(lt,ft,{value:vt,enumerable:!0,configurable:!0,writable:!0}):lt[ft]=vt,lt}function ot(lt,ft){if(!(lt instanceof ft))throw new TypeError("Cannot call a class as a function")}function nt(lt,ft){if(!lt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ft&&(typeof ft=="object"||typeof ft=="function")?ft:lt}function at(lt,ft){if(typeof ft!="function"&&ft!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ft);lt.prototype=Object.create(ft&&ft.prototype,{constructor:{value:lt,enumerable:!1,writable:!0,configurable:!0}}),ft&&(Object.setPrototypeOf?Object.setPrototypeOf(lt,ft):lt.__proto__=ft)}var dt=(0,rt.default)("quill:toolbar"),ut=function(lt){at(ft,lt);function ft(vt,kt){ot(this,ft);var jt=nt(this,(ft.__proto__||Object.getPrototypeOf(ft)).call(this,vt,kt));if(Array.isArray(jt.options.container)){var Ot=document.createElement("div");ht(Ot,jt.options.container),vt.container.parentNode.insertBefore(Ot,vt.container),jt.container=Ot}else typeof jt.options.container=="string"?jt.container=document.querySelector(jt.options.container):jt.container=jt.options.container;if(!(jt.container instanceof HTMLElement)){var Pt;return Pt=dt.error("Container required for toolbar",jt.options),nt(jt,Pt)}return jt.container.classList.add("ql-toolbar"),jt.controls=[],jt.handlers={},Object.keys(jt.options.handlers).forEach(function(Lt){jt.addHandler(Lt,jt.options.handlers[Lt])}),[].forEach.call(jt.container.querySelectorAll("button, select"),function(Lt){jt.attach(Lt)}),jt.quill.on(j.default.events.EDITOR_CHANGE,function(Lt,wt){Lt===j.default.events.SELECTION_CHANGE&&jt.update(wt)}),jt.quill.on(j.default.events.SCROLL_OPTIMIZE,function(){var Lt=jt.quill.selection.getRange(),wt=c(Lt,1),St=wt[0];jt.update(St)}),jt}return d(ft,[{key:"addHandler",value:function(kt,jt){this.handlers[kt]=jt}},{key:"attach",value:function(kt){var jt=this,Ot=[].find.call(kt.classList,function(Lt){return Lt.indexOf("ql-")===0});if(Ot){if(Ot=Ot.slice(3),kt.tagName==="BUTTON"&&kt.setAttribute("type","button"),this.handlers[Ot]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[Ot]==null){dt.warn("ignoring attaching to disabled format",Ot,kt);return}if(_.default.query(Ot)==null){dt.warn("ignoring attaching to nonexistent format",Ot,kt);return}}var Pt=kt.tagName==="SELECT"?"change":"click";kt.addEventListener(Pt,function(Lt){var wt=void 0;if(kt.tagName==="SELECT"){if(kt.selectedIndex<0)return;var St=kt.options[kt.selectedIndex];St.hasAttribute("selected")?wt=!1:wt=St.value||!1}else kt.classList.contains("ql-active")?wt=!1:wt=kt.value||!kt.hasAttribute("value"),Lt.preventDefault();jt.quill.focus();var _t=jt.quill.selection.getRange(),xt=c(_t,1),pt=xt[0];if(jt.handlers[Ot]!=null)jt.handlers[Ot].call(jt,wt);else if(_.default.query(Ot).prototype instanceof _.default.Embed){if(wt=prompt("Enter "+Ot),!wt)return;jt.quill.updateContents(new h.default().retain(pt.index).delete(pt.length).insert(tt({},Ot,wt)),j.default.sources.USER)}else jt.quill.format(Ot,wt,j.default.sources.USER);jt.update(pt)}),this.controls.push([Ot,kt])}}},{key:"update",value:function(kt){var jt=kt==null?{}:this.quill.getFormat(kt);this.controls.forEach(function(Ot){var Pt=c(Ot,2),Lt=Pt[0],wt=Pt[1];if(wt.tagName==="SELECT"){var St=void 0;if(kt==null)St=null;else if(jt[Lt]==null)St=wt.querySelector("option[selected]");else if(!Array.isArray(jt[Lt])){var _t=jt[Lt];typeof _t=="string"&&(_t=_t.replace(/\"/g,'\\"')),St=wt.querySelector('option[value="'+_t+'"]')}St==null?(wt.value="",wt.selectedIndex=-1):St.selected=!0}else if(kt==null)wt.classList.remove("ql-active");else if(wt.hasAttribute("value")){var xt=jt[Lt]===wt.getAttribute("value")||jt[Lt]!=null&&jt[Lt].toString()===wt.getAttribute("value")||jt[Lt]==null&&!wt.getAttribute("value");wt.classList.toggle("ql-active",xt)}else wt.classList.toggle("ql-active",jt[Lt]!=null)})}}]),ft}(st.default);ut.DEFAULTS={};function ct(lt,ft,vt){var kt=document.createElement("button");kt.setAttribute("type","button"),kt.classList.add("ql-"+ft),vt!=null&&(kt.value=vt),lt.appendChild(kt)}function ht(lt,ft){Array.isArray(ft[0])||(ft=[ft]),ft.forEach(function(vt){var kt=document.createElement("span");kt.classList.add("ql-formats"),vt.forEach(function(jt){if(typeof jt=="string")ct(kt,jt);else{var Ot=Object.keys(jt)[0],Pt=jt[Ot];Array.isArray(Pt)?mt(kt,Ot,Pt):ct(kt,Ot,Pt)}}),lt.appendChild(kt)})}function mt(lt,ft,vt){var kt=document.createElement("select");kt.classList.add("ql-"+ft),vt.forEach(function(jt){var Ot=document.createElement("option");jt!==!1?Ot.setAttribute("value",jt):Ot.setAttribute("selected","selected"),kt.appendChild(Ot)}),lt.appendChild(kt)}ut.DEFAULTS={container:null,handlers:{clean:function(){var ft=this,vt=this.quill.getSelection();if(vt!=null)if(vt.length==0){var kt=this.quill.getFormat();Object.keys(kt).forEach(function(jt){_.default.query(jt,_.default.Scope.INLINE)!=null&&ft.quill.format(jt,!1)})}else this.quill.removeFormat(vt,j.default.sources.USER)},direction:function(ft){var vt=this.quill.getFormat().align;ft==="rtl"&&vt==null?this.quill.format("align","right",j.default.sources.USER):!ft&&vt==="right"&&this.quill.format("align",!1,j.default.sources.USER),this.quill.format("direction",ft,j.default.sources.USER)},indent:function(ft){var vt=this.quill.getSelection(),kt=this.quill.getFormat(vt),jt=parseInt(kt.indent||0);if(ft==="+1"||ft==="-1"){var Ot=ft==="+1"?1:-1;kt.direction==="rtl"&&(Ot*=-1),this.quill.format("indent",jt+Ot,j.default.sources.USER)}},link:function(ft){ft===!0&&(ft=prompt("Enter link URL:")),this.quill.format("link",ft,j.default.sources.USER)},list:function(ft){var vt=this.quill.getSelection(),kt=this.quill.getFormat(vt);ft==="check"?kt.list==="checked"||kt.list==="unchecked"?this.quill.format("list",!1,j.default.sources.USER):this.quill.format("list","unchecked",j.default.sources.USER):this.quill.format("list",ft,j.default.sources.USER)}}},a.default=ut,a.addControls=ht},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(s,a,o){Object.defineProperty(a,"__esModule",{value:!0});var c=function(){function rt(it,st){for(var et=0;et<st.length;et++){var tt=st[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(it,tt.key,tt)}}return function(it,st,et){return st&&rt(it.prototype,st),et&&rt(it,et),it}}(),d=function rt(it,st,et){it===null&&(it=Function.prototype);var tt=Object.getOwnPropertyDescriptor(it,st);if(tt===void 0){var ot=Object.getPrototypeOf(it);return ot===null?void 0:rt(ot,st,et)}else{if("value"in tt)return tt.value;var nt=tt.get;return nt===void 0?void 0:nt.call(et)}},g=o(28),h=b(g);function b(rt){return rt&&rt.__esModule?rt:{default:rt}}function _(rt,it){if(!(rt instanceof it))throw new TypeError("Cannot call a class as a function")}function $(rt,it){if(!rt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return it&&(typeof it=="object"||typeof it=="function")?it:rt}function j(rt,it){if(typeof it!="function"&&it!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof it);rt.prototype=Object.create(it&&it.prototype,{constructor:{value:rt,enumerable:!1,writable:!0,configurable:!0}}),it&&(Object.setPrototypeOf?Object.setPrototypeOf(rt,it):rt.__proto__=it)}var _e=function(rt){j(it,rt);function it(st,et){_(this,it);var tt=$(this,(it.__proto__||Object.getPrototypeOf(it)).call(this,st));return tt.label.innerHTML=et,tt.container.classList.add("ql-color-picker"),[].slice.call(tt.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(ot){ot.classList.add("ql-primary")}),tt}return c(it,[{key:"buildItem",value:function(et){var tt=d(it.prototype.__proto__||Object.getPrototypeOf(it.prototype),"buildItem",this).call(this,et);return tt.style.backgroundColor=et.getAttribute("value")||"",tt}},{key:"selectItem",value:function(et,tt){d(it.prototype.__proto__||Object.getPrototypeOf(it.prototype),"selectItem",this).call(this,et,tt);var ot=this.label.querySelector(".ql-color-label"),nt=et&&et.getAttribute("data-value")||"";ot&&(ot.tagName==="line"?ot.style.stroke=nt:ot.style.fill=nt)}}]),it}(h.default);a.default=_e},function(s,a,o){Object.defineProperty(a,"__esModule",{value:!0});var c=function(){function rt(it,st){for(var et=0;et<st.length;et++){var tt=st[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(it,tt.key,tt)}}return function(it,st,et){return st&&rt(it.prototype,st),et&&rt(it,et),it}}(),d=function rt(it,st,et){it===null&&(it=Function.prototype);var tt=Object.getOwnPropertyDescriptor(it,st);if(tt===void 0){var ot=Object.getPrototypeOf(it);return ot===null?void 0:rt(ot,st,et)}else{if("value"in tt)return tt.value;var nt=tt.get;return nt===void 0?void 0:nt.call(et)}},g=o(28),h=b(g);function b(rt){return rt&&rt.__esModule?rt:{default:rt}}function _(rt,it){if(!(rt instanceof it))throw new TypeError("Cannot call a class as a function")}function $(rt,it){if(!rt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return it&&(typeof it=="object"||typeof it=="function")?it:rt}function j(rt,it){if(typeof it!="function"&&it!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof it);rt.prototype=Object.create(it&&it.prototype,{constructor:{value:rt,enumerable:!1,writable:!0,configurable:!0}}),it&&(Object.setPrototypeOf?Object.setPrototypeOf(rt,it):rt.__proto__=it)}var _e=function(rt){j(it,rt);function it(st,et){_(this,it);var tt=$(this,(it.__proto__||Object.getPrototypeOf(it)).call(this,st));return tt.container.classList.add("ql-icon-picker"),[].forEach.call(tt.container.querySelectorAll(".ql-picker-item"),function(ot){ot.innerHTML=et[ot.getAttribute("data-value")||""]}),tt.defaultItem=tt.container.querySelector(".ql-selected"),tt.selectItem(tt.defaultItem),tt}return c(it,[{key:"selectItem",value:function(et,tt){d(it.prototype.__proto__||Object.getPrototypeOf(it.prototype),"selectItem",this).call(this,et,tt),et=et||this.defaultItem,this.label.innerHTML=et.innerHTML}}]),it}(h.default);a.default=_e},function(s,a,o){Object.defineProperty(a,"__esModule",{value:!0});var c=function(){function h(b,_){for(var $=0;$<_.length;$++){var j=_[$];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(b,j.key,j)}}return function(b,_,$){return _&&h(b.prototype,_),$&&h(b,$),b}}();function d(h,b){if(!(h instanceof b))throw new TypeError("Cannot call a class as a function")}var g=function(){function h(b,_){var $=this;d(this,h),this.quill=b,this.boundsContainer=_||document.body,this.root=b.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){$.root.style.marginTop=-1*$.quill.root.scrollTop+"px"}),this.hide()}return c(h,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(_){var $=_.left+_.width/2-this.root.offsetWidth/2,j=_.bottom+this.quill.root.scrollTop;this.root.style.left=$+"px",this.root.style.top=j+"px",this.root.classList.remove("ql-flip");var _e=this.boundsContainer.getBoundingClientRect(),rt=this.root.getBoundingClientRect(),it=0;if(rt.right>_e.right&&(it=_e.right-rt.right,this.root.style.left=$+it+"px"),rt.left<_e.left&&(it=_e.left-rt.left,this.root.style.left=$+it+"px"),rt.bottom>_e.bottom){var st=rt.bottom-rt.top,et=_.bottom-_.top+st;this.root.style.top=j-et+"px",this.root.classList.add("ql-flip")}return it}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),h}();a.default=g},function(s,a,o){Object.defineProperty(a,"__esModule",{value:!0});var c=function(){function mt(lt,ft){var vt=[],kt=!0,jt=!1,Ot=void 0;try{for(var Pt=lt[Symbol.iterator](),Lt;!(kt=(Lt=Pt.next()).done)&&(vt.push(Lt.value),!(ft&&vt.length===ft));kt=!0);}catch(wt){jt=!0,Ot=wt}finally{try{!kt&&Pt.return&&Pt.return()}finally{if(jt)throw Ot}}return vt}return function(lt,ft){if(Array.isArray(lt))return lt;if(Symbol.iterator in Object(lt))return mt(lt,ft);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function mt(lt,ft,vt){lt===null&&(lt=Function.prototype);var kt=Object.getOwnPropertyDescriptor(lt,ft);if(kt===void 0){var jt=Object.getPrototypeOf(lt);return jt===null?void 0:mt(jt,ft,vt)}else{if("value"in kt)return kt.value;var Ot=kt.get;return Ot===void 0?void 0:Ot.call(vt)}},g=function(){function mt(lt,ft){for(var vt=0;vt<ft.length;vt++){var kt=ft[vt];kt.enumerable=kt.enumerable||!1,kt.configurable=!0,"value"in kt&&(kt.writable=!0),Object.defineProperty(lt,kt.key,kt)}}return function(lt,ft,vt){return ft&&mt(lt.prototype,ft),vt&&mt(lt,vt),lt}}(),h=o(3),b=ot(h),_=o(8),$=ot(_),j=o(43),_e=ot(j),rt=o(27),it=ot(rt),st=o(15),et=o(41),tt=ot(et);function ot(mt){return mt&&mt.__esModule?mt:{default:mt}}function nt(mt,lt){if(!(mt instanceof lt))throw new TypeError("Cannot call a class as a function")}function at(mt,lt){if(!mt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return lt&&(typeof lt=="object"||typeof lt=="function")?lt:mt}function dt(mt,lt){if(typeof lt!="function"&&lt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof lt);mt.prototype=Object.create(lt&&lt.prototype,{constructor:{value:mt,enumerable:!1,writable:!0,configurable:!0}}),lt&&(Object.setPrototypeOf?Object.setPrototypeOf(mt,lt):mt.__proto__=lt)}var ut=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],ct=function(mt){dt(lt,mt);function lt(ft,vt){nt(this,lt),vt.modules.toolbar!=null&&vt.modules.toolbar.container==null&&(vt.modules.toolbar.container=ut);var kt=at(this,(lt.__proto__||Object.getPrototypeOf(lt)).call(this,ft,vt));return kt.quill.container.classList.add("ql-snow"),kt}return g(lt,[{key:"extendToolbar",value:function(vt){vt.container.classList.add("ql-snow"),this.buildButtons([].slice.call(vt.container.querySelectorAll("button")),tt.default),this.buildPickers([].slice.call(vt.container.querySelectorAll("select")),tt.default),this.tooltip=new ht(this.quill,this.options.bounds),vt.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(kt,jt){vt.handlers.link.call(vt,!jt.format.link)})}}]),lt}(_e.default);ct.DEFAULTS=(0,b.default)(!0,{},_e.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(lt){if(lt){var ft=this.quill.getSelection();if(ft==null||ft.length==0)return;var vt=this.quill.getText(ft);/^\S+@\S+\.\S+$/.test(vt)&&vt.indexOf("mailto:")!==0&&(vt="mailto:"+vt);var kt=this.quill.theme.tooltip;kt.edit("link",vt)}else this.quill.format("link",!1)}}}}});var ht=function(mt){dt(lt,mt);function lt(ft,vt){nt(this,lt);var kt=at(this,(lt.__proto__||Object.getPrototypeOf(lt)).call(this,ft,vt));return kt.preview=kt.root.querySelector("a.ql-preview"),kt}return g(lt,[{key:"listen",value:function(){var vt=this;d(lt.prototype.__proto__||Object.getPrototypeOf(lt.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(kt){vt.root.classList.contains("ql-editing")?vt.save():vt.edit("link",vt.preview.textContent),kt.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(kt){if(vt.linkRange!=null){var jt=vt.linkRange;vt.restoreFocus(),vt.quill.formatText(jt,"link",!1,$.default.sources.USER),delete vt.linkRange}kt.preventDefault(),vt.hide()}),this.quill.on($.default.events.SELECTION_CHANGE,function(kt,jt,Ot){if(kt!=null){if(kt.length===0&&Ot===$.default.sources.USER){var Pt=vt.quill.scroll.descendant(it.default,kt.index),Lt=c(Pt,2),wt=Lt[0],St=Lt[1];if(wt!=null){vt.linkRange=new st.Range(kt.index-St,wt.length());var _t=it.default.formats(wt.domNode);vt.preview.textContent=_t,vt.preview.setAttribute("href",_t),vt.show(),vt.position(vt.quill.getBounds(vt.linkRange));return}}else delete vt.linkRange;vt.hide()}})}},{key:"show",value:function(){d(lt.prototype.__proto__||Object.getPrototypeOf(lt.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),lt}(j.BaseTooltip);ht.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),a.default=ct},function(s,a,o){Object.defineProperty(a,"__esModule",{value:!0});var c=o(29),d=Ut(c),g=o(36),h=o(38),b=o(64),_=o(65),$=Ut(_),j=o(66),_e=Ut(j),rt=o(67),it=Ut(rt),st=o(37),et=o(26),tt=o(39),ot=o(40),nt=o(56),at=Ut(nt),dt=o(68),ut=Ut(dt),ct=o(27),ht=Ut(ct),mt=o(69),lt=Ut(mt),ft=o(70),vt=Ut(ft),kt=o(71),jt=Ut(kt),Ot=o(72),Pt=Ut(Ot),Lt=o(73),wt=Ut(Lt),St=o(13),_t=Ut(St),xt=o(74),pt=Ut(xt),gt=o(75),Et=Ut(gt),bt=o(57),At=Ut(bt),Tt=o(41),Nt=Ut(Tt),Dt=o(28),zt=Ut(Dt),Yt=o(59),Xt=Ut(Yt),Jt=o(60),nn=Ut(Jt),Wt=o(61),Ht=Ut(Wt),Rt=o(108),Ct=Ut(Rt),Ft=o(62),Bt=Ut(Ft);function Ut(rn){return rn&&rn.__esModule?rn:{default:rn}}d.default.register({"attributors/attribute/direction":h.DirectionAttribute,"attributors/class/align":g.AlignClass,"attributors/class/background":st.BackgroundClass,"attributors/class/color":et.ColorClass,"attributors/class/direction":h.DirectionClass,"attributors/class/font":tt.FontClass,"attributors/class/size":ot.SizeClass,"attributors/style/align":g.AlignStyle,"attributors/style/background":st.BackgroundStyle,"attributors/style/color":et.ColorStyle,"attributors/style/direction":h.DirectionStyle,"attributors/style/font":tt.FontStyle,"attributors/style/size":ot.SizeStyle},!0),d.default.register({"formats/align":g.AlignClass,"formats/direction":h.DirectionClass,"formats/indent":b.IndentClass,"formats/background":st.BackgroundStyle,"formats/color":et.ColorStyle,"formats/font":tt.FontClass,"formats/size":ot.SizeClass,"formats/blockquote":$.default,"formats/code-block":_t.default,"formats/header":_e.default,"formats/list":it.default,"formats/bold":at.default,"formats/code":St.Code,"formats/italic":ut.default,"formats/link":ht.default,"formats/script":lt.default,"formats/strike":vt.default,"formats/underline":jt.default,"formats/image":Pt.default,"formats/video":wt.default,"formats/list/item":rt.ListItem,"modules/formula":pt.default,"modules/syntax":Et.default,"modules/toolbar":At.default,"themes/bubble":Ct.default,"themes/snow":Bt.default,"ui/icons":Nt.default,"ui/picker":zt.default,"ui/icon-picker":nn.default,"ui/color-picker":Xt.default,"ui/tooltip":Ht.default},!0),a.default=d.default},function(s,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.IndentClass=void 0;var c=function(){function it(st,et){for(var tt=0;tt<et.length;tt++){var ot=et[tt];ot.enumerable=ot.enumerable||!1,ot.configurable=!0,"value"in ot&&(ot.writable=!0),Object.defineProperty(st,ot.key,ot)}}return function(st,et,tt){return et&&it(st.prototype,et),tt&&it(st,tt),st}}(),d=function it(st,et,tt){st===null&&(st=Function.prototype);var ot=Object.getOwnPropertyDescriptor(st,et);if(ot===void 0){var nt=Object.getPrototypeOf(st);return nt===null?void 0:it(nt,et,tt)}else{if("value"in ot)return ot.value;var at=ot.get;return at===void 0?void 0:at.call(tt)}},g=o(0),h=b(g);function b(it){return it&&it.__esModule?it:{default:it}}function _(it,st){if(!(it instanceof st))throw new TypeError("Cannot call a class as a function")}function $(it,st){if(!it)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return st&&(typeof st=="object"||typeof st=="function")?st:it}function j(it,st){if(typeof st!="function"&&st!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof st);it.prototype=Object.create(st&&st.prototype,{constructor:{value:it,enumerable:!1,writable:!0,configurable:!0}}),st&&(Object.setPrototypeOf?Object.setPrototypeOf(it,st):it.__proto__=st)}var _e=function(it){j(st,it);function st(){return _(this,st),$(this,(st.__proto__||Object.getPrototypeOf(st)).apply(this,arguments))}return c(st,[{key:"add",value:function(tt,ot){if(ot==="+1"||ot==="-1"){var nt=this.value(tt)||0;ot=ot==="+1"?nt+1:nt-1}return ot===0?(this.remove(tt),!0):d(st.prototype.__proto__||Object.getPrototypeOf(st.prototype),"add",this).call(this,tt,ot)}},{key:"canAdd",value:function(tt,ot){return d(st.prototype.__proto__||Object.getPrototypeOf(st.prototype),"canAdd",this).call(this,tt,ot)||d(st.prototype.__proto__||Object.getPrototypeOf(st.prototype),"canAdd",this).call(this,tt,parseInt(ot))}},{key:"value",value:function(tt){return parseInt(d(st.prototype.__proto__||Object.getPrototypeOf(st.prototype),"value",this).call(this,tt))||void 0}}]),st}(h.default.Attributor.Class),rt=new _e("indent","ql-indent",{scope:h.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});a.IndentClass=rt},function(s,a,o){Object.defineProperty(a,"__esModule",{value:!0});var c=o(4),d=g(c);function g(j){return j&&j.__esModule?j:{default:j}}function h(j,_e){if(!(j instanceof _e))throw new TypeError("Cannot call a class as a function")}function b(j,_e){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e&&(typeof _e=="object"||typeof _e=="function")?_e:j}function _(j,_e){if(typeof _e!="function"&&_e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _e);j.prototype=Object.create(_e&&_e.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),_e&&(Object.setPrototypeOf?Object.setPrototypeOf(j,_e):j.__proto__=_e)}var $=function(j){_(_e,j);function _e(){return h(this,_e),b(this,(_e.__proto__||Object.getPrototypeOf(_e)).apply(this,arguments))}return _e}(d.default);$.blotName="blockquote",$.tagName="blockquote",a.default=$},function(s,a,o){Object.defineProperty(a,"__esModule",{value:!0});var c=function(){function _e(rt,it){for(var st=0;st<it.length;st++){var et=it[st];et.enumerable=et.enumerable||!1,et.configurable=!0,"value"in et&&(et.writable=!0),Object.defineProperty(rt,et.key,et)}}return function(rt,it,st){return it&&_e(rt.prototype,it),st&&_e(rt,st),rt}}(),d=o(4),g=h(d);function h(_e){return _e&&_e.__esModule?_e:{default:_e}}function b(_e,rt){if(!(_e instanceof rt))throw new TypeError("Cannot call a class as a function")}function _(_e,rt){if(!_e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return rt&&(typeof rt=="object"||typeof rt=="function")?rt:_e}function $(_e,rt){if(typeof rt!="function"&&rt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof rt);_e.prototype=Object.create(rt&&rt.prototype,{constructor:{value:_e,enumerable:!1,writable:!0,configurable:!0}}),rt&&(Object.setPrototypeOf?Object.setPrototypeOf(_e,rt):_e.__proto__=rt)}var j=function(_e){$(rt,_e);function rt(){return b(this,rt),_(this,(rt.__proto__||Object.getPrototypeOf(rt)).apply(this,arguments))}return c(rt,null,[{key:"formats",value:function(st){return this.tagName.indexOf(st.tagName)+1}}]),rt}(g.default);j.blotName="header",j.tagName=["H1","H2","H3","H4","H5","H6"],a.default=j},function(s,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.ListItem=void 0;var c=function(){function nt(at,dt){for(var ut=0;ut<dt.length;ut++){var ct=dt[ut];ct.enumerable=ct.enumerable||!1,ct.configurable=!0,"value"in ct&&(ct.writable=!0),Object.defineProperty(at,ct.key,ct)}}return function(at,dt,ut){return dt&&nt(at.prototype,dt),ut&&nt(at,ut),at}}(),d=function nt(at,dt,ut){at===null&&(at=Function.prototype);var ct=Object.getOwnPropertyDescriptor(at,dt);if(ct===void 0){var ht=Object.getPrototypeOf(at);return ht===null?void 0:nt(ht,dt,ut)}else{if("value"in ct)return ct.value;var mt=ct.get;return mt===void 0?void 0:mt.call(ut)}},g=o(0),h=_e(g),b=o(4),_=_e(b),$=o(25),j=_e($);function _e(nt){return nt&&nt.__esModule?nt:{default:nt}}function rt(nt,at,dt){return at in nt?Object.defineProperty(nt,at,{value:dt,enumerable:!0,configurable:!0,writable:!0}):nt[at]=dt,nt}function it(nt,at){if(!(nt instanceof at))throw new TypeError("Cannot call a class as a function")}function st(nt,at){if(!nt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return at&&(typeof at=="object"||typeof at=="function")?at:nt}function et(nt,at){if(typeof at!="function"&&at!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof at);nt.prototype=Object.create(at&&at.prototype,{constructor:{value:nt,enumerable:!1,writable:!0,configurable:!0}}),at&&(Object.setPrototypeOf?Object.setPrototypeOf(nt,at):nt.__proto__=at)}var tt=function(nt){et(at,nt);function at(){return it(this,at),st(this,(at.__proto__||Object.getPrototypeOf(at)).apply(this,arguments))}return c(at,[{key:"format",value:function(ut,ct){ut===ot.blotName&&!ct?this.replaceWith(h.default.create(this.statics.scope)):d(at.prototype.__proto__||Object.getPrototypeOf(at.prototype),"format",this).call(this,ut,ct)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():d(at.prototype.__proto__||Object.getPrototypeOf(at.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(ut,ct){return this.parent.isolate(this.offset(this.parent),this.length()),ut===this.parent.statics.blotName?(this.parent.replaceWith(ut,ct),this):(this.parent.unwrap(),d(at.prototype.__proto__||Object.getPrototypeOf(at.prototype),"replaceWith",this).call(this,ut,ct))}}],[{key:"formats",value:function(ut){return ut.tagName===this.tagName?void 0:d(at.__proto__||Object.getPrototypeOf(at),"formats",this).call(this,ut)}}]),at}(_.default);tt.blotName="list-item",tt.tagName="LI";var ot=function(nt){et(at,nt),c(at,null,[{key:"create",value:function(ut){var ct=ut==="ordered"?"OL":"UL",ht=d(at.__proto__||Object.getPrototypeOf(at),"create",this).call(this,ct);return(ut==="checked"||ut==="unchecked")&&ht.setAttribute("data-checked",ut==="checked"),ht}},{key:"formats",value:function(ut){if(ut.tagName==="OL")return"ordered";if(ut.tagName==="UL")return ut.hasAttribute("data-checked")?ut.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function at(dt){it(this,at);var ut=st(this,(at.__proto__||Object.getPrototypeOf(at)).call(this,dt)),ct=function(mt){if(mt.target.parentNode===dt){var lt=ut.statics.formats(dt),ft=h.default.find(mt.target);lt==="checked"?ft.format("list","unchecked"):lt==="unchecked"&&ft.format("list","checked")}};return dt.addEventListener("touchstart",ct),dt.addEventListener("mousedown",ct),ut}return c(at,[{key:"format",value:function(ut,ct){this.children.length>0&&this.children.tail.format(ut,ct)}},{key:"formats",value:function(){return rt({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(ut,ct){if(ut instanceof tt)d(at.prototype.__proto__||Object.getPrototypeOf(at.prototype),"insertBefore",this).call(this,ut,ct);else{var ht=ct==null?this.length():ct.offset(this),mt=this.split(ht);mt.parent.insertBefore(ut,mt)}}},{key:"optimize",value:function(ut){d(at.prototype.__proto__||Object.getPrototypeOf(at.prototype),"optimize",this).call(this,ut);var ct=this.next;ct!=null&&ct.prev===this&&ct.statics.blotName===this.statics.blotName&&ct.domNode.tagName===this.domNode.tagName&&ct.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(ct.moveChildren(this),ct.remove())}},{key:"replace",value:function(ut){if(ut.statics.blotName!==this.statics.blotName){var ct=h.default.create(this.statics.defaultChild);ut.moveChildren(ct),this.appendChild(ct)}d(at.prototype.__proto__||Object.getPrototypeOf(at.prototype),"replace",this).call(this,ut)}}]),at}(j.default);ot.blotName="list",ot.scope=h.default.Scope.BLOCK_BLOT,ot.tagName=["OL","UL"],ot.defaultChild="list-item",ot.allowedChildren=[tt],a.ListItem=tt,a.default=ot},function(s,a,o){Object.defineProperty(a,"__esModule",{value:!0});var c=o(56),d=g(c);function g(j){return j&&j.__esModule?j:{default:j}}function h(j,_e){if(!(j instanceof _e))throw new TypeError("Cannot call a class as a function")}function b(j,_e){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e&&(typeof _e=="object"||typeof _e=="function")?_e:j}function _(j,_e){if(typeof _e!="function"&&_e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _e);j.prototype=Object.create(_e&&_e.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),_e&&(Object.setPrototypeOf?Object.setPrototypeOf(j,_e):j.__proto__=_e)}var $=function(j){_(_e,j);function _e(){return h(this,_e),b(this,(_e.__proto__||Object.getPrototypeOf(_e)).apply(this,arguments))}return _e}(d.default);$.blotName="italic",$.tagName=["EM","I"],a.default=$},function(s,a,o){Object.defineProperty(a,"__esModule",{value:!0});var c=function(){function rt(it,st){for(var et=0;et<st.length;et++){var tt=st[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(it,tt.key,tt)}}return function(it,st,et){return st&&rt(it.prototype,st),et&&rt(it,et),it}}(),d=function rt(it,st,et){it===null&&(it=Function.prototype);var tt=Object.getOwnPropertyDescriptor(it,st);if(tt===void 0){var ot=Object.getPrototypeOf(it);return ot===null?void 0:rt(ot,st,et)}else{if("value"in tt)return tt.value;var nt=tt.get;return nt===void 0?void 0:nt.call(et)}},g=o(6),h=b(g);function b(rt){return rt&&rt.__esModule?rt:{default:rt}}function _(rt,it){if(!(rt instanceof it))throw new TypeError("Cannot call a class as a function")}function $(rt,it){if(!rt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return it&&(typeof it=="object"||typeof it=="function")?it:rt}function j(rt,it){if(typeof it!="function"&&it!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof it);rt.prototype=Object.create(it&&it.prototype,{constructor:{value:rt,enumerable:!1,writable:!0,configurable:!0}}),it&&(Object.setPrototypeOf?Object.setPrototypeOf(rt,it):rt.__proto__=it)}var _e=function(rt){j(it,rt);function it(){return _(this,it),$(this,(it.__proto__||Object.getPrototypeOf(it)).apply(this,arguments))}return c(it,null,[{key:"create",value:function(et){return et==="super"?document.createElement("sup"):et==="sub"?document.createElement("sub"):d(it.__proto__||Object.getPrototypeOf(it),"create",this).call(this,et)}},{key:"formats",value:function(et){if(et.tagName==="SUB")return"sub";if(et.tagName==="SUP")return"super"}}]),it}(h.default);_e.blotName="script",_e.tagName=["SUB","SUP"],a.default=_e},function(s,a,o){Object.defineProperty(a,"__esModule",{value:!0});var c=o(6),d=g(c);function g(j){return j&&j.__esModule?j:{default:j}}function h(j,_e){if(!(j instanceof _e))throw new TypeError("Cannot call a class as a function")}function b(j,_e){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e&&(typeof _e=="object"||typeof _e=="function")?_e:j}function _(j,_e){if(typeof _e!="function"&&_e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _e);j.prototype=Object.create(_e&&_e.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),_e&&(Object.setPrototypeOf?Object.setPrototypeOf(j,_e):j.__proto__=_e)}var $=function(j){_(_e,j);function _e(){return h(this,_e),b(this,(_e.__proto__||Object.getPrototypeOf(_e)).apply(this,arguments))}return _e}(d.default);$.blotName="strike",$.tagName="S",a.default=$},function(s,a,o){Object.defineProperty(a,"__esModule",{value:!0});var c=o(6),d=g(c);function g(j){return j&&j.__esModule?j:{default:j}}function h(j,_e){if(!(j instanceof _e))throw new TypeError("Cannot call a class as a function")}function b(j,_e){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e&&(typeof _e=="object"||typeof _e=="function")?_e:j}function _(j,_e){if(typeof _e!="function"&&_e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _e);j.prototype=Object.create(_e&&_e.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),_e&&(Object.setPrototypeOf?Object.setPrototypeOf(j,_e):j.__proto__=_e)}var $=function(j){_(_e,j);function _e(){return h(this,_e),b(this,(_e.__proto__||Object.getPrototypeOf(_e)).apply(this,arguments))}return _e}(d.default);$.blotName="underline",$.tagName="U",a.default=$},function(s,a,o){Object.defineProperty(a,"__esModule",{value:!0});var c=function(){function st(et,tt){for(var ot=0;ot<tt.length;ot++){var nt=tt[ot];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(et,nt.key,nt)}}return function(et,tt,ot){return tt&&st(et.prototype,tt),ot&&st(et,ot),et}}(),d=function st(et,tt,ot){et===null&&(et=Function.prototype);var nt=Object.getOwnPropertyDescriptor(et,tt);if(nt===void 0){var at=Object.getPrototypeOf(et);return at===null?void 0:st(at,tt,ot)}else{if("value"in nt)return nt.value;var dt=nt.get;return dt===void 0?void 0:dt.call(ot)}},g=o(0),h=_(g),b=o(27);function _(st){return st&&st.__esModule?st:{default:st}}function $(st,et){if(!(st instanceof et))throw new TypeError("Cannot call a class as a function")}function j(st,et){if(!st)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et&&(typeof et=="object"||typeof et=="function")?et:st}function _e(st,et){if(typeof et!="function"&&et!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof et);st.prototype=Object.create(et&&et.prototype,{constructor:{value:st,enumerable:!1,writable:!0,configurable:!0}}),et&&(Object.setPrototypeOf?Object.setPrototypeOf(st,et):st.__proto__=et)}var rt=["alt","height","width"],it=function(st){_e(et,st);function et(){return $(this,et),j(this,(et.__proto__||Object.getPrototypeOf(et)).apply(this,arguments))}return c(et,[{key:"format",value:function(ot,nt){rt.indexOf(ot)>-1?nt?this.domNode.setAttribute(ot,nt):this.domNode.removeAttribute(ot):d(et.prototype.__proto__||Object.getPrototypeOf(et.prototype),"format",this).call(this,ot,nt)}}],[{key:"create",value:function(ot){var nt=d(et.__proto__||Object.getPrototypeOf(et),"create",this).call(this,ot);return typeof ot=="string"&&nt.setAttribute("src",this.sanitize(ot)),nt}},{key:"formats",value:function(ot){return rt.reduce(function(nt,at){return ot.hasAttribute(at)&&(nt[at]=ot.getAttribute(at)),nt},{})}},{key:"match",value:function(ot){return/\.(jpe?g|gif|png)$/.test(ot)||/^data:image\/.+;base64/.test(ot)}},{key:"sanitize",value:function(ot){return(0,b.sanitize)(ot,["http","https","data"])?ot:"//:0"}},{key:"value",value:function(ot){return ot.getAttribute("src")}}]),et}(h.default.Embed);it.blotName="image",it.tagName="IMG",a.default=it},function(s,a,o){Object.defineProperty(a,"__esModule",{value:!0});var c=function(){function st(et,tt){for(var ot=0;ot<tt.length;ot++){var nt=tt[ot];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(et,nt.key,nt)}}return function(et,tt,ot){return tt&&st(et.prototype,tt),ot&&st(et,ot),et}}(),d=function st(et,tt,ot){et===null&&(et=Function.prototype);var nt=Object.getOwnPropertyDescriptor(et,tt);if(nt===void 0){var at=Object.getPrototypeOf(et);return at===null?void 0:st(at,tt,ot)}else{if("value"in nt)return nt.value;var dt=nt.get;return dt===void 0?void 0:dt.call(ot)}},g=o(4),h=o(27),b=_(h);function _(st){return st&&st.__esModule?st:{default:st}}function $(st,et){if(!(st instanceof et))throw new TypeError("Cannot call a class as a function")}function j(st,et){if(!st)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et&&(typeof et=="object"||typeof et=="function")?et:st}function _e(st,et){if(typeof et!="function"&&et!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof et);st.prototype=Object.create(et&&et.prototype,{constructor:{value:st,enumerable:!1,writable:!0,configurable:!0}}),et&&(Object.setPrototypeOf?Object.setPrototypeOf(st,et):st.__proto__=et)}var rt=["height","width"],it=function(st){_e(et,st);function et(){return $(this,et),j(this,(et.__proto__||Object.getPrototypeOf(et)).apply(this,arguments))}return c(et,[{key:"format",value:function(ot,nt){rt.indexOf(ot)>-1?nt?this.domNode.setAttribute(ot,nt):this.domNode.removeAttribute(ot):d(et.prototype.__proto__||Object.getPrototypeOf(et.prototype),"format",this).call(this,ot,nt)}}],[{key:"create",value:function(ot){var nt=d(et.__proto__||Object.getPrototypeOf(et),"create",this).call(this,ot);return nt.setAttribute("frameborder","0"),nt.setAttribute("allowfullscreen",!0),nt.setAttribute("src",this.sanitize(ot)),nt}},{key:"formats",value:function(ot){return rt.reduce(function(nt,at){return ot.hasAttribute(at)&&(nt[at]=ot.getAttribute(at)),nt},{})}},{key:"sanitize",value:function(ot){return b.default.sanitize(ot)}},{key:"value",value:function(ot){return ot.getAttribute("src")}}]),et}(g.BlockEmbed);it.blotName="video",it.className="ql-video",it.tagName="IFRAME",a.default=it},function(s,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.FormulaBlot=void 0;var c=function(){function ot(nt,at){for(var dt=0;dt<at.length;dt++){var ut=at[dt];ut.enumerable=ut.enumerable||!1,ut.configurable=!0,"value"in ut&&(ut.writable=!0),Object.defineProperty(nt,ut.key,ut)}}return function(nt,at,dt){return at&&ot(nt.prototype,at),dt&&ot(nt,dt),nt}}(),d=function ot(nt,at,dt){nt===null&&(nt=Function.prototype);var ut=Object.getOwnPropertyDescriptor(nt,at);if(ut===void 0){var ct=Object.getPrototypeOf(nt);return ct===null?void 0:ot(ct,at,dt)}else{if("value"in ut)return ut.value;var ht=ut.get;return ht===void 0?void 0:ht.call(dt)}},g=o(35),h=_e(g),b=o(5),_=_e(b),$=o(9),j=_e($);function _e(ot){return ot&&ot.__esModule?ot:{default:ot}}function rt(ot,nt){if(!(ot instanceof nt))throw new TypeError("Cannot call a class as a function")}function it(ot,nt){if(!ot)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return nt&&(typeof nt=="object"||typeof nt=="function")?nt:ot}function st(ot,nt){if(typeof nt!="function"&&nt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof nt);ot.prototype=Object.create(nt&&nt.prototype,{constructor:{value:ot,enumerable:!1,writable:!0,configurable:!0}}),nt&&(Object.setPrototypeOf?Object.setPrototypeOf(ot,nt):ot.__proto__=nt)}var et=function(ot){st(nt,ot);function nt(){return rt(this,nt),it(this,(nt.__proto__||Object.getPrototypeOf(nt)).apply(this,arguments))}return c(nt,null,[{key:"create",value:function(dt){var ut=d(nt.__proto__||Object.getPrototypeOf(nt),"create",this).call(this,dt);return typeof dt=="string"&&(window.katex.render(dt,ut,{throwOnError:!1,errorColor:"#f00"}),ut.setAttribute("data-value",dt)),ut}},{key:"value",value:function(dt){return dt.getAttribute("data-value")}}]),nt}(h.default);et.blotName="formula",et.className="ql-formula",et.tagName="SPAN";var tt=function(ot){st(nt,ot),c(nt,null,[{key:"register",value:function(){_.default.register(et,!0)}}]);function nt(){rt(this,nt);var at=it(this,(nt.__proto__||Object.getPrototypeOf(nt)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return at}return nt}(j.default);a.FormulaBlot=et,a.default=tt},function(s,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.CodeToken=a.CodeBlock=void 0;var c=function(){function dt(ut,ct){for(var ht=0;ht<ct.length;ht++){var mt=ct[ht];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(ut,mt.key,mt)}}return function(ut,ct,ht){return ct&&dt(ut.prototype,ct),ht&&dt(ut,ht),ut}}(),d=function dt(ut,ct,ht){ut===null&&(ut=Function.prototype);var mt=Object.getOwnPropertyDescriptor(ut,ct);if(mt===void 0){var lt=Object.getPrototypeOf(ut);return lt===null?void 0:dt(lt,ct,ht)}else{if("value"in mt)return mt.value;var ft=mt.get;return ft===void 0?void 0:ft.call(ht)}},g=o(0),h=it(g),b=o(5),_=it(b),$=o(9),j=it($),_e=o(13),rt=it(_e);function it(dt){return dt&&dt.__esModule?dt:{default:dt}}function st(dt,ut){if(!(dt instanceof ut))throw new TypeError("Cannot call a class as a function")}function et(dt,ut){if(!dt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ut&&(typeof ut=="object"||typeof ut=="function")?ut:dt}function tt(dt,ut){if(typeof ut!="function"&&ut!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ut);dt.prototype=Object.create(ut&&ut.prototype,{constructor:{value:dt,enumerable:!1,writable:!0,configurable:!0}}),ut&&(Object.setPrototypeOf?Object.setPrototypeOf(dt,ut):dt.__proto__=ut)}var ot=function(dt){tt(ut,dt);function ut(){return st(this,ut),et(this,(ut.__proto__||Object.getPrototypeOf(ut)).apply(this,arguments))}return c(ut,[{key:"replaceWith",value:function(ht){this.domNode.textContent=this.domNode.textContent,this.attach(),d(ut.prototype.__proto__||Object.getPrototypeOf(ut.prototype),"replaceWith",this).call(this,ht)}},{key:"highlight",value:function(ht){var mt=this.domNode.textContent;this.cachedText!==mt&&((mt.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=ht(mt),this.domNode.normalize(),this.attach()),this.cachedText=mt)}}]),ut}(rt.default);ot.className="ql-syntax";var nt=new h.default.Attributor.Class("token","hljs",{scope:h.default.Scope.INLINE}),at=function(dt){tt(ut,dt),c(ut,null,[{key:"register",value:function(){_.default.register(nt,!0),_.default.register(ot,!0)}}]);function ut(ct,ht){st(this,ut);var mt=et(this,(ut.__proto__||Object.getPrototypeOf(ut)).call(this,ct,ht));if(typeof mt.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var lt=null;return mt.quill.on(_.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(lt),lt=setTimeout(function(){mt.highlight(),lt=null},mt.options.interval)}),mt.highlight(),mt}return c(ut,[{key:"highlight",value:function(){var ht=this;if(!this.quill.selection.composing){this.quill.update(_.default.sources.USER);var mt=this.quill.getSelection();this.quill.scroll.descendants(ot).forEach(function(lt){lt.highlight(ht.options.highlight)}),this.quill.update(_.default.sources.SILENT),mt!=null&&this.quill.setSelection(mt,_.default.sources.SILENT)}}}]),ut}(j.default);at.DEFAULTS={highlight:function(){return window.hljs==null?null:function(dt){var ut=window.hljs.highlightAuto(dt);return ut.value}}(),interval:1e3},a.CodeBlock=ot,a.CodeToken=nt,a.default=at},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(s,a){s.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(s,a){s.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(s,a){s.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(s,a){s.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(s,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.BubbleTooltip=void 0;var c=function ut(ct,ht,mt){ct===null&&(ct=Function.prototype);var lt=Object.getOwnPropertyDescriptor(ct,ht);if(lt===void 0){var ft=Object.getPrototypeOf(ct);return ft===null?void 0:ut(ft,ht,mt)}else{if("value"in lt)return lt.value;var vt=lt.get;return vt===void 0?void 0:vt.call(mt)}},d=function(){function ut(ct,ht){for(var mt=0;mt<ht.length;mt++){var lt=ht[mt];lt.enumerable=lt.enumerable||!1,lt.configurable=!0,"value"in lt&&(lt.writable=!0),Object.defineProperty(ct,lt.key,lt)}}return function(ct,ht,mt){return ht&&ut(ct.prototype,ht),mt&&ut(ct,mt),ct}}(),g=o(3),h=st(g),b=o(8),_=st(b),$=o(43),j=st($),_e=o(15),rt=o(41),it=st(rt);function st(ut){return ut&&ut.__esModule?ut:{default:ut}}function et(ut,ct){if(!(ut instanceof ct))throw new TypeError("Cannot call a class as a function")}function tt(ut,ct){if(!ut)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ct&&(typeof ct=="object"||typeof ct=="function")?ct:ut}function ot(ut,ct){if(typeof ct!="function"&&ct!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ct);ut.prototype=Object.create(ct&&ct.prototype,{constructor:{value:ut,enumerable:!1,writable:!0,configurable:!0}}),ct&&(Object.setPrototypeOf?Object.setPrototypeOf(ut,ct):ut.__proto__=ct)}var nt=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],at=function(ut){ot(ct,ut);function ct(ht,mt){et(this,ct),mt.modules.toolbar!=null&&mt.modules.toolbar.container==null&&(mt.modules.toolbar.container=nt);var lt=tt(this,(ct.__proto__||Object.getPrototypeOf(ct)).call(this,ht,mt));return lt.quill.container.classList.add("ql-bubble"),lt}return d(ct,[{key:"extendToolbar",value:function(mt){this.tooltip=new dt(this.quill,this.options.bounds),this.tooltip.root.appendChild(mt.container),this.buildButtons([].slice.call(mt.container.querySelectorAll("button")),it.default),this.buildPickers([].slice.call(mt.container.querySelectorAll("select")),it.default)}}]),ct}(j.default);at.DEFAULTS=(0,h.default)(!0,{},j.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(ct){ct?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var dt=function(ut){ot(ct,ut);function ct(ht,mt){et(this,ct);var lt=tt(this,(ct.__proto__||Object.getPrototypeOf(ct)).call(this,ht,mt));return lt.quill.on(_.default.events.EDITOR_CHANGE,function(ft,vt,kt,jt){if(ft===_.default.events.SELECTION_CHANGE)if(vt!=null&&vt.length>0&&jt===_.default.sources.USER){lt.show(),lt.root.style.left="0px",lt.root.style.width="",lt.root.style.width=lt.root.offsetWidth+"px";var Ot=lt.quill.getLines(vt.index,vt.length);if(Ot.length===1)lt.position(lt.quill.getBounds(vt));else{var Pt=Ot[Ot.length-1],Lt=lt.quill.getIndex(Pt),wt=Math.min(Pt.length()-1,vt.index+vt.length-Lt),St=lt.quill.getBounds(new _e.Range(Lt,wt));lt.position(St)}}else document.activeElement!==lt.textbox&&lt.quill.hasFocus()&&lt.hide()}),lt}return d(ct,[{key:"listen",value:function(){var mt=this;c(ct.prototype.__proto__||Object.getPrototypeOf(ct.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){mt.root.classList.remove("ql-editing")}),this.quill.on(_.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!mt.root.classList.contains("ql-hidden")){var lt=mt.quill.getSelection();lt!=null&&mt.position(mt.quill.getBounds(lt))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(mt){var lt=c(ct.prototype.__proto__||Object.getPrototypeOf(ct.prototype),"position",this).call(this,mt),ft=this.root.querySelector(".ql-tooltip-arrow");if(ft.style.marginLeft="",lt===0)return lt;ft.style.marginLeft=-1*lt-ft.offsetWidth/2+"px"}}]),ct}($.BaseTooltip);dt.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),a.BubbleTooltip=dt,a.default=at},function(s,a,o){s.exports=o(63)}]).default})})(quill);var quillExports=quill.exports,__extends=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(i,s){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,o){a.__proto__=o}||function(a,o){for(var c in o)o.hasOwnProperty(c)&&(a[c]=o[c])},e(i,s)};return function(i,s){e(i,s);function a(){this.constructor=i}i.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}}(),__assign=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign=Object.assign||function(e){for(var i,s=1,a=arguments.length;s<a;s++){i=arguments[s];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},__assign.apply(this,arguments)},__spreadArrays=commonjsGlobal&&commonjsGlobal.__spreadArrays||function(){for(var e=0,i=0,s=arguments.length;i<s;i++)e+=arguments[i].length;for(var a=Array(e),o=0,i=0;i<s;i++)for(var c=arguments[i],d=0,g=c.length;d<g;d++,o++)a[o]=c[d];return a},__importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},react_1=__importDefault(reactExports),react_dom_1=__importDefault(reactDomExports),isEqual_1=__importDefault(isEqual_1$1),quill_1=__importDefault(quillExports),ReactQuill=function(e){__extends(i,e);function i(s){var a=e.call(this,s)||this;a.dirtyProps=["modules","formats","bounds","theme","children"],a.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],a.state={generation:0},a.selection=null,a.onEditorChange=function(c,d,g,h){var b,_,$,j;c==="text-change"?(_=(b=a).onEditorChangeText)===null||_===void 0||_.call(b,a.editor.root.innerHTML,d,h,a.unprivilegedEditor):c==="selection-change"&&((j=($=a).onEditorChangeSelection)===null||j===void 0||j.call($,d,h,a.unprivilegedEditor))};var o=a.isControlled()?s.value:s.defaultValue;return a.value=o??"",a}return i.prototype.validateProps=function(s){var a;if(react_1.default.Children.count(s.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(react_1.default.Children.count(s.children)){var o=react_1.default.Children.only(s.children);if(((a=o)===null||a===void 0?void 0:a.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&s.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},i.prototype.shouldComponentUpdate=function(s,a){var o=this,c;if(this.validateProps(s),!this.editor||this.state.generation!==a.generation)return!0;if("value"in s){var d=this.getEditorContents(),g=(c=s.value,c??"");this.isEqualValue(g,d)||this.setEditorContents(this.editor,g)}return s.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,s.readOnly),__spreadArrays(this.cleanProps,this.dirtyProps).some(function(h){return!isEqual_1.default(s[h],o.props[h])})},i.prototype.shouldComponentRegenerate=function(s){var a=this;return this.dirtyProps.some(function(o){return!isEqual_1.default(s[o],a.props[o])})},i.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},i.prototype.componentWillUnmount=function(){this.destroyEditor()},i.prototype.componentDidUpdate=function(s,a){var o=this;if(this.editor&&this.shouldComponentRegenerate(s)){var c=this.editor.getContents(),d=this.editor.getSelection();this.regenerationSnapshot={delta:c,selection:d},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==a.generation){var g=this.regenerationSnapshot,c=g.delta,h=g.selection;delete this.regenerationSnapshot,this.instantiateEditor();var b=this.editor;b.setContents(c),postpone(function(){return o.setEditorSelection(b,h)})}},i.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},i.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},i.prototype.isControlled=function(){return"value"in this.props},i.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},i.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},i.prototype.createEditor=function(s,a){var o=new quill_1.default(s,a);return a.tabIndex!=null&&this.setEditorTabIndex(o,a.tabIndex),this.hookEditor(o),o},i.prototype.hookEditor=function(s){this.unprivilegedEditor=this.makeUnprivilegedEditor(s),s.on("editor-change",this.onEditorChange)},i.prototype.unhookEditor=function(s){s.off("editor-change",this.onEditorChange)},i.prototype.getEditorContents=function(){return this.value},i.prototype.getEditorSelection=function(){return this.selection},i.prototype.isDelta=function(s){return s&&s.ops},i.prototype.isEqualValue=function(s,a){return this.isDelta(s)&&this.isDelta(a)?isEqual_1.default(s.ops,a.ops):isEqual_1.default(s,a)},i.prototype.setEditorContents=function(s,a){var o=this;this.value=a;var c=this.getEditorSelection();typeof a=="string"?s.setContents(s.clipboard.convert(a)):s.setContents(a),postpone(function(){return o.setEditorSelection(s,c)})},i.prototype.setEditorSelection=function(s,a){if(this.selection=a,a){var o=s.getLength();a.index=Math.max(0,Math.min(a.index,o-1)),a.length=Math.max(0,Math.min(a.length,o-1-a.index)),s.setSelection(a)}},i.prototype.setEditorTabIndex=function(s,a){var o,c;!((c=(o=s)===null||o===void 0?void 0:o.scroll)===null||c===void 0)&&c.domNode&&(s.scroll.domNode.tabIndex=a)},i.prototype.setEditorReadOnly=function(s,a){a?s.disable():s.enable()},i.prototype.makeUnprivilegedEditor=function(s){var a=s;return{getHTML:function(){return a.root.innerHTML},getLength:a.getLength.bind(a),getText:a.getText.bind(a),getContents:a.getContents.bind(a),getSelection:a.getSelection.bind(a),getBounds:a.getBounds.bind(a)}},i.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var s=react_dom_1.default.findDOMNode(this.editingArea);if(!s)throw new Error("Cannot find element for editing area");if(s.nodeType===3)throw new Error("Editing area cannot be a text node");return s},i.prototype.renderEditingArea=function(){var s=this,a=this.props,o=a.children,c=a.preserveWhitespace,d=this.state.generation,g={key:d,ref:function(h){s.editingArea=h}};return react_1.default.Children.count(o)?react_1.default.cloneElement(react_1.default.Children.only(o),g):c?react_1.default.createElement("pre",__assign({},g)):react_1.default.createElement("div",__assign({},g))},i.prototype.render=function(){var s;return react_1.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(s=this.props.className,s??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},i.prototype.onEditorChangeText=function(s,a,o,c){var d,g;if(this.editor){var h=this.isDelta(this.value)?c.getContents():c.getHTML();h!==this.getEditorContents()&&(this.lastDeltaChangeSet=a,this.value=h,(g=(d=this.props).onChange)===null||g===void 0||g.call(d,s,a,o,c))}},i.prototype.onEditorChangeSelection=function(s,a,o){var c,d,g,h,b,_;if(this.editor){var $=this.getEditorSelection(),j=!$&&s,_e=$&&!s;isEqual_1.default(s,$)||(this.selection=s,(d=(c=this.props).onChangeSelection)===null||d===void 0||d.call(c,s,a,o),j?(h=(g=this.props).onFocus)===null||h===void 0||h.call(g,s,a,o):_e&&((_=(b=this.props).onBlur)===null||_===void 0||_.call(b,$,a,o)))}},i.prototype.focus=function(){this.editor&&this.editor.focus()},i.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},i.displayName="React Quill",i.Quill=quill_1.default,i.defaultProps={theme:"snow",modules:{},readOnly:!1},i}(react_1.default.Component);function postpone(e){Promise.resolve().then(e)}var lib=ReactQuill;const ReactQuill$1=getDefaultExportFromCjs(lib),modules={toolbar:[[{header:[1,2,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],["link"],["clean"]]},formats=["header","bold","italic","underline","strike","list","bullet","link"];function QuillEditor({value:e,onChange:i,readOnly:s=!1}){const a=reactExports.useRef(null);return reactExports.useEffect(()=>{a.current&&a.current.getEditor().enable(!s)},[s]),jsxRuntimeExports.jsxs("div",{className:"h-full flex flex-col bg-white",children:[jsxRuntimeExports.jsx(ReactQuill$1,{ref:a,theme:"snow",value:e||"",onChange:i,modules:s?{toolbar:!1}:modules,formats,readOnly:s,className:"flex-1 flex flex-col"}),jsxRuntimeExports.jsx("style",{children:`
          .quill {
            display: flex;
            flex-direction: column;
            height: 100%;
          }
          .ql-container {
            flex: 1;
            overflow: auto;
          }
          .ql-editor {
            min-height: 100%;
            height: 100%;
          }
          .ql-toolbar {
            border-top: none !important;
            border-left: none !important;
            border-right: none !important;
          }
          .ql-container {
            border: none !important;
          }
        `})]})}function SubmissionReviewModal({submission:e,onClose:i}){const[s,a]=reactExports.useState(e.score||""),{submitReview:o,loading:c}=useSubmissionReview(e.id),d=async g=>{g.preventDefault(),await o(parseInt(s)),i()};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg w-full max-w-6xl h-[90vh] flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold",children:["Review Submission - ",e.assignment.name]}),jsxRuntimeExports.jsx("button",{onClick:i,className:"text-gray-500 hover:text-gray-700",children:jsxRuntimeExports.jsx(X,{size:20})})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-4 p-4 min-h-0 overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium mb-2",children:"Assignment PDF"}),jsxRuntimeExports.jsx("div",{className:"flex-1 border rounded-lg overflow-hidden",children:jsxRuntimeExports.jsx(PDFViewer,{pdfUrl:e.assignment.pdf_path})})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium mb-2",children:"Student's Answer"}),jsxRuntimeExports.jsx("div",{className:"flex-1 border rounded-lg overflow-hidden",children:jsxRuntimeExports.jsx(QuillEditor,{value:e.content,readOnly:!0})})]})]}),jsxRuntimeExports.jsx("div",{className:"p-4 border-t",children:jsxRuntimeExports.jsxs("form",{onSubmit:d,className:"flex items-center gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Score (0-100)"}),jsxRuntimeExports.jsx("input",{type:"number",min:"0",max:"100",value:s,onChange:g=>a(g.target.value),className:"mt-1 block w-32 rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500",required:!0})]}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:c,className:"px-4 py-2 bg-purple-700 text-white rounded-md hover:bg-purple-700 disabled:opacity-50",children:c?"Submitting...":"Submit Review"})]})})]})})}function SubmissionsList(){const{submissions:e,loading:i,error:s}=useSubmissions(),[a,o]=React.useState(null);return i?jsxRuntimeExports.jsx("div",{className:"flex justify-center p-8",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-700"})}):s?jsxRuntimeExports.jsxs("div",{className:"text-red-600 p-4 bg-red-50 rounded-lg",children:["Error loading submissions: ",s]}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Submissions"}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assignment"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Submitted"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Score"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(c=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-medium text-gray-900",children:c.user.name}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:c.user.email})]}),jsxRuntimeExports.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-900",children:c.assignment.name}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",c.assignment.assignment_id]})]}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(c.submitted_at).toLocaleString()}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${c.score_status==="pending"?"bg-yellow-100 text-yellow-800":"bg-fuchsia-100 text-fuchsia-800"}`,children:c.score_status==="pending"?"Pending Review":"Reviewed"})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:c.score!==null?`${c.score}/100`:"-"}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:jsxRuntimeExports.jsx("button",{onClick:()=>o(c),className:"text-purple-700 hover:text-purple-900",children:"Review"})})]},c.id))})]})}),a&&jsxRuntimeExports.jsx(SubmissionReviewModal,{submission:a,onClose:()=>o(null)})]})}function AdminDashboard(){return jsxRuntimeExports.jsx(AdminLayout,{children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(AdminOverview,{})}),jsxRuntimeExports.jsx(Route,{path:"/users",element:jsxRuntimeExports.jsx(UserManagement,{})}),jsxRuntimeExports.jsx(Route,{path:"/assignments",element:jsxRuntimeExports.jsx(AssignmentManagement,{})}),jsxRuntimeExports.jsx(Route,{path:"/submissions",element:jsxRuntimeExports.jsx(SubmissionsList,{})})]})})}function UserProfileMenu({onClose:e,onSignOut:i}){return jsxRuntimeExports.jsx("div",{className:"absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5",children:jsxRuntimeExports.jsxs("div",{className:"py-1",role:"menu",children:[jsxRuntimeExports.jsxs(Link,{to:"/dashboard/profile",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",onClick:e,children:[jsxRuntimeExports.jsx(User,{className:"mr-3 h-4 w-4"}),"Your Profile"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>{i(),e()},className:"flex w-full items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",children:[jsxRuntimeExports.jsx(LogOut,{className:"mr-3 h-4 w-4"}),"Sign Out"]})]})})}function useUserStats(){const[e,i]=reactExports.useState(0),[s,a]=reactExports.useState(!0),[o,c]=reactExports.useState(null);return reactExports.useEffect(()=>{async function d(){try{const{data:{user:g}}=await supabase.auth.getUser();if(!g)throw new Error("Not authenticated");const{data:h,error:b}=await supabase.from("user_assignments").select("score, assignment:assignments(points)").eq("user_id",g.id).eq("status","completed").not("score","is",null);if(b)throw b;if(h&&h.length>0){const _=h.map(j=>j.score/j.assignment.points*100),$=_.reduce((j,_e)=>j+_e,0)/_.length;i(Math.round($))}}catch(g){c(g.message)}finally{a(!1)}}d()},[]),{averageScore:e,loading:s,error:o}}function useUserProfile(){const[e,i]=reactExports.useState(null),[s,a]=reactExports.useState(!0),[o,c]=reactExports.useState(null);return reactExports.useEffect(()=>{async function d(){try{const{data:{user:g}}=await supabase.auth.getUser();if(!g)throw new Error("Not authenticated");const{data:h,error:b}=await supabase.from("regular_users").select("*").eq("id",g.id).single();if(b)throw b;i(h)}catch(g){c(g.message)}finally{a(!1)}}d()},[]),{userProfile:e,loading:s,error:o}}function UserLayout({children:e}){const i=useNavigate(),s=useLocation(),{signOut:a}=useAuth(),{averageScore:o}=useUserStats(),{userProfile:c}=useUserProfile(),[d,g]=reactExports.useState(!1),[h,b]=reactExports.useState(!1),_=_e=>_e>=96?"border-fuchsia-500":_e>=86?"border-fuchsia-400":_e>=76?"border-lime-400":_e>=66?"border-yellow-400":_e>=51?"border-orange-400":_e>=26?"border-red-400":"border-red-700",$=async()=>{await a(),i("/login")},j=s.pathname==="/dashboard"||s.pathname.startsWith("/dashboard/assignment/");return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gray-100",children:jsxRuntimeExports.jsxs("div",{className:"flex h-screen",children:[jsxRuntimeExports.jsxs("div",{className:`${h?"w-16":"w-64"} bg-white shadow-lg transition-all duration-300`,children:[jsxRuntimeExports.jsxs("div",{className:"h-16 flex items-center px-6 border-b justify-between",children:[!h&&jsxRuntimeExports.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Employee Portal"}),jsxRuntimeExports.jsx("button",{onClick:()=>b(!h),className:"p-1 rounded-md hover:bg-gray-100",children:h?jsxRuntimeExports.jsx(ChevronRight,{className:"w-5 h-5 text-gray-500"}):jsxRuntimeExports.jsx(ChevronLeft,{className:"w-5 h-5 text-gray-500"})})]}),jsxRuntimeExports.jsx("nav",{className:"mt-6",children:jsxRuntimeExports.jsxs(Link,{to:"/dashboard",className:`flex items-center px-6 py-3 text-sm ${j?"text-purple-700 bg-purple-50":"text-gray-600 hover:bg-gray-50"}`,children:[jsxRuntimeExports.jsx(FileText,{size:20,className:h?"mx-auto":"mr-3"}),!h&&"Assignments"]})})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"h-16 bg-white shadow-sm flex items-center justify-between px-8",children:[" ",jsxRuntimeExports.jsxs("div",{className:"flex-grow text-center",children:[" ",jsxRuntimeExports.jsx("span",{className:"text-xl font-bold text-gray-800",children:"Neo Dataworks"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[" ",jsxRuntimeExports.jsxs("button",{onClick:()=>g(!d),className:"flex items-center space-x-3 hover:bg-gray-50 rounded-lg p-2 transition-colors",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-700",children:(c==null?void 0:c.name)||"Loading..."}),jsxRuntimeExports.jsx("div",{className:`w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center ${_(o)} border-2`,children:jsxRuntimeExports.jsx(User,{className:"w-6 h-6 text-gray-600"})})]}),d&&jsxRuntimeExports.jsx(UserProfileMenu,{onClose:()=>g(!1),onSignOut:$})]})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-auto p-8",children:e})]})]})})}function AssignmentHeader({assignment:e,lastSaved:i,onSave:s,onSubmit:a}){const o=useNavigate(),c=e.status==="completed",d=async()=>{window.confirm("Are you sure you want to submit this assignment? This action cannot be undone.")&&(await a(),o("/dashboard"))};return jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:e.assignment.name}),!c&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-500",children:i?`Last saved: ${new Date(i).toLocaleString()}`:""}),jsxRuntimeExports.jsxs("button",{onClick:s,className:"flex items-center gap-2 px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:[jsxRuntimeExports.jsx(Save,{size:16}),"Save"]}),jsxRuntimeExports.jsxs("button",{onClick:d,className:"flex items-center gap-2 px-4 py-2 text-white bg-fuchsia-600 rounded-md hover:bg-fuchsia-700",children:[jsxRuntimeExports.jsx(Send,{size:16}),"Submit"]})]})]})}class ErrorBoundary extends reactExports.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null}}static getDerivedStateFromError(i){return{hasError:!0,error:i}}componentDidCatch(i,s){console.error("Error caught by boundary:",i),console.error("Component stack:",s.componentStack)}render(){var i;return this.state.hasError?this.props.fallback||jsxRuntimeExports.jsxs("div",{className:"p-4 bg-red-50 text-red-600 rounded-lg",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Something went wrong"}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:(i=this.state.error)==null?void 0:i.message})]}):this.props.children}}function AssignmentContent({assignment:e,content:i,onChange:s}){const a=e.status==="completed";return jsxRuntimeExports.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-4 min-h-0 max-h-full overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"flex flex-col overflow-hidden rounded-lg border border-gray-200",children:jsxRuntimeExports.jsx(ErrorBoundary,{children:jsxRuntimeExports.jsx(PDFViewer,{pdfUrl:e.assignment.pdf_path})})}),jsxRuntimeExports.jsx("div",{className:"flex flex-col overflow-hidden rounded-lg border border-gray-200",children:jsxRuntimeExports.jsx(ErrorBoundary,{children:jsxRuntimeExports.jsx(QuillEditor,{value:i,onChange:s,readOnly:a})})})]})}const AUTOSAVE_INTERVAL=12e4;function useAssignment(e){const[i,s]=reactExports.useState(null),[a,o]=reactExports.useState(""),[c,d]=reactExports.useState(!0),[g,h]=reactExports.useState(null),[b,_]=reactExports.useState(null);reactExports.useEffect(()=>{async function _e(){try{const{data:{user:rt}}=await supabase.auth.getUser();if(!rt)throw new Error("Not authenticated");const{data:it,error:st}=await supabase.from("user_assignments").select(`
            *,
            assignment:assignments (
              assignment_id,
              pdf_path
            )
          `).eq("id",e).eq("user_id",rt.id).single();if(st)throw st;if(!it)throw new Error("Assignment not found");s(it),o(it.content||""),_(it.last_saved)}catch(rt){h(rt.message)}finally{d(!1)}}_e()},[e]);const $=reactExports.useCallback(async()=>{if(!(!i||i.status==="completed"))try{const{error:_e}=await supabase.from("user_assignments").update({content:a,last_saved:new Date().toISOString()}).eq("id",e);if(_e)throw _e;_(new Date().toISOString())}catch(_e){console.error("Error saving content:",_e)}},[i,e,a]),j=async()=>{if(!(!i||i.status==="completed"))try{const{error:_e}=await supabase.from("user_assignments").update({content:a,status:"completed",submitted_at:new Date().toISOString(),last_saved:new Date().toISOString()}).eq("id",e);if(_e)throw _e;s(rt=>rt?{...rt,status:"completed",submitted_at:new Date().toISOString(),last_saved:new Date().toISOString()}:null)}catch(_e){throw console.error("Error submitting assignment:",_e),_e}};return reactExports.useEffect(()=>{if(!i||i.status==="completed")return;const _e=setInterval($,AUTOSAVE_INTERVAL);return()=>clearInterval(_e)},[i,$]),{assignment:i,content:a,setContent:o,loading:c,error:g,saveContent:$,submitAssignment:j,lastSaved:b}}function AssignmentViewer(){const{id:e}=useParams(),i=useNavigate(),{assignment:s,content:a,setContent:o,loading:c,error:d,saveContent:g,submitAssignment:h,lastSaved:b}=useAssignment(e);return c?jsxRuntimeExports.jsx(LoadingSpinner,{}):d||!s?(console.error("Assignment error:",d),i("/dashboard"),null):jsxRuntimeExports.jsxs("div",{className:"h-full flex flex-col",children:[jsxRuntimeExports.jsx(AssignmentHeader,{assignment:s,lastSaved:b,onSave:g,onSubmit:h}),jsxRuntimeExports.jsx(ErrorBoundary,{children:jsxRuntimeExports.jsx(AssignmentContent,{assignment:s,content:a,onChange:o})})]})}function useUserAssignments(){const[e,i]=reactExports.useState([]),[s,a]=reactExports.useState(!0),[o,c]=reactExports.useState(null);return reactExports.useEffect(()=>{async function d(){try{const{data:{user:g}}=await supabase.auth.getUser();if(!g)throw new Error("Not authenticated");const{data:h,error:b}=await supabase.from("user_assignments").select(`
            *,
            assignment:assignments (
              id,
              assignment_id,
              name,
              pdf_path,
              points,
              deadline,
              duration_hours
            )
          `).eq("user_id",g.id).order("created_at",{ascending:!1});if(b)throw b;i(h||[])}catch(g){c(g.message)}finally{a(!1)}}d()},[]),{assignments:e,loading:s,error:o}}function getScoreColor(e){return e>=96?"text-fuchsia-600":e>=86?"text-fuchsia-500":e>=76?"text-lime-500":e>=66?"text-yellow-500":e>=51?"text-orange-500":e>=26?"text-red-500":"text-red-700"}function formatDate(e){const i=new Date(e);return isValid(i)?format(i,"MMM d, yyyy"):"Invalid Date"}function AssignmentCard({assignment:e,onClick:i}){const s=e.status==="pending",a=e.score!==null?`${e.score}/${e.assignment.points}`:"Not graded";return jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden cursor-pointer transform transition-transform hover:scale-105",onClick:i,children:jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:e.assignment.name}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",e.assignment.assignment_id]})]}),jsxRuntimeExports.jsx(FileText,{className:s?"text-purple-500":"text-fuchsia-500",size:24})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center text-sm",children:[jsxRuntimeExports.jsx(Award,{className:"text-purple-500 mr-2",size:16}),jsxRuntimeExports.jsx("span",{className:"text-gray-500 mr-2",children:"Points:"}),jsxRuntimeExports.jsx("span",{children:e.assignment.points})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center text-sm",children:[jsxRuntimeExports.jsx(Clock,{className:"text-orange-500 mr-2",size:16}),jsxRuntimeExports.jsx("span",{className:"text-gray-500 mr-2",children:"Duration:"}),jsxRuntimeExports.jsxs("span",{children:[e.assignment.duration_hours,"h"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center text-sm",children:[jsxRuntimeExports.jsx(Calendar,{className:"text-fuchsia-500 mr-2",size:16}),jsxRuntimeExports.jsx("span",{className:"text-gray-500 mr-2",children:"Deadline:"}),jsxRuntimeExports.jsx("span",{children:formatDate(e.assignment.deadline)})]}),jsxRuntimeExports.jsxs("div",{className:"pt-2 flex items-center justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:`px-2 py-1 rounded-full ${s?"text-yellow-600 bg-yellow-50":"text-fuchsia-600 bg-fuchsia-50"}`,children:s?"Pending":"Completed"}),!s&&jsxRuntimeExports.jsx("span",{className:`font-semibold ${getScoreColor(e.score||0)}`,children:a})]})]})]})})}function StatsCard({icon:e,title:i,count:s,color:a,onClick:o,active:c}){const d={purple:{bg:"bg-purple-100",text:"text-purple-700",hover:"hover:bg-purple-50"},yellow:{bg:"bg-yellow-100",text:"text-yellow-600",hover:"hover:bg-yellow-50"},fuchsia:{bg:"bg-fuchsia-100",text:"text-fuchsia-600",hover:"hover:bg-fuchsia-50"}}[a];return jsxRuntimeExports.jsx("button",{onClick:o,className:`bg-white rounded-lg shadow p-6 w-full transition-colors ${d.hover} ${c?"ring-2 ring-offset-2 "+d.text:""}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:`p-3 rounded-full ${d.bg}`,children:jsxRuntimeExports.jsx(e,{className:`h-6 w-6 ${d.text}`})}),jsxRuntimeExports.jsxs("div",{className:"ml-4 text-left",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-medium text-gray-500",children:i}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:s})]})]})})}function AssignmentList(){const{assignments:e,loading:i,error:s}=useUserAssignments(),[a,o]=reactExports.useState("all"),c=useNavigate();if(i)return jsxRuntimeExports.jsx("div",{className:"flex justify-center p-8",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-700"})});if(s)return jsxRuntimeExports.jsxs("div",{className:"text-red-600 p-4 bg-red-50 rounded-lg",children:["Error loading assignments: ",s]});const d=e.filter(b=>b.status==="pending"),g=e.filter(b=>b.status==="completed"),h=a==="all"?e:a==="pending"?d:g;return jsxRuntimeExports.jsxs("div",{className:"space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsx(StatsCard,{icon:FileText,title:"Total Assignments",count:e.length,color:"purple",onClick:()=>o("all"),active:a==="all"}),jsxRuntimeExports.jsx(StatsCard,{icon:Clock,title:"Pending",count:d.length,color:"yellow",onClick:()=>o("pending"),active:a==="pending"}),jsxRuntimeExports.jsx(StatsCard,{icon:CheckCircle,title:"Completed",count:g.length,color:"fuchsia",onClick:()=>o("completed"),active:a==="completed"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:a==="all"?"All Assignments":a==="pending"?"Pending Assignments":"Completed Assignments"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(b=>jsxRuntimeExports.jsx(AssignmentCard,{assignment:b,onClick:()=>c(`/dashboard/assignment/${b.id}`)},b.id))})]})]})}function useCompletedAssignments(){const[e,i]=reactExports.useState([]),[s,a]=reactExports.useState(!0),[o,c]=reactExports.useState(null);return reactExports.useEffect(()=>{async function d(){try{const{data:{user:g}}=await supabase.auth.getUser();if(!g)throw new Error("Not authenticated");const{data:h,error:b}=await supabase.from("user_assignments").select(`
            *,
            assignment:assignments (
              id,
              assignment_id,
              name,
              points
            )
          `).eq("user_id",g.id).eq("status","completed").eq("score_status","scored").order("submitted_at",{ascending:!1});if(b)throw b;i(h||[])}catch(g){c(g.message)}finally{a(!1)}}d()},[]),{assignments:e,loading:s,error:o}}function UserProfile(){const{userProfile:e,loading:i}=useUserProfile(),{averageScore:s,loading:a}=useUserStats(),{assignments:o,loading:c}=useCompletedAssignments();return i||a||c?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-full",children:jsxRuntimeExports.jsx(LoadingSpinner,{})}):jsxRuntimeExports.jsxs("div",{className:"space-y-8",children:[jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-6",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0",children:jsxRuntimeExports.jsx("div",{className:"w-24 h-24 rounded-full bg-purple-100 flex items-center justify-center",children:jsxRuntimeExports.jsx(User,{className:"w-12 h-12 text-purple-700"})})}),jsxRuntimeExports.jsxs("div",{className:"flex-grow",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:e==null?void 0:e.name}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-4",children:e==null?void 0:e.email}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Award,{className:"w-5 h-5 text-purple-700"}),jsxRuntimeExports.jsx("span",{className:"text-gray-700",children:"Overall Performance:"}),jsxRuntimeExports.jsxs("span",{className:`font-semibold ${getScoreColor(s)}`,children:[s,"%"]})]})]})]})}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"p-6 border-b",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileText,{className:"w-5 h-5 text-purple-700"}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Assignment History"})]})}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assignment"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Submitted"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Score"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Percentage"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(d=>{const g=d.score/d.assignment.points*100;return jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-medium text-gray-900",children:d.assignment.name}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",d.assignment.assignment_id]})]}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:formatDate(d.submitted_at)}),jsxRuntimeExports.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[d.score," / ",d.assignment.points]}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsxs("span",{className:`text-sm font-semibold ${getScoreColor(g)}`,children:[g.toFixed(1),"%"]})})]},d.id)})})]})})]})]})}function UserDashboard(){return jsxRuntimeExports.jsx(UserLayout,{children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(AssignmentList,{})}),jsxRuntimeExports.jsx(Route,{path:"/assignment/:id",element:jsxRuntimeExports.jsx(AssignmentViewer,{})}),jsxRuntimeExports.jsx(Route,{path:"/profile",element:jsxRuntimeExports.jsx(UserProfile,{})})]})})}function AboutHero(){return jsxRuntimeExports.jsxs("div",{className:"relative bg-purple-800 py-16",children:[jsxRuntimeExports.jsxs("div",{className:"absolute inset-0",children:[jsxRuntimeExports.jsx("img",{className:"w-full h-full object-cover opacity-20",src:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?auto=format&fit=crop&q=80",alt:"Data visualization background"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-900 to-purple-800/90 mix-blend-multiply"})]}),jsxRuntimeExports.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl font-extrabold tracking-tight text-white sm:text-5xl lg:text-6xl",children:"About Us"}),jsxRuntimeExports.jsx("p",{className:"mt-6 max-w-3xl text-xl text-purple-100",children:"Welcome to Neo DataWorks, where we transform raw, unstructured information into meaningful and impactful assets."})]})]})}function AboutContent(){return jsxRuntimeExports.jsx("div",{className:"py-16 bg-white",children:jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:jsxRuntimeExports.jsxs("div",{className:"max-w-3xl mx-auto",children:[jsxRuntimeExports.jsxs("section",{className:"mb-12",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Our Story"}),jsxRuntimeExports.jsx("p",{className:"text-lg text-gray-600",children:"Neo DataWorks was born from a simple yet powerful idea: to empower businesses by giving them clarity and control over their data. As companies grow, so does the complexity of their information. We recognized the need for a dedicated partner who could simplify, structure, and optimize data, enabling businesses to thrive in today's data-driven world."})]}),jsxRuntimeExports.jsxs("section",{className:"mb-12",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Our Mission"}),jsxRuntimeExports.jsx("p",{className:"text-lg text-gray-600",children:"To provide businesses with precise, reliable, and tailored data solutions that enhance operational efficiency, drive innovation, and unlock new opportunities."})]}),jsxRuntimeExports.jsxs("section",{className:"mb-12",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Our Vision"}),jsxRuntimeExports.jsx("p",{className:"text-lg text-gray-600",children:"To be the global leader in data management solutions, trusted by businesses of all sizes for delivering excellence in data cataloging, cleaning, formatting, and marking."})]})]})})})}function About(){return jsxRuntimeExports.jsx(Layout,{children:jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-white",children:[jsxRuntimeExports.jsx(AboutHero,{}),jsxRuntimeExports.jsx(AboutContent,{}),jsxRuntimeExports.jsx(AboutValues,{}),jsxRuntimeExports.jsx(WhyChooseUs$2,{}),jsxRuntimeExports.jsx("div",{className:"bg-purple-700 py-16",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-extrabold text-white mb-4",children:"Join the Neo DataWorks Family"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-purple-100 mb-8 max-w-3xl mx-auto",children:"From startups to industry leaders, we partner with businesses across the globe to help them make sense of their data. Let us help you turn your data into your most valuable asset."}),jsxRuntimeExports.jsx("a",{href:"/contact",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-purple-700 bg-white hover:bg-purple-50",children:"Contact us today"})]})})]})})}function ContactForm(){const[e,i]=reactExports.useState({name:"",email:"",message:""}),s=a=>{a.preventDefault(),console.log("Form submitted:",e)};return jsxRuntimeExports.jsxs("form",{onSubmit:s,className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Name"}),jsxRuntimeExports.jsx("input",{type:"text",id:"name",value:e.name,onChange:a=>i({...e,name:a.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),jsxRuntimeExports.jsx("input",{type:"email",id:"email",value:e.email,onChange:a=>i({...e,email:a.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700",children:"Message"}),jsxRuntimeExports.jsx("textarea",{id:"message",rows:4,value:e.message,onChange:a=>i({...e,message:a.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500",required:!0})]}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"inline-flex items-center px-4 py-2 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-purple-700 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500",children:[jsxRuntimeExports.jsx(Send,{className:"h-4 w-4 mr-2"}),"Send Message"]})]})}function ContactInfo(){return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Contact Information"}),jsxRuntimeExports.jsxs("div",{className:"mt-4 space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx(Mail,{className:"h-6 w-6 text-purple-700"}),jsxRuntimeExports.jsx("span",{className:"ml-3 text-gray-600",children:"contact@neodataworks.in"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx(Phone,{className:"h-6 w-6 text-purple-700"}),jsxRuntimeExports.jsx("span",{className:"ml-3 text-gray-600",children:"+1- 708-418-6560"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx(MapPin,{className:"h-6 w-6 text-purple-700"}),jsxRuntimeExports.jsx("span",{className:"ml-3 text-gray-600",children:"2398 East Camelback Road, Suite 1100, Phoenix, Arizona 85016"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Business Hours"}),jsxRuntimeExports.jsx("div",{className:"mt-4 space-y-2",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx(Clock,{className:"h-6 w-6 text-purple-700"}),jsxRuntimeExports.jsxs("div",{className:"ml-3",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Monday - Friday: 9:00 AM - 6:00 PM (EST)"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Saturday - Sunday: Closed"})]})]})})]})]})}function Contact(){return jsxRuntimeExports.jsx(Layout,{children:jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gray-50",children:[jsxRuntimeExports.jsxs("div",{className:"relative bg-purple-800 py-16",children:[jsxRuntimeExports.jsxs("div",{className:"absolute inset-0",children:[jsxRuntimeExports.jsx("img",{className:"w-full h-full object-cover opacity-20",src:"https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?auto=format&fit=crop&q=80",alt:"Contact background"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-900 to-purple-800/90 mix-blend-multiply"})]}),jsxRuntimeExports.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl font-extrabold tracking-tight text-white sm:text-5xl lg:text-6xl",children:"Contact Us"}),jsxRuntimeExports.jsx("p",{className:"mt-6 max-w-3xl text-xl text-purple-100",children:"We'd love to hear from you! Whether you have a question, need more information about our services, or want to discuss how we can help streamline your data, our team is here to assist you."})]})]}),jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2",children:[jsxRuntimeExports.jsxs("div",{className:"p-8",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Get in Touch"}),jsxRuntimeExports.jsx(ContactForm,{})]}),jsxRuntimeExports.jsx("div",{className:"bg-gray-50 p-8",children:jsxRuntimeExports.jsx(ContactInfo,{})})]})})}),jsxRuntimeExports.jsx("div",{className:"bg-purple-700 mt-16",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8 text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-extrabold text-white",children:"Ready to Start?"}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-xl text-purple-100",children:"Let's discuss how Neo DataWorks can help your business become more efficient and data-driven."}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-lg text-purple-100",children:"We look forward to working with you."})]})})]})})}function Terms(){return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gray-50",children:[jsxRuntimeExports.jsx("div",{className:"bg-purple-800 py-16",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl font-extrabold tracking-tight text-white",children:"Terms & Conditions"}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-xl text-purple-100",children:"Last updated: March 1, 2024"})]})}),jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:jsxRuntimeExports.jsx("div",{className:"bg-white shadow-lg rounded-lg p-8",children:jsxRuntimeExports.jsxs("div",{className:"prose max-w-none",children:[jsxRuntimeExports.jsx("h2",{children:"1. Introduction"}),jsxRuntimeExports.jsx("p",{children:"These Terms and Conditions govern your use of DataEntry Pro's services and website. By accessing or using our services, you agree to be bound by these terms."}),jsxRuntimeExports.jsx("h2",{children:"2. Definitions"}),jsxRuntimeExports.jsx("p",{children:'"Service" refers to the data entry management platform provided by DataEntry Pro. "User" refers to any individual or entity that accesses or uses the Service.'}),jsxRuntimeExports.jsx("h2",{children:"3. Use License"}),jsxRuntimeExports.jsx("p",{children:"Permission is granted to temporarily access and use the Service for personal or business purposes, subject to these Terms and Conditions."}),jsxRuntimeExports.jsx("h2",{children:"4. Data Privacy"}),jsxRuntimeExports.jsx("p",{children:"Your use of the Service is also governed by our Privacy Policy. You agree to our collection and use of information as detailed in that policy."}),jsxRuntimeExports.jsx("h2",{children:"5. User Obligations"}),jsxRuntimeExports.jsx("p",{children:"Users must maintain the confidentiality of their account credentials and are responsible for all activities under their account."}),jsxRuntimeExports.jsx("h2",{children:"6. Intellectual Property"}),jsxRuntimeExports.jsx("p",{children:"All content, features, and functionality of the Service are owned by DataEntry Pro and are protected by international copyright, trademark, and other intellectual property laws."}),jsxRuntimeExports.jsx("h2",{children:"7. Limitation of Liability"}),jsxRuntimeExports.jsx("p",{children:"DataEntry Pro shall not be liable for any indirect, incidental, special, consequential, or punitive damages resulting from your use of the Service."}),jsxRuntimeExports.jsx("h2",{children:"8. Changes to Terms"}),jsxRuntimeExports.jsx("p",{children:"We reserve the right to modify these terms at any time. Users will be notified of any changes through the Service."}),jsxRuntimeExports.jsx("h2",{children:"9. Governing Law"}),jsxRuntimeExports.jsx("p",{children:"These terms shall be governed by and construed in accordance with the laws of the United States, without regard to its conflict of law provisions."}),jsxRuntimeExports.jsx("h2",{children:"10. Contact Information"}),jsxRuntimeExports.jsx("p",{children:"Questions about these Terms and Conditions should be sent to us at legal@dataentrypro.com."})]})})})]})}function NotFound(){return jsxRuntimeExports.jsx(Layout,{children:jsxRuntimeExports.jsx("div",{className:"min-h-[80vh] bg-gradient-to-b from-purple-50 to-white flex items-center",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 text-center",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-10",children:jsxRuntimeExports.jsx("div",{className:"text-[20rem] font-bold text-purple-900",children:"404"})}),jsxRuntimeExports.jsxs("div",{className:"relative z-10",children:[jsxRuntimeExports.jsx("h1",{className:"text-6xl font-bold text-purple-900 mb-8",children:"Page Not Found"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-gray-600 mb-12 max-w-2xl mx-auto",children:"Oops! It seems like the page you're looking for has been moved or doesn't exist. Let's get you back on track."}),jsxRuntimeExports.jsxs("div",{className:"flex justify-center gap-6",children:[jsxRuntimeExports.jsxs(Link,{to:"/",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-purple-700 hover:bg-purple-700 transition-colors",children:[jsxRuntimeExports.jsx(Home$1,{className:"mr-2 h-5 w-5"}),"Back to Home"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>window.history.back(),className:"inline-flex items-center px-6 py-3 border border-gray-300 text-base font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"mr-2 h-5 w-5"}),"Go Back"]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-16",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Looking for something specific?"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-3xl mx-auto",children:[jsxRuntimeExports.jsxs(Link,{to:"/about",className:"p-6 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"About Us"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Learn more about our company and mission"})]}),jsxRuntimeExports.jsxs(Link,{to:"/contact",className:"p-6 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Contact"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Get in touch with our support team"})]}),jsxRuntimeExports.jsxs(Link,{to:"/login",className:"p-6 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Login"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Access your employee portal"})]})]})]})]})})})}function Hero(){return jsxRuntimeExports.jsxs("div",{className:"relative bg-gradient-to-b from-purple-900 to-purple-800 py-32",children:[jsxRuntimeExports.jsxs("div",{className:"absolute inset-0",children:[jsxRuntimeExports.jsx("img",{className:"w-full h-full object-cover opacity-10",src:"https://images.unsplash.com/photo-1558494949-ef010cbdcc31?auto=format&fit=crop&q=80",alt:"Technology circuit background"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239BA3AF' fill-opacity='0.1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-900 to-purple-800/90 mix-blend-multiply"})]}),jsxRuntimeExports.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl font-extrabold tracking-tight text-white sm:text-5xl lg:text-6xl",children:"Data Entry Services"}),jsxRuntimeExports.jsx("p",{className:"mt-6 max-w-3xl mx-auto text-xl text-white",children:"In today's data-driven business landscape, maintaining accurate, organized, and up-to-date information is critical to operational success. Our data entry services combine the efficiency of advanced technology with the accuracy and insight of skilled professionals."})]})})]})}function ValueAddSection(){const e=[{icon:Bot,title:"Advanced Technology",features:["Automated Data Processing for large datasets","OCR (Optical Character Recognition) technology","Data Validation Tools for consistency"]},{icon:Users,title:"Human Expertise",features:["Contextual Understanding of complex data","Quality Assurance and cross-checking","Custom Formatting to meet requirements"]},{icon:Zap,title:"Hybrid Approach",features:["Faster turnaround times","Enhanced quality control","Cost-effective solutions"]}];return jsxRuntimeExports.jsxs("div",{className:"relative py-24 bg-gradient-to-b from-gray-50 to-white",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0",children:jsxRuntimeExports.jsx("img",{className:"w-full h-full object-cover opacity-5",src:"https://images.unsplash.com/photo-1518770660439-4636190af475?auto=format&fit=crop&q=80",alt:"Technology background"})}),jsxRuntimeExports.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"How We Add Value"}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-xl text-gray-600",children:"We go beyond basic data entry to provide comprehensive solutions"})]}),jsxRuntimeExports.jsx("div",{className:"mt-16 grid grid-cols-1 gap-12 md:grid-cols-3",children:e.map(i=>jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl shadow-xl overflow-hidden transform hover:-translate-y-2 transition-all duration-300",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-purple-700 to-purple-700 p-6",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-white/10 rounded-lg flex items-center justify-center mb-4",children:jsxRuntimeExports.jsx(i.icon,{className:"h-6 w-6 text-white"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:i.title})]}),jsxRuntimeExports.jsx("div",{className:"p-6",children:jsxRuntimeExports.jsx("ul",{className:"space-y-4",children:i.features.map(s=>jsxRuntimeExports.jsxs("li",{className:"flex items-start text-gray-600",children:[jsxRuntimeExports.jsx("span",{className:"mr-2 text-purple-700",children:""}),s]},s))})})]},i.title))})]})]})}function ServicesOffered(){const e=[{icon:FileText,title:"Manual Data Entry",description:"Keying in data from physical or digital sources with precision"},{icon:Database,title:"Data Digitization",description:"Converting paper-based records into digital formats for easy access"},{icon:Eraser,title:"Data Cleaning",description:"Correcting errors and inconsistencies in datasets"},{icon:TableProperties,title:"Data Formatting",description:"Organizing information to suit specific business needs"},{icon:RefreshCcw,title:"Database Updates",description:"Regularly updating CRM systems and inventory records"},{icon:Receipt,title:"Invoice Processing",description:"Managing financial information accurately and efficiently"}];return jsxRuntimeExports.jsxs("div",{className:"relative py-24 bg-gradient-to-b from-white to-gray-50",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 opacity-5",children:jsxRuntimeExports.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23000000' fill-opacity='0.1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),jsxRuntimeExports.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"What We Handle"}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-xl text-gray-600",children:"Comprehensive data entry services for all your business needs"})]}),jsxRuntimeExports.jsx("div",{className:"mt-16 grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3",children:e.map(i=>jsxRuntimeExports.jsxs("div",{className:"relative bg-white p-8 rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-purple-50 rounded-bl-full"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-purple-700 rounded-lg flex items-center justify-center mb-6",children:jsxRuntimeExports.jsx(i.icon,{className:"h-6 w-6 text-white"})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:i.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:i.description})]})]},i.title))})]})]})}function WorkProcess(){const e=[{icon:ClipboardList,title:"Understanding Your Needs",description:"Detailed consultation to understand your requirements and challenges"},{icon:Settings,title:"Custom Workflow Design",description:"Tailored workflow balancing technology and human expertise"},{icon:CheckSquare,title:"Execution & QA",description:"Data processing with multiple validation checks"},{icon:MessageSquare,title:"Delivery & Feedback",description:"Final delivery and continuous improvement based on feedback"}];return jsxRuntimeExports.jsxs("div",{className:"relative py-24 bg-gradient-to-b from-white to-gray-50",children:[jsxRuntimeExports.jsxs("div",{className:"absolute inset-0",children:[jsxRuntimeExports.jsx("img",{className:"w-full h-full object-cover opacity-5",src:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?auto=format&fit=crop&q=80",alt:"Technology pattern"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-white/80"})]}),jsxRuntimeExports.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"How We Work"}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-xl text-gray-600",children:"Our proven process ensures quality and efficiency"})]}),jsxRuntimeExports.jsx("div",{className:"mt-16",children:jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-4",children:e.map((i,s)=>jsxRuntimeExports.jsxs("div",{className:"relative",children:[s<e.length-1&&jsxRuntimeExports.jsx("div",{className:"hidden md:block absolute top-12 left-full w-full h-0.5 bg-gradient-to-r from-purple-200 to-purple-400"}),jsxRuntimeExports.jsxs("div",{className:"relative bg-white rounded-xl shadow-lg p-8 hover:shadow-xl transition-shadow duration-300",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-700 rounded-full flex items-center justify-center mb-6",children:jsxRuntimeExports.jsx(i.icon,{className:"h-6 w-6 text-white"})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:i.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:i.description})]})]},i.title))})})]})]})}function DataEntry(){const e=[{icon:Shield,title:"Accuracy You Can Trust",description:"Rigorous quality checks and validation processes ensure error-free data"},{icon:Zap,title:"Speed and Scalability",description:"Handle large volumes of data quickly without compromising quality"},{icon:Lock,title:"Data Security",description:"Robust security protocols protect your sensitive information"},{icon:Settings,title:"Tailored Solutions",description:"Customized services to match your specific business requirements"},{icon:Award,title:"Affordable Excellence",description:"High-quality services at competitive rates for businesses of all sizes"}];return jsxRuntimeExports.jsxs(Layout,{children:[jsxRuntimeExports.jsx(Hero,{}),jsxRuntimeExports.jsx(ValueAddSection,{}),jsxRuntimeExports.jsx(ServicesOffered,{}),jsxRuntimeExports.jsx("div",{className:"bg-white py-24",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Why Choose Neo DataWorks?"}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-xl text-gray-600",children:"Experience the difference of working with data entry experts"})]}),jsxRuntimeExports.jsx("div",{className:"mt-16 grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3",children:e.map(i=>jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 rounded-xl p-8 hover:shadow-lg transition-shadow",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-purple-700 rounded-lg flex items-center justify-center mb-4",children:jsxRuntimeExports.jsx(i.icon,{className:"h-6 w-6 text-white"})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:i.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:i.description})]},i.title))})]})}),jsxRuntimeExports.jsx(WorkProcess,{}),jsxRuntimeExports.jsx("div",{className:"bg-purple-700",children:jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto py-16 px-4 sm:px-6 lg:px-8",children:jsxRuntimeExports.jsx("div",{className:"bg-purple-800 rounded-2xl shadow-xl overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"px-6 py-12 sm:px-12 lg:py-16",children:jsxRuntimeExports.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-extrabold text-white sm:text-4xl",children:"Transform Your Data Today"}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-xl text-purple-100",children:"Don't let unstructured data hold your business back. Let's structure your data for success."}),jsxRuntimeExports.jsx("div",{className:"mt-8",children:jsxRuntimeExports.jsxs("a",{href:"/contact",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-purple-700 bg-white hover:bg-purple-50 transition-colors",children:["Get Started",jsxRuntimeExports.jsx(ArrowRight,{className:"ml-2 h-5 w-5"})]})})]})})})})})]})}function ProcessingHero(){return jsxRuntimeExports.jsxs("div",{className:"relative bg-gradient-to-b from-gray-900 to-purple-900 py-32",children:[jsxRuntimeExports.jsxs("div",{className:"absolute inset-0",children:[jsxRuntimeExports.jsx("img",{className:"w-full h-full object-cover opacity-20",src:"https://images.unsplash.com/photo-1451187580459-43490279c0fa?auto=format&fit=crop&q=80",alt:"Data visualization"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900 to-purple-900/90 mix-blend-multiply",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23FFFFFF' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})]}),jsxRuntimeExports.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:jsxRuntimeExports.jsxs("div",{className:"lg:grid lg:grid-cols-2 lg:gap-8 items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl font-extrabold tracking-tight text-white sm:text-5xl lg:text-6xl",children:"Data Processing Services"}),jsxRuntimeExports.jsx("p",{className:"mt-6 text-xl text-gray-300",children:"Transform raw data into actionable insights that drive decision-making and operational efficiency. Our advanced processing solutions help businesses harness the full potential of their data."})]}),jsxRuntimeExports.jsx("div",{className:"mt-12 lg:mt-0",children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("img",{className:"rounded-lg shadow-xl ring-1 ring-white/10",src:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?auto=format&fit=crop&q=80",alt:"Data processing visualization"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 rounded-lg ring-1 ring-inset ring-white/10"})]})})]})})]})}function ProcessingBenefits(){const e=[{icon:Brain,title:"Improved Decision-Making",description:"Transform raw data into clear insights that empower leaders to make informed strategic decisions."},{icon:Zap,title:"Operational Efficiency",description:"Streamline workflows and reduce redundancies with organized, processed data."},{icon:ShieldCheck,title:"Enhanced Accuracy",description:"Eliminate errors through robust validation and cleaning processes."},{icon:TrendingUp,title:"Regulatory Compliance",description:"Ensure data processing aligns with industry regulations and standards."}];return jsxRuntimeExports.jsxs("div",{className:"relative py-24 overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-50 to-white"}),jsxRuntimeExports.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Why Data Processing Matters"}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-xl text-gray-600 max-w-3xl mx-auto",children:"Data processing transforms raw information into structured, usable formats that add real value to your business operations."})]}),jsxRuntimeExports.jsx("div",{className:"mt-20",children:jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 gap-12 lg:grid-cols-4",children:e.map(i=>jsxRuntimeExports.jsxs("div",{className:"relative group",children:[jsxRuntimeExports.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-purple-700 to-purple-400 rounded-lg blur opacity-25 group-hover:opacity-75 transition duration-300"}),jsxRuntimeExports.jsxs("div",{className:"relative bg-white p-8 rounded-lg shadow-lg",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-purple-700 rounded-lg mb-6",children:jsxRuntimeExports.jsx(i.icon,{className:"w-6 h-6 text-white"})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:i.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:i.description})]})]},i.title))})})]})]})}function ProcessingApproach(){return jsxRuntimeExports.jsxs("div",{className:"relative py-24 bg-gradient-to-b from-gray-50 to-white",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0",children:jsxRuntimeExports.jsx("img",{className:"w-full h-full object-cover opacity-5",src:"https://images.unsplash.com/photo-1518770660439-4636190af475?auto=format&fit=crop&q=80",alt:"Technology pattern"})}),jsxRuntimeExports.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:jsxRuntimeExports.jsxs("div",{className:"lg:grid lg:grid-cols-2 lg:gap-16 items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Our Approach to Data Processing"}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-lg text-gray-600",children:"We combine cutting-edge technology with human expertise to deliver efficient, accurate, and tailored data processing solutions that meet your unique business needs."}),jsxRuntimeExports.jsxs("div",{className:"mt-12 space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0",children:jsxRuntimeExports.jsx(Bot,{className:"w-6 h-6 text-purple-700"})}),jsxRuntimeExports.jsxs("div",{className:"ml-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Automated Processing Tools"}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-gray-600",children:"Advanced software handles large datasets quickly and efficiently, utilizing data mining tools, ETL processes, and AI-powered analysis."})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0",children:jsxRuntimeExports.jsx(Users,{className:"w-6 h-6 text-purple-700"})}),jsxRuntimeExports.jsxs("div",{className:"ml-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Human Expertise"}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-gray-600",children:"Our skilled professionals provide critical thinking, quality assurance, and customization to ensure optimal results."})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0",children:jsxRuntimeExports.jsx(Workflow,{className:"w-6 h-6 text-purple-700"})}),jsxRuntimeExports.jsxs("div",{className:"ml-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Hybrid Model"}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-gray-600",children:"By combining automation with human oversight, we deliver faster completion times and higher accuracy at cost-effective rates."})]})]})]})]}),jsxRuntimeExports.jsx("div",{className:"mt-12 lg:mt-0",children:jsxRuntimeExports.jsxs("div",{className:"relative rounded-lg overflow-hidden",children:[jsxRuntimeExports.jsx("img",{src:"https://images.unsplash.com/photo-1551434678-e076c223a692?auto=format&fit=crop&q=80",alt:"Team collaboration",className:"w-full rounded-lg shadow-lg"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-700/20 to-transparent mix-blend-multiply rounded-lg"})]})})]})})]})}function ProcessingServices(){const e=[{icon:FileCheck,title:"Data Cleaning & Validation",description:"Identify and correct inaccuracies, remove duplicates, and ensure data consistency across your systems."},{icon:Database,title:"Data Transformation",description:"Convert raw data into standardized, usable formats compatible with your existing tools and processes."},{icon:GitMerge,title:"Data Integration",description:"Seamlessly merge data from multiple sources into a unified, coherent database system."},{icon:Tags,title:"Classification & Categorization",description:"Organize data into meaningful categories following industry-specific standards."},{icon:BarChart3,title:"Analysis & Reporting",description:"Generate actionable insights through comprehensive reports and intuitive visualizations."},{icon:Shield,title:"Data Security",description:"Protect sensitive information with enterprise-grade encryption and security protocols."}];return jsxRuntimeExports.jsxs("div",{className:"relative py-24 bg-gradient-to-b from-white to-gray-50",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0",children:jsxRuntimeExports.jsx("img",{className:"w-full h-full object-cover opacity-5",src:"https://images.unsplash.com/photo-1451187580459-43490279c0fa?auto=format&fit=crop&q=80",alt:"Technology pattern"})}),jsxRuntimeExports.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Our Data Processing Services"}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-xl text-gray-600 max-w-3xl mx-auto",children:"A comprehensive suite of services designed to transform your raw data into valuable business assets"})]}),jsxRuntimeExports.jsx("div",{className:"mt-20 grid grid-cols-1 gap-12 sm:grid-cols-2 lg:grid-cols-3",children:e.map(i=>jsxRuntimeExports.jsxs("div",{className:"relative group",children:[jsxRuntimeExports.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-purple-700 to-purple-400 rounded-lg blur opacity-25 group-hover:opacity-75 transition duration-300"}),jsxRuntimeExports.jsxs("div",{className:"relative bg-white p-8 rounded-lg shadow-lg",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-purple-700 rounded-lg mb-6",children:jsxRuntimeExports.jsx(i.icon,{className:"w-6 h-6 text-white"})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:i.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:i.description})]})]},i.title))})]})]})}function IndustriesServed$1(){const e=[{icon:Stethoscope,name:"Healthcare",description:"Process patient records, billing information, and clinical data securely and efficiently.",image:"https://images.unsplash.com/photo-1538108149393-fbbd81895907?auto=format&fit=crop&q=80"},{icon:ShoppingCart,name:"E-commerce",description:"Organize product data, customer information, and sales analytics for improved operations.",image:"https://images.unsplash.com/photo-1472851294608-062f824d29cc?auto=format&fit=crop&q=80"},{icon:BadgeDollarSign,name:"Finance",description:"Manage transactional data, compliance records, and financial reports with precision.",image:"https://images.unsplash.com/photo-1450101499163-c8848c66ca85?auto=format&fit=crop&q=80"},{icon:Building2,name:"Manufacturing",description:"Structure operational data for enhanced workflows and efficiency.",image:"https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?auto=format&fit=crop&q=80"},{icon:GraduationCap,name:"Education",description:"Process student records, course enrollments, and academic performance data.",image:"https://images.unsplash.com/photo-1523050854058-8df90110c9f1?auto=format&fit=crop&q=80"},{icon:Truck,name:"Logistics",description:"Optimize supply chain and shipment tracking data for streamlined operations.",image:"https://images.unsplash.com/photo-1494412651409-8963ce7935a7?auto=format&fit=crop&q=80"}];return jsxRuntimeExports.jsx("div",{className:"bg-white py-24",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Industries We Serve"}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-xl text-gray-600",children:"Our data processing solutions are tailored to meet industry-specific challenges"})]}),jsxRuntimeExports.jsx("div",{className:"mt-20 grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3",children:e.map(i=>jsxRuntimeExports.jsxs("div",{className:"group relative overflow-hidden rounded-lg shadow-lg transform transition-all duration-300 hover:-translate-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"absolute inset-0",children:[jsxRuntimeExports.jsx("img",{src:i.image,alt:i.name,className:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-110"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900 via-gray-900/40"})]}),jsxRuntimeExports.jsxs("div",{className:"relative p-8 h-full flex flex-col justify-end",children:[jsxRuntimeExports.jsx("div",{className:"mb-4",children:jsxRuntimeExports.jsx(i.icon,{className:"h-8 w-8 text-white"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:i.name}),jsxRuntimeExports.jsx("p",{className:"text-gray-200",children:i.description})]})]},i.name))})]})})}function WhyChooseUs$1(){const e=[{icon:Users,title:"Domain Expertise",description:"Our team brings extensive experience across various industries, ensuring tailored solutions for every client."},{icon:Zap,title:"Advanced Technology",description:"We leverage cutting-edge tools and technologies to process data quickly and accurately."},{icon:Award,title:"Quality Assurance",description:"Our multi-layered quality control ensures your data is accurate, reliable, and actionable."},{icon:Scale,title:"Scalable Solutions",description:"From small datasets to enterprise-level data, we scale our services to match your needs."},{icon:Shield,title:"Data Security",description:"We implement strict security protocols to protect your sensitive information at every stage."}];return jsxRuntimeExports.jsxs("div",{className:"relative py-24 overflow-hidden bg-gradient-to-b from-gray-50 to-white",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0",children:jsxRuntimeExports.jsx("img",{className:"w-full h-full object-cover opacity-5",src:"https://images.unsplash.com/photo-1558494949-ef010cbdcc31?auto=format&fit=crop&q=80",alt:"Technology background"})}),jsxRuntimeExports.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:jsxRuntimeExports.jsxs("div",{className:"lg:grid lg:grid-cols-2 lg:gap-16 items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Why Choose Neo DataWorks"}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-lg text-gray-600",children:"We combine industry expertise with cutting-edge technology to deliver superior data processing solutions that drive business success."}),jsxRuntimeExports.jsx("div",{className:"mt-12 space-y-8",children:e.map(i=>jsxRuntimeExports.jsxs("div",{className:"flex items-start",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0",children:jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-12 w-12 rounded-md bg-purple-700 text-white",children:jsxRuntimeExports.jsx(i.icon,{className:"h-6 w-6"})})}),jsxRuntimeExports.jsxs("div",{className:"ml-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:i.title}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-gray-600",children:i.description})]})]},i.title))})]}),jsxRuntimeExports.jsx("div",{className:"mt-12 lg:mt-0",children:jsxRuntimeExports.jsxs("div",{className:"relative rounded-lg overflow-hidden",children:[jsxRuntimeExports.jsx("img",{src:"https://images.unsplash.com/photo-1551434678-e076c223a692?auto=format&fit=crop&q=80",alt:"Team collaboration",className:"w-full rounded-lg shadow-lg"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-700/20 to-transparent mix-blend-multiply rounded-lg"})]})})]})})]})}function ProcessingWorkflow(){const e=[{icon:MessageSquare,title:"Initial Consultation",description:"We begin by understanding your business needs and data challenges through detailed discussions."},{icon:Settings,title:"Custom Solution Design",description:"Our team develops a tailored processing workflow that aligns with your goals and requirements."},{icon:CheckSquare,title:"Processing & Validation",description:"We process your data using our advanced tools while ensuring accuracy through rigorous validation."},{icon:BarChart,title:"Analysis & Delivery",description:"Final results are analyzed, formatted to your specifications, and delivered with comprehensive documentation."}];return jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-b from-gray-50 to-white py-24",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Our Process"}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-xl text-gray-600",children:"A streamlined workflow designed to deliver exceptional results"})]}),jsxRuntimeExports.jsx("div",{className:"mt-20",children:jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 gap-12 md:grid-cols-4",children:e.map((i,s)=>jsxRuntimeExports.jsxs("div",{className:"relative",children:[s<e.length-1&&jsxRuntimeExports.jsx("div",{className:"hidden md:block absolute top-12 left-full w-full h-0.5 bg-gradient-to-r from-purple-200 to-purple-400"}),jsxRuntimeExports.jsxs("div",{className:"relative bg-white rounded-xl shadow-lg p-8 hover:shadow-xl transition-shadow duration-300",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-700 rounded-full flex items-center justify-center mb-6",children:jsxRuntimeExports.jsx(i.icon,{className:"h-6 w-6 text-white"})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:i.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:i.description})]})]},i.title))})})]})})}function DataProcessing(){return jsxRuntimeExports.jsxs(Layout,{children:[jsxRuntimeExports.jsx(ProcessingHero,{}),jsxRuntimeExports.jsx(ProcessingBenefits,{}),jsxRuntimeExports.jsx(ProcessingApproach,{}),jsxRuntimeExports.jsx(ProcessingServices,{}),jsxRuntimeExports.jsx(IndustriesServed$1,{}),jsxRuntimeExports.jsx(WhyChooseUs$1,{}),jsxRuntimeExports.jsx(ProcessingWorkflow,{}),jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-purple-700 to-purple-900",children:jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto py-16 px-4 sm:px-6 lg:px-8",children:jsxRuntimeExports.jsx("div",{className:"bg-purple-800/50 rounded-2xl shadow-xl overflow-hidden backdrop-blur-sm",children:jsxRuntimeExports.jsx("div",{className:"px-6 py-12 sm:px-12 lg:py-16",children:jsxRuntimeExports.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-extrabold text-white sm:text-4xl",children:"Turn Your Data into a Competitive Advantage"}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-xl text-purple-100",children:"Let's transform your raw data into actionable insights that drive growth."}),jsxRuntimeExports.jsx("div",{className:"mt-8",children:jsxRuntimeExports.jsx("a",{href:"/contact",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-purple-700 bg-white hover:bg-purple-50 transition-colors",children:"Get Started Today"})})]})})})})})]})}function AnalysisHero(){return jsxRuntimeExports.jsxs("div",{className:"relative bg-gradient-to-b from-gray-900 to-purple-900 py-32",children:[jsxRuntimeExports.jsxs("div",{className:"absolute inset-0",children:[jsxRuntimeExports.jsx("img",{className:"w-full h-full object-cover opacity-20",src:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?auto=format&fit=crop&q=80",alt:"Data visualization"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900 to-purple-900/90 mix-blend-multiply"})]}),jsxRuntimeExports.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:jsxRuntimeExports.jsxs("div",{className:"lg:grid lg:grid-cols-2 lg:gap-8 items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl font-extrabold tracking-tight text-white sm:text-5xl lg:text-6xl",children:"Data Analysis Services"}),jsxRuntimeExports.jsx("p",{className:"mt-6 text-xl text-gray-300",children:"Transform your raw data into actionable insights that drive informed decisions, identify trends, and uncover opportunities for growth."})]}),jsxRuntimeExports.jsx("div",{className:"mt-12 lg:mt-0",children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("img",{className:"rounded-lg shadow-xl ring-1 ring-white/10",src:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?auto=format&fit=crop&q=80",alt:"Data analysis visualization"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 rounded-lg ring-1 ring-inset ring-white/10"})]})})]})})]})}function AnalysisBenefits(){const e=[{icon:Brain,title:"Data-Driven Decisions",description:"Move from intuition-based to evidence-based strategies, reducing risks and improving outcomes."},{icon:TrendingUp,title:"Competitive Advantage",description:"Stay ahead of market changes and anticipate customer needs through trend analysis."},{icon:Zap,title:"Operational Efficiency",description:"Identify inefficiencies and optimize resource allocation for streamlined processes."},{icon:Users,title:"Customer Insights",description:"Understand customer behaviors and preferences to deliver personalized experiences."}];return jsxRuntimeExports.jsxs("div",{className:"relative py-24 overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-50 to-white"}),jsxRuntimeExports.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Why Data Analysis is Essential"}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-xl text-gray-600 max-w-3xl mx-auto",children:"Unlock the power of your data to drive business growth and innovation"})]}),jsxRuntimeExports.jsx("div",{className:"mt-20",children:jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 gap-12 lg:grid-cols-4",children:e.map(i=>jsxRuntimeExports.jsxs("div",{className:"relative group",children:[jsxRuntimeExports.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-purple-700 to-purple-400 rounded-lg blur opacity-25 group-hover:opacity-75 transition duration-300"}),jsxRuntimeExports.jsxs("div",{className:"relative bg-white p-8 rounded-lg shadow-lg",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-purple-700 rounded-lg mb-6",children:jsxRuntimeExports.jsx(i.icon,{className:"w-6 h-6 text-white"})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:i.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:i.description})]})]},i.title))})})]})]})}function AnalysisServices(){const e=[{icon:LineChart,title:"Descriptive Analysis",description:"Understand historical data patterns and trends through comprehensive data summarization and visualization."},{icon:Search,title:"Diagnostic Analysis",description:"Identify root causes of past performance issues and provide actionable recommendations."},{icon:Lightbulb,title:"Predictive Analysis",description:"Forecast future trends and behaviors using advanced data models and machine learning."},{icon:BarChart2,title:"Prescriptive Analysis",description:"Get strategic recommendations and simulate scenarios to determine optimal actions."},{icon:Activity,title:"Real-Time Analysis",description:"Monitor live data streams for immediate insights and quick decision-making."},{icon:PieChart,title:"Custom Reports & Dashboards",description:"Access tailored reports and interactive dashboards for ongoing data monitoring."}];return jsxRuntimeExports.jsxs("div",{className:"relative py-24 bg-gradient-to-b from-white to-gray-50",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0",children:jsxRuntimeExports.jsx("img",{className:"w-full h-full object-cover opacity-5",src:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?auto=format&fit=crop&q=80",alt:"Analysis background"})}),jsxRuntimeExports.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Our Analysis Services"}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-xl text-gray-600 max-w-3xl mx-auto",children:"Comprehensive analytical solutions to transform your data into actionable insights"})]}),jsxRuntimeExports.jsx("div",{className:"mt-20 grid grid-cols-1 gap-12 sm:grid-cols-2 lg:grid-cols-3",children:e.map(i=>jsxRuntimeExports.jsxs("div",{className:"relative group",children:[jsxRuntimeExports.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-purple-700 to-purple-400 rounded-lg blur opacity-25 group-hover:opacity-75 transition duration-300"}),jsxRuntimeExports.jsxs("div",{className:"relative bg-white p-8 rounded-lg shadow-lg",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-purple-700 rounded-lg mb-6",children:jsxRuntimeExports.jsx(i.icon,{className:"w-6 h-6 text-white"})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:i.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:i.description})]})]},i.title))})]})]})}function AnalysisApproach(){return jsxRuntimeExports.jsxs("div",{className:"relative py-24 bg-gradient-to-b from-gray-50 to-white",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0",children:jsxRuntimeExports.jsx("img",{className:"w-full h-full object-cover opacity-5",src:"https://images.unsplash.com/photo-1518770660439-4636190af475?auto=format&fit=crop&q=80",alt:"Technology pattern"})}),jsxRuntimeExports.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:jsxRuntimeExports.jsxs("div",{className:"lg:grid lg:grid-cols-2 lg:gap-16 items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Our Approach to Data Analysis"}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-lg text-gray-600",children:"We combine cutting-edge analytical tools with expert analysis to deliver insights that drive business success."}),jsxRuntimeExports.jsxs("div",{className:"mt-12 space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0",children:jsxRuntimeExports.jsx(Bot,{className:"w-6 h-6 text-purple-700"})}),jsxRuntimeExports.jsxs("div",{className:"ml-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Advanced Analytical Tools"}),jsxRuntimeExports.jsxs("ul",{className:"mt-2 text-gray-600 space-y-2",children:[jsxRuntimeExports.jsx("li",{children:" Statistical analysis for understanding key metrics"}),jsxRuntimeExports.jsx("li",{children:" Machine learning for predictive insights"}),jsxRuntimeExports.jsx("li",{children:" Interactive visualization tools"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0",children:jsxRuntimeExports.jsx(Users,{className:"w-6 h-6 text-purple-700"})}),jsxRuntimeExports.jsxs("div",{className:"ml-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Expert Analysis"}),jsxRuntimeExports.jsxs("ul",{className:"mt-2 text-gray-600 space-y-2",children:[jsxRuntimeExports.jsx("li",{children:" Industry-specific expertise"}),jsxRuntimeExports.jsx("li",{children:" Contextual understanding of data"}),jsxRuntimeExports.jsx("li",{children:" Strategic recommendations"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0",children:jsxRuntimeExports.jsx(Workflow,{className:"w-6 h-6 text-purple-700"})}),jsxRuntimeExports.jsxs("div",{className:"ml-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Collaborative Process"}),jsxRuntimeExports.jsxs("ul",{className:"mt-2 text-gray-600 space-y-2",children:[jsxRuntimeExports.jsx("li",{children:" Regular communication and updates"}),jsxRuntimeExports.jsx("li",{children:" Iterative refinement of insights"}),jsxRuntimeExports.jsx("li",{children:" Alignment with business goals"})]})]})]})]})]}),jsxRuntimeExports.jsx("div",{className:"mt-12 lg:mt-0",children:jsxRuntimeExports.jsxs("div",{className:"relative rounded-lg overflow-hidden",children:[jsxRuntimeExports.jsx("img",{src:"https://images.unsplash.com/photo-1551434678-e076c223a692?auto=format&fit=crop&q=80",alt:"Team collaboration",className:"w-full rounded-lg shadow-lg"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-700/20 to-transparent mix-blend-multiply rounded-lg"})]})})]})})]})}const industries=[{icon:ShoppingCart,name:"Retail and E-commerce",description:"Understand customer behavior, optimize inventory, and enhance sales strategies.",image:"https://images.unsplash.com/photo-1472851294608-062f824d29cc?auto=format&fit=crop&q=80"},{icon:Stethoscope,name:"Healthcare",description:"Analyze patient outcomes, operational efficiency, and resource allocation.",image:"https://images.unsplash.com/photo-1538108149393-fbbd81895907?auto=format&fit=crop&q=80"},{icon:BadgeDollarSign,name:"Finance",description:"Monitor market trends, assess risks, and optimize investment strategies.",image:"https://images.unsplash.com/photo-1450101499163-c8848c66ca85?auto=format&fit=crop&q=80"},{icon:Building2,name:"Manufacturing",description:"Improve supply chain management, production efficiency, and quality control.",image:"https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?auto=format&fit=crop&q=80"},{icon:GraduationCap,name:"Education",description:"Evaluate student performance, enrollment trends, and program effectiveness.",image:"https://images.unsplash.com/photo-1523050854058-8df90110c9f1?auto=format&fit=crop&q=80"},{icon:Truck,name:"Logistics",description:"Optimize routes, reduce costs, and improve delivery times.",image:"https://images.unsplash.com/photo-1494412651409-8963ce7935a7?auto=format&fit=crop&q=80"}];function IndustriesServed(){return jsxRuntimeExports.jsx("div",{className:"bg-white py-24",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Industries We Serve"}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-xl text-gray-600",children:"Our data analysis solutions are tailored to meet industry-specific challenges"})]}),jsxRuntimeExports.jsx("div",{className:"mt-20 grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3",children:industries.map(e=>jsxRuntimeExports.jsxs("div",{className:"group relative overflow-hidden rounded-lg shadow-lg transform transition-all duration-300 hover:-translate-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"absolute inset-0",children:[jsxRuntimeExports.jsx("img",{src:e.image,alt:e.name,className:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-110"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900 via-gray-900/40"})]}),jsxRuntimeExports.jsxs("div",{className:"relative p-8 h-full flex flex-col justify-end",children:[jsxRuntimeExports.jsx("div",{className:"mb-4",children:jsxRuntimeExports.jsx(e.icon,{className:"h-8 w-8 text-white"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:e.name}),jsxRuntimeExports.jsx("p",{className:"text-gray-200",children:e.description})]})]},e.name))})]})})}const reasons=[{icon:Settings,title:"Custom Solutions",description:"We tailor our analysis to your unique business needs, ensuring relevant and actionable insights."},{icon:Shield,title:"Advanced Technology",description:"From AI-driven analytics to interactive dashboards, we utilize cutting-edge tools to deliver high-quality results."},{icon:Users,title:"Expertise Across Domains",description:"Our team combines data science expertise with industry-specific knowledge for targeted insights."},{icon:FileText,title:"Comprehensive Reporting",description:"We provide clear, concise, and visually engaging reports, making complex data easy to understand."},{icon:Award,title:"Data Security",description:"Your data's confidentiality and security are our top priorities. We implement strict protocols to protect sensitive information."}];function WhyChooseUs(){return jsxRuntimeExports.jsxs("div",{className:"relative py-24 overflow-hidden bg-gradient-to-b from-gray-50 to-white",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0",children:jsxRuntimeExports.jsx("img",{className:"w-full h-full object-cover opacity-5",src:"https://images.unsplash.com/photo-1558494949-ef010cbdcc31?auto=format&fit=crop&q=80",alt:"Technology background"})}),jsxRuntimeExports.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:jsxRuntimeExports.jsxs("div",{className:"lg:grid lg:grid-cols-2 lg:gap-16 items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Why Choose Neo DataWorks"}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-lg text-gray-600",children:"We combine industry expertise with cutting-edge technology to deliver superior data analysis solutions that drive business success."}),jsxRuntimeExports.jsx("div",{className:"mt-12 space-y-8",children:reasons.map(e=>jsxRuntimeExports.jsxs("div",{className:"flex items-start",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0",children:jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-12 w-12 rounded-md bg-purple-700 text-white",children:jsxRuntimeExports.jsx(e.icon,{className:"h-6 w-6"})})}),jsxRuntimeExports.jsxs("div",{className:"ml-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.title}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-gray-600",children:e.description})]})]},e.title))})]}),jsxRuntimeExports.jsx("div",{className:"mt-12 lg:mt-0",children:jsxRuntimeExports.jsxs("div",{className:"relative rounded-lg overflow-hidden",children:[jsxRuntimeExports.jsx("img",{src:"https://images.unsplash.com/photo-1551434678-e076c223a692?auto=format&fit=crop&q=80",alt:"Team collaboration",className:"w-full rounded-lg shadow-lg"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-700/20 to-transparent mix-blend-multiply rounded-lg"})]})})]})})]})}const steps=[{icon:MessageSquare,title:"Understanding Your Needs",description:"We begin by identifying your business goals and the questions you need answers to."},{icon:Database,title:"Data Preparation",description:"Raw data is cleaned, validated, and structured for analysis."},{icon:BarChart,title:"Analysis Execution",description:"We apply advanced techniques to uncover trends, patterns, and insights."},{icon:LineChart,title:"Results & Support",description:"Insights are delivered through detailed reports with ongoing assistance to refine strategies."}];function AnalysisWorkflow(){return jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-b from-gray-50 to-white py-24",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"How It Works"}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-xl text-gray-600",children:"Our proven workflow ensures high-quality insights and actionable results"})]}),jsxRuntimeExports.jsx("div",{className:"mt-20",children:jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 gap-12 md:grid-cols-4",children:steps.map((e,i)=>jsxRuntimeExports.jsxs("div",{className:"relative",children:[i<steps.length-1&&jsxRuntimeExports.jsx("div",{className:"hidden md:block absolute top-12 left-full w-full h-0.5 bg-gradient-to-r from-purple-200 to-purple-400"}),jsxRuntimeExports.jsxs("div",{className:"relative bg-white rounded-xl shadow-lg p-8 hover:shadow-xl transition-shadow duration-300",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-700 rounded-full flex items-center justify-center mb-6",children:jsxRuntimeExports.jsx(e.icon,{className:"h-6 w-6 text-white"})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:e.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:e.description})]})]},e.title))})})]})})}function DataAnalysis(){return jsxRuntimeExports.jsxs(Layout,{children:[jsxRuntimeExports.jsx(AnalysisHero,{}),jsxRuntimeExports.jsx(AnalysisBenefits,{}),jsxRuntimeExports.jsx(AnalysisApproach,{}),jsxRuntimeExports.jsx(AnalysisServices,{}),jsxRuntimeExports.jsx(IndustriesServed,{}),jsxRuntimeExports.jsx(WhyChooseUs,{}),jsxRuntimeExports.jsx(AnalysisWorkflow,{}),jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-purple-700 to-purple-900",children:jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto py-16 px-4 sm:px-6 lg:px-8",children:jsxRuntimeExports.jsx("div",{className:"bg-purple-800/50 rounded-2xl shadow-xl overflow-hidden backdrop-blur-sm",children:jsxRuntimeExports.jsx("div",{className:"px-6 py-12 sm:px-12 lg:py-16",children:jsxRuntimeExports.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-extrabold text-white sm:text-4xl",children:"Unlock the Power of Your Data"}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-xl text-purple-100",children:"Transform your raw data into actionable insights that drive growth and innovation."}),jsxRuntimeExports.jsx("div",{className:"mt-8",children:jsxRuntimeExports.jsx("a",{href:"/contact",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-purple-700 bg-white hover:bg-purple-50 transition-colors",children:"Start Your Data Journey"})})]})})})})})]})}function ProtectedRoute({children:e,role:i}){const{user:s,role:a,loading:o}=useAuth();return o?jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-700"})}):!s||a!==i?jsxRuntimeExports.jsx(Navigate,{to:i==="admin"?"/admin-login":"/login"}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:e})}function ScrollToTop(){const{pathname:e}=useLocation();return reactExports.useEffect(()=>{window.scrollTo(0,0)},[e]),null}function App(){return jsxRuntimeExports.jsx(AuthProvider,{children:jsxRuntimeExports.jsxs(BrowserRouter,{children:[jsxRuntimeExports.jsx(ScrollToTop,{}),jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(Home,{})}),jsxRuntimeExports.jsx(Route,{path:"/about",element:jsxRuntimeExports.jsx(About,{})}),jsxRuntimeExports.jsx(Route,{path:"/contact",element:jsxRuntimeExports.jsx(Contact,{})}),jsxRuntimeExports.jsx(Route,{path:"/terms",element:jsxRuntimeExports.jsx(Terms,{})}),jsxRuntimeExports.jsx(Route,{path:"/services/data-entry",element:jsxRuntimeExports.jsx(DataEntry,{})}),jsxRuntimeExports.jsx(Route,{path:"/services/data-processing",element:jsxRuntimeExports.jsx(DataProcessing,{})}),jsxRuntimeExports.jsx(Route,{path:"/services/data-analysis",element:jsxRuntimeExports.jsx(DataAnalysis,{})}),jsxRuntimeExports.jsx(Route,{path:"/admin-login",element:jsxRuntimeExports.jsx(AdminLogin,{})}),jsxRuntimeExports.jsx(Route,{path:"/login",element:jsxRuntimeExports.jsx(UserLogin,{})}),jsxRuntimeExports.jsx(Route,{path:"/admin/*",element:jsxRuntimeExports.jsx(ProtectedRoute,{role:"admin",children:jsxRuntimeExports.jsx(AdminDashboard,{})})}),jsxRuntimeExports.jsx(Route,{path:"/dashboard/*",element:jsxRuntimeExports.jsx(ProtectedRoute,{role:"user",children:jsxRuntimeExports.jsx(UserDashboard,{})})}),jsxRuntimeExports.jsx(Route,{path:"*",element:jsxRuntimeExports.jsx(NotFound,{})})]})]})})}const initializePDFJS=()=>{pdfjs.GlobalWorkerOptions.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.min.js`};initializePDFJS();createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));export{getDefaultExportFromCjs as g};
